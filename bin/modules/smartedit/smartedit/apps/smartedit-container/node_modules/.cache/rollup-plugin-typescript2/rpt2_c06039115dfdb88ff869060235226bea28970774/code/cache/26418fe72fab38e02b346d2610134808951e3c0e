{"code":"import { __decorate, __extends, __metadata } from \"tslib\";\r\n/*\r\n * Copyright (c) 2021 SAP SE or an SAP affiliate company. All rights reserved.\r\n */\r\nimport { CloneableUtils, GatewayProxied, IFeatureService, IToolbarServiceFactory, SeDowngradeService } from 'smarteditcommons';\r\n/** @internal */\r\nvar /* @ngInject */ FeatureService = /** @class */ (function (_super) {\r\n    __extends(/* @ngInject */ FeatureService, _super);\r\n    function /* @ngInject */ FeatureService(toolbarServiceFactory, cloneableUtils) {\r\n        var _this = _super.call(this, cloneableUtils) || this;\r\n        _this.toolbarServiceFactory = toolbarServiceFactory;\r\n        _this.features = [];\r\n        return _this;\r\n    }\r\n    /* @ngInject */ FeatureService.prototype.getFeatureProperty = function (featureKey, propertyName) {\r\n        var feature = this._getFeatureByKey(featureKey);\r\n        return Promise.resolve(feature ? feature[propertyName] : null);\r\n    };\r\n    /* @ngInject */ FeatureService.prototype.getFeatureKeys = function () {\r\n        return this.features.map(function (feature) { return feature.key; });\r\n    };\r\n    /* @ngInject */ FeatureService.prototype.addToolbarItem = function (configuration) {\r\n        var toolbar = this.toolbarServiceFactory.getToolbarService(configuration.toolbarId);\r\n        configuration.enablingCallback = function () {\r\n            this.addItems([configuration]);\r\n        }.bind(toolbar);\r\n        configuration.disablingCallback = function () {\r\n            this.removeItemByKey(configuration.key);\r\n        }.bind(toolbar);\r\n        return this.register(configuration);\r\n    };\r\n    /* @ngInject */ FeatureService.prototype._registerAliases = function (configuration) {\r\n        var feature = this._getFeatureByKey(configuration.key);\r\n        if (!feature) {\r\n            configuration.id = btoa(configuration.key);\r\n            this.features.push(configuration);\r\n        }\r\n        return Promise.resolve();\r\n    };\r\n    /* @ngInject */ FeatureService.prototype._getFeatureByKey = function (key) {\r\n        return this.features.find(function (feature) { return feature.key === key; });\r\n    };\r\n    /* @ngInject */ FeatureService = __decorate([\r\n        SeDowngradeService(IFeatureService),\r\n        GatewayProxied('_registerAliases', 'addToolbarItem', 'register', 'enable', 'disable', '_remoteEnablingFromInner', '_remoteDisablingFromInner', 'addDecorator', 'getFeatureProperty', 'addContextualMenuButton'),\r\n        __metadata(\"design:paramtypes\", [IToolbarServiceFactory,\r\n            CloneableUtils])\r\n    ], /* @ngInject */ FeatureService);\r\n    return /* @ngInject */ FeatureService;\r\n}(IFeatureService));\r\nexport { /* @ngInject */ FeatureService };\r\n//# sourceMappingURL=FeatureServiceOuter.js.map","references":["/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts"],"map":"{\"version\":3,\"file\":\"FeatureServiceOuter.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/services/perspectives/FeatureServiceOuter.ts\"],\"names\":[],\"mappings\":\";AAAA;;GAEG;AACH,OAAO,EACH,cAAc,EACd,cAAc,EAEd,eAAe,EAEf,sBAAsB,EACtB,kBAAkB,EACrB,MAAM,kBAAkB,CAAC;AAE1B,gBAAgB;AAchB;IAAoC,kDAAe;IAG/C,wCACY,qBAA6C,EACrD,cAA8B;QAFlC,YAII,kBAAM,cAAc,CAAC,SAExB;QALW,2BAAqB,GAArB,qBAAqB,CAAwB;QAIrD,KAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;;IACvB,CAAC;IAED,2DAAkB,GAAlB,UACI,UAAkB,EAClB,YAAmC;QAEnC,IAAM,OAAO,GAAG,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC,CAAC;QAClD,OAAO,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;IACnE,CAAC;IAED,uDAAc,GAAd;QACI,OAAO,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAC,OAAO,IAAK,OAAA,OAAO,CAAC,GAAG,EAAX,CAAW,CAAC,CAAC;IACvD,CAAC;IAED,uDAAc,GAAd,UAAe,aAA2B;QACtC,IAAM,OAAO,GAAG,IAAI,CAAC,qBAAqB,CAAC,iBAAiB,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;QACtF,aAAa,CAAC,gBAAgB,GAAG;YAC7B,IAAI,CAAC,QAAQ,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;QACnC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAEhB,aAAa,CAAC,iBAAiB,GAAG;YAC9B,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;QAC5C,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAEhB,OAAO,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC;IACxC,CAAC;IAES,yDAAgB,GAA1B,UAA2B,aAA8B;QACrD,IAAM,OAAO,GAAG,IAAI,CAAC,gBAAgB,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;QACzD,IAAI,CAAC,OAAO,EAAE;YACT,aAAqB,CAAC,EAAE,GAAG,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;YACpD,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;SACrC;QACD,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;IAC7B,CAAC;IAEO,yDAAgB,GAAxB,UAAyB,GAAW;QAChC,OAAO,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAC,OAAwB,IAAK,OAAA,OAAO,CAAC,GAAG,KAAK,GAAG,EAAnB,CAAmB,CAAC,CAAC;IACjF,CAAC;IA/CL;QAbC,kBAAkB,CAAC,eAAe,CAAC;QACnC,cAAc,CACX,kBAAkB,EAClB,gBAAgB,EAChB,UAAU,EACV,QAAQ,EACR,SAAS,EACT,0BAA0B,EAC1B,2BAA2B,EAC3B,cAAc,EACd,oBAAoB,EACpB,yBAAyB,CAC5B;yCAKsC,sBAAsB;YACrC,cAAc;sCA2CrC;IAAD,qCAAC;CAAA,AAhDD,CAAoC,eAAe,GAgDlD\"}","dts":{"name":"/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-container/services/perspectives/FeatureServiceOuter.d.ts","writeByteOrderMark":false,"text":"import { CloneableUtils, InternalFeature, IFeatureService, IToolbarItem, IToolbarServiceFactory } from 'smarteditcommons';\r\n/** @internal */\r\nexport declare class FeatureService extends IFeatureService {\r\n    private toolbarServiceFactory;\r\n    private features;\r\n    constructor(toolbarServiceFactory: IToolbarServiceFactory, cloneableUtils: CloneableUtils);\r\n    getFeatureProperty(featureKey: string, propertyName: keyof InternalFeature): Promise<string | string[] | (() => void)>;\r\n    getFeatureKeys(): string[];\r\n    addToolbarItem(configuration: IToolbarItem): Promise<void>;\r\n    protected _registerAliases(configuration: InternalFeature): Promise<void>;\r\n    private _getFeatureByKey;\r\n}\r\n"}}
