{"code":"import { __assign } from \"tslib\";\r\n/*\r\n * Copyright (c) 2021 SAP SE or an SAP affiliate company. All rights reserved.\r\n */\r\n/**\r\n * Copyright (c) 2019 SAP SE or an SAP affiliate company. All rights reserved.\r\n * @module smartutils\r\n */\r\nimport { HttpHeaders } from '@angular/common/http';\r\nimport * as lodash from 'lodash';\r\nimport { map } from 'rxjs/operators';\r\nimport { URIBuilder } from '../../utils';\r\n/** @internal */\r\nvar RestClient = /** @class */ (function () {\r\n    function RestClient(httpClient, url, identifierName) {\r\n        var _this = this;\r\n        this.httpClient = httpClient;\r\n        this.url = url;\r\n        this.identifierName = identifierName;\r\n        this.DEFAULT_HEADERS = { 'x-requested-with': 'Angular' };\r\n        this.DEFAULT_OPTIONS = { headers: {} };\r\n        // will activate response headers appending\r\n        this.metadataActivated = false;\r\n        /// ////////////////////////////////////////\r\n        /// INTERNAL METHODS NEEDED FOR GATEWAY ///\r\n        /// ////////////////////////////////////////\r\n        this.getMethodForSingleInstance = function (name) {\r\n            switch (name) {\r\n                case 'getById':\r\n                    return function (id, options) {\r\n                        if (options === void 0) { options = _this.DEFAULT_OPTIONS; }\r\n                        return _this.getById(id, options);\r\n                    };\r\n                case 'get':\r\n                    return function (searchParams, options) {\r\n                        if (options === void 0) { options = _this.DEFAULT_OPTIONS; }\r\n                        return _this.get(searchParams, options);\r\n                    };\r\n                case 'update':\r\n                    return function (payload, options) {\r\n                        if (options === void 0) { options = _this.DEFAULT_OPTIONS; }\r\n                        return _this.update(payload, options);\r\n                    };\r\n                case 'save':\r\n                    return function (payload, options) {\r\n                        if (options === void 0) { options = _this.DEFAULT_OPTIONS; }\r\n                        return _this.save(payload, options);\r\n                    };\r\n                case 'patch':\r\n                    return function (payload, options) {\r\n                        if (options === void 0) { options = _this.DEFAULT_OPTIONS; }\r\n                        return _this.patch(payload, options);\r\n                    };\r\n                case 'remove':\r\n                    return function (payload, options) {\r\n                        if (options === void 0) { options = _this.DEFAULT_OPTIONS; }\r\n                        return _this.remove(payload, options);\r\n                    };\r\n            }\r\n        };\r\n        this.getMethodForArray = function (name) {\r\n            switch (name) {\r\n                case 'query':\r\n                    return function (params, options) {\r\n                        if (options === void 0) { options = _this.DEFAULT_OPTIONS; }\r\n                        return _this.query(params, options);\r\n                    };\r\n            }\r\n        };\r\n    }\r\n    RestClient.prototype.getById = function (identifier, options) {\r\n        if (options === void 0) { options = this.DEFAULT_OPTIONS; }\r\n        return this.addHeadersToBody(this.httpClient.get(this.url + \"/\" + identifier, {\r\n            headers: this.buildRequestHeaders(options.headers || {}),\r\n            observe: 'response'\r\n        })).toPromise();\r\n    };\r\n    RestClient.prototype.get = function (searchParams, options) {\r\n        if (options === void 0) { options = this.DEFAULT_OPTIONS; }\r\n        var params = this.convertToTypeMapOfString(searchParams);\r\n        return this.addHeadersToBody(this.httpClient.get(this.interpolateParamsInURL(this.url, params), {\r\n            params: this.formatQueryString(this.determineTrueQueryStringParams(this.url, searchParams)),\r\n            headers: this.buildRequestHeaders(options.headers || {}),\r\n            observe: 'response'\r\n        })).toPromise();\r\n    };\r\n    RestClient.prototype.query = function (searchParams, options) {\r\n        if (options === void 0) { options = this.DEFAULT_OPTIONS; }\r\n        var params = searchParams ? this.convertToTypeMapOfString(searchParams) : searchParams;\r\n        return this.addHeadersToBody(this.httpClient.get(this.interpolateParamsInURL(this.url, params), {\r\n            params: this.formatQueryString(this.determineTrueQueryStringParams(this.url, searchParams)),\r\n            headers: this.buildRequestHeaders(options.headers || {}),\r\n            observe: 'response'\r\n        }))\r\n            .pipe(map(function (arr) { return arr || []; }))\r\n            .toPromise();\r\n    };\r\n    RestClient.prototype.page = function (pageable, options) {\r\n        if (options === void 0) { options = this.DEFAULT_OPTIONS; }\r\n        return (this.addHeadersToBody(this.httpClient.get(this.interpolateParamsInURL(this.url, pageable), {\r\n            params: this.formatQueryString(this.determineTrueQueryStringParams(this.url, pageable)),\r\n            headers: this.buildRequestHeaders(options.headers || {}),\r\n            observe: 'response'\r\n        }))\r\n            // force typing to accept the fact that a page is never null\r\n            .pipe(map(function (arr) { return arr; }))\r\n            .toPromise());\r\n    };\r\n    RestClient.prototype.update = function (payload, options) {\r\n        var _this = this;\r\n        if (options === void 0) { options = this.DEFAULT_OPTIONS; }\r\n        return this.performIdentifierCheck(payload)\r\n            .then(function () { return _this.buildUrlWithIdentifier(payload); })\r\n            .then(function (url) {\r\n            return _this.httpClient\r\n                .put(url, payload, {\r\n                headers: _this.buildRequestHeaders(options.headers || {})\r\n            })\r\n                .toPromise();\r\n        });\r\n    };\r\n    RestClient.prototype.save = function (payload, options) {\r\n        if (options === void 0) { options = this.DEFAULT_OPTIONS; }\r\n        return this.httpClient\r\n            .post(this.interpolateParamsInURL(this.url, payload), payload, {\r\n            headers: this.buildRequestHeaders(options.headers || {})\r\n        })\r\n            .toPromise();\r\n    };\r\n    RestClient.prototype.patch = function (payload, options) {\r\n        var _this = this;\r\n        if (options === void 0) { options = this.DEFAULT_OPTIONS; }\r\n        return this.performIdentifierCheck(payload)\r\n            .then(function () { return _this.buildUrlWithIdentifier(payload); })\r\n            .then(function (url) {\r\n            return _this.httpClient\r\n                .patch(url, payload, {\r\n                headers: _this.buildRequestHeaders(options.headers || {})\r\n            })\r\n                .toPromise();\r\n        });\r\n    };\r\n    RestClient.prototype.remove = function (payload, options) {\r\n        var _this = this;\r\n        if (options === void 0) { options = this.DEFAULT_OPTIONS; }\r\n        return this.performIdentifierCheck(payload)\r\n            .then(function () { return _this.buildUrlWithIdentifier(payload); })\r\n            .then(function (url) {\r\n            return _this.httpClient\r\n                .delete(url, { headers: _this.buildRequestHeaders(options.headers || {}) })\r\n                .toPromise();\r\n        });\r\n    };\r\n    RestClient.prototype.queryByPost = function (payload, searchParams, options) {\r\n        if (options === void 0) { options = this.DEFAULT_OPTIONS; }\r\n        var params = this.convertToTypeMapOfString(searchParams);\r\n        return this.httpClient\r\n            .post(this.interpolateParamsInURL(this.url, params), payload, {\r\n            params: this.formatQueryString(this.determineTrueQueryStringParams(this.url, searchParams)),\r\n            headers: this.buildRequestHeaders(options.headers || {})\r\n        })\r\n            .toPromise();\r\n    };\r\n    RestClient.prototype.activateMetadata = function () {\r\n        this.metadataActivated = true;\r\n    };\r\n    RestClient.prototype.convertToTypeMapOfString = function (searchParams) {\r\n        return lodash.mapValues(searchParams, function (val) { return String(val); });\r\n    };\r\n    RestClient.prototype.formatQueryString = function (_params) {\r\n        return this.sortByKeys(_params);\r\n    };\r\n    RestClient.prototype.addHeadersToBody = function (observable) {\r\n        var _this = this;\r\n        return observable.pipe(map(function (response) {\r\n            var data = response.body;\r\n            if (_this.metadataActivated && data) {\r\n                // used by @Cached annotation\r\n                data.headers = response.headers;\r\n            }\r\n            return data;\r\n        }));\r\n    };\r\n    /*\r\n     * interpolation URL placeholders interpolation with potential matches in queryString\r\n     */\r\n    RestClient.prototype.interpolateParamsInURL = function (_url, payload) {\r\n        // only keep params to be found in the URI or query params\r\n        if (payload && typeof payload !== 'string') {\r\n            return new URIBuilder(_url).replaceParams(payload).sanitize().build();\r\n        }\r\n        else {\r\n            return _url;\r\n        }\r\n    };\r\n    /*\r\n     * remove from queryString any param needed for URL placeholders interpolation\r\n     */\r\n    RestClient.prototype.determineTrueQueryStringParams = function (url, payload) {\r\n        return typeof payload === 'object'\r\n            ? Object.keys(payload).reduce(function (prev, next) {\r\n                if (!new RegExp(':' + next + '/').test(url) &&\r\n                    !new RegExp(':' + next + '$').test(url) &&\r\n                    !new RegExp(':' + next + '&').test(url) &&\r\n                    !lodash.isNil(payload[next])) {\r\n                    prev[next] = payload[next];\r\n                }\r\n                return prev;\r\n            }, {})\r\n            : {};\r\n    };\r\n    RestClient.prototype.sortByKeys = function (obj) {\r\n        var keys = lodash.sortBy(lodash.keys(obj), function (key) { return key; });\r\n        return lodash.zipObject(keys, lodash.map(keys, function (key) { return obj[key]; }));\r\n    };\r\n    RestClient.prototype.performIdentifierCheck = function (payload) {\r\n        var identifier = typeof payload === 'string' ? payload : payload[this.identifierName];\r\n        if (!identifier) {\r\n            return Promise.reject('no data was found under the ' +\r\n                identifier +\r\n                ' field of object ' +\r\n                JSON.stringify(payload) +\r\n                ', it is necessary for update and remove operations');\r\n        }\r\n        return Promise.resolve();\r\n    };\r\n    RestClient.prototype.buildUrlWithIdentifier = function (payload) {\r\n        var identifier = typeof payload === 'string' ? payload : payload[this.identifierName];\r\n        var url = this.interpolateParamsInURL(\"\" + this.url, payload);\r\n        url =\r\n            url.includes('?') || this.url.includes(':' + this.identifierName)\r\n                ? url\r\n                : url + \"/\" + identifier;\r\n        return Promise.resolve(url);\r\n    };\r\n    RestClient.prototype.buildRequestHeaders = function (headers) {\r\n        return new HttpHeaders(__assign(__assign({}, this.DEFAULT_HEADERS), headers));\r\n    };\r\n    return RestClient;\r\n}());\r\nexport { RestClient };\r\n//# sourceMappingURL=rest-client.js.map","references":["/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular/common@8.2.14_@angular+core@8.2.14+rxjs@6.5.4/node_modules/@angular/common/http.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@types/lodash@4.14.159/node_modules/@types/lodash/ts3.1/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/rxjs@6.5.4/node_modules/rxjs/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/rxjs@6.5.4/node_modules/rxjs/operators/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smart-utils/src/dtos/index.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smart-utils/src/utils/index.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smart-utils/src/services/rest/i-rest-service.ts"],"map":"{\"version\":3,\"file\":\"rest-client.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/services/rest/rest-client.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smart-utils/services/rest/rest-client.d.ts","writeByteOrderMark":false,"text":"/**\r\n * Copyright (c) 2019 SAP SE or an SAP affiliate company. All rights reserved.\r\n * @module smartutils\r\n */\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Page, Pageable, Payload } from '../../dtos';\r\nimport { IRestOptions, IRestService, SearchParams } from './i-rest-service';\r\nexport declare type ObjectWithHeaders<T> = T & {\r\n    headers?: HttpHeaders;\r\n};\r\n/** @internal */\r\nexport declare class RestClient<T> implements IRestService<T> {\r\n    private httpClient;\r\n    readonly url: string;\r\n    private identifierName;\r\n    private readonly DEFAULT_HEADERS;\r\n    private readonly DEFAULT_OPTIONS;\r\n    private metadataActivated;\r\n    constructor(httpClient: HttpClient, url: string, identifierName: string);\r\n    getById<S extends T = T>(identifier: string, options?: IRestOptions): Promise<ObjectWithHeaders<S> | null>;\r\n    get<S extends T = T>(searchParams: SearchParams, options?: IRestOptions): Promise<ObjectWithHeaders<S> | null>;\r\n    query<S extends T = T>(searchParams?: SearchParams, options?: IRestOptions): Promise<ObjectWithHeaders<S[]>>;\r\n    page<S extends Page<T>>(pageable: Pageable, options?: IRestOptions): Promise<ObjectWithHeaders<S>>;\r\n    update<S extends T = T>(payload: Payload, options?: IRestOptions): Promise<S>;\r\n    save<S extends T = T>(payload: Payload, options?: IRestOptions): Promise<S>;\r\n    patch<S extends T = T>(payload: Payload, options?: IRestOptions): Promise<S>;\r\n    remove(payload: string | Payload, options?: IRestOptions): Promise<any>;\r\n    queryByPost<S extends T = T>(payload: Payload, searchParams: SearchParams, options?: IRestOptions): Promise<ObjectWithHeaders<S> | null>;\r\n    getMethodForSingleInstance: (name: 'getById' | 'get' | 'update' | 'save' | 'remove' | 'patch') => (params: any) => Promise<any>;\r\n    getMethodForArray: (name: 'query') => (params: SearchParams) => Promise<T[] | null>;\r\n    activateMetadata(): void;\r\n    private convertToTypeMapOfString;\r\n    private formatQueryString;\r\n    private addHeadersToBody;\r\n    private interpolateParamsInURL;\r\n    private determineTrueQueryStringParams;\r\n    private sortByKeys;\r\n    private performIdentifierCheck;\r\n    private buildUrlWithIdentifier;\r\n    private buildRequestHeaders;\r\n}\r\n"}}
