{"code":"/*\r\n * Copyright (c) 2021 SAP SE or an SAP affiliate company. All rights reserved.\r\n */\r\nimport { defaultsDeep } from 'lodash';\r\nimport { SliderPanelZIndexHelper } from './SliderPanelZIndexHelper';\r\n/**\r\n * The SliderPanelService handles the initialization and the rendering of the se-slider-panel Angular component.\r\n */\r\nvar SliderPanelService = /** @class */ (function () {\r\n    function SliderPanelService(element, window, configuration, yjQuery) {\r\n        this.element = element;\r\n        this.window = window;\r\n        this.configuration = configuration;\r\n        this.yjQuery = yjQuery;\r\n        this.inlineStyling = { container: {}, content: {} };\r\n        this.sliderPanelDefaultConfiguration = {\r\n            slideFrom: 'right',\r\n            overlayDimension: '80%'\r\n        };\r\n        this.init();\r\n    }\r\n    /**\r\n     * This method sets the inline styling applied to the slider panel container according to the dimension and position values\r\n     * of the parent element.\r\n     */\r\n    SliderPanelService.prototype.updateContainerInlineStyling = function (screenResized) {\r\n        var parentClientRect = this.parent[0].getBoundingClientRect();\r\n        var borders = {\r\n            left: this.parent.css('border-left-width')\r\n                ? parseInt(this.parent.css('border-left-width').replace('px', ''), 10)\r\n                : 0,\r\n            top: this.parent.css('border-top-width')\r\n                ? parseInt(this.parent.css('border-top-width').replace('px', ''), 10)\r\n                : 0\r\n        };\r\n        this.inlineStyling.container.height = this.parent[0].clientHeight + 'px';\r\n        this.inlineStyling.container.width = this.parent[0].clientWidth + 'px';\r\n        this.inlineStyling.container.left =\r\n            (this.appendChildTarget.nodeName === 'BODY'\r\n                ? Math.round(parentClientRect.left + this.window.pageXOffset + borders.left)\r\n                : 0) + 'px';\r\n        this.inlineStyling.container.top =\r\n            (this.appendChildTarget.nodeName === 'BODY'\r\n                ? Math.round(parentClientRect.top + this.window.pageYOffset + borders.top)\r\n                : 0) + 'px';\r\n        // z-index value is not set during screen resize\r\n        if (!screenResized) {\r\n            this.inlineStyling.container.zIndex = this.sliderPanelConfiguration.zIndex\r\n                ? this.sliderPanelConfiguration.zIndex.toString()\r\n                : (this.returningHigherZIndex() + 1).toString();\r\n        }\r\n    };\r\n    SliderPanelService.prototype.returningHigherZIndex = function () {\r\n        return new SliderPanelZIndexHelper().getHighestZIndex(this.yjQuery('body'));\r\n    };\r\n    SliderPanelService.prototype.initializeParentRawElement = function () {\r\n        // instantiating \"parent\" local variable\r\n        var parentRawElement = this.sliderPanelConfiguration.cssSelector\r\n            ? document.querySelector(this.sliderPanelConfiguration.cssSelector)\r\n            : null;\r\n        this.parent = this.yjQuery(parentRawElement || this.element.parent());\r\n    };\r\n    SliderPanelService.prototype.initializePanelConfiguration = function () {\r\n        // defining the configuration set on the processed slider panel by merging the JSON object provided as parameter\r\n        // with the default configuration\r\n        this.sliderPanelConfiguration = defaultsDeep(this.configuration, this.sliderPanelDefaultConfiguration);\r\n    };\r\n    SliderPanelService.prototype.initializeInlineStyles = function () {\r\n        // setting the inline styling applied on the slider panel content according to its configuration.\r\n        var key = ['top', 'bottom'].indexOf(this.sliderPanelConfiguration.slideFrom) === -1\r\n            ? 'width'\r\n            : 'height';\r\n        this.inlineStyling.content[key] = this.sliderPanelConfiguration.overlayDimension;\r\n    };\r\n    SliderPanelService.prototype.initializeChildTarget = function () {\r\n        // instantiating \"appendChildTarget\" local variable\r\n        var testedElement = this.parent;\r\n        var modalFound = false;\r\n        var i = 0;\r\n        for (i; testedElement[0].nodeName !== 'BODY'; testedElement = this.yjQuery(testedElement.parent()), i++) {\r\n            var isFundamentalModal = (testedElement[0].getAttribute('class') || '').includes('fd-modal__content');\r\n            var isLegacyModal = testedElement[0].getAttribute('id') === 'y-modal-dialog';\r\n            if (isFundamentalModal || isLegacyModal) {\r\n                modalFound = true;\r\n                break;\r\n            }\r\n        }\r\n        this.appendChildTarget = modalFound ? testedElement[0] : document.body;\r\n    };\r\n    SliderPanelService.prototype.append = function () {\r\n        // appending the slider panel HTML tag as last child of the HTML body tag.\r\n        this.yjQuery(this.appendChildTarget).append(this.element[0]);\r\n    };\r\n    SliderPanelService.prototype.init = function () {\r\n        this.initializePanelConfiguration();\r\n        this.initializeParentRawElement();\r\n        this.initializeInlineStyles();\r\n        this.initializeChildTarget();\r\n        this.append();\r\n    };\r\n    return SliderPanelService;\r\n}());\r\nexport { SliderPanelService };\r\n//# sourceMappingURL=SliderPanelService.js.map","references":["/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@types/lodash@4.14.159/node_modules/@types/lodash/ts3.1/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/components/sliderPanel/interfaces.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/components/sliderPanel/SliderPanelZIndexHelper.ts"],"map":"{\"version\":3,\"file\":\"SliderPanelService.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/components/sliderPanel/SliderPanelService.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/components/sliderPanel/SliderPanelService.d.ts","writeByteOrderMark":false,"text":"/// <reference types=\"angular\" />\r\n/// <reference types=\"jquery\" />\r\n/// <reference types=\"eonasdan-bootstrap-datetimepicker\" />\r\nimport { SliderPanelConfiguration } from './interfaces';\r\n/**\r\n * The SliderPanelService handles the initialization and the rendering of the se-slider-panel Angular component.\r\n */\r\nexport declare class SliderPanelService {\r\n    private element;\r\n    private window;\r\n    private configuration;\r\n    private yjQuery;\r\n    sliderPanelConfiguration: SliderPanelConfiguration;\r\n    inlineStyling: {\r\n        container: CSSStyleDeclaration;\r\n        content: CSSStyleDeclaration;\r\n    };\r\n    private sliderPanelDefaultConfiguration;\r\n    private parent;\r\n    private appendChildTarget;\r\n    constructor(element: JQuery, window: Window, configuration: SliderPanelConfiguration, yjQuery: JQueryStatic);\r\n    /**\r\n     * This method sets the inline styling applied to the slider panel container according to the dimension and position values\r\n     * of the parent element.\r\n     */\r\n    updateContainerInlineStyling(screenResized: boolean): void;\r\n    private returningHigherZIndex;\r\n    private initializeParentRawElement;\r\n    private initializePanelConfiguration;\r\n    private initializeInlineStyles;\r\n    private initializeChildTarget;\r\n    private append;\r\n    private init;\r\n}\r\n"}}
