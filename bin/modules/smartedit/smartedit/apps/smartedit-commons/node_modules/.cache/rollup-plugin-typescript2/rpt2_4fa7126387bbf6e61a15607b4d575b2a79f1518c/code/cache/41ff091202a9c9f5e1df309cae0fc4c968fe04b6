{"code":"import { __awaiter, __decorate, __generator } from \"tslib\";\r\nimport { SeFilter } from 'smarteditcommons/di/SeFilter';\r\nimport { SWITCH_LANGUAGE_EVENT } from 'smarteditcommons/utils/smarteditconstants';\r\nimport { getLocalizedFilterFn } from '../../pipes/l10n/L10nPipe';\r\n/**\r\n * @internal\r\n * @ignore\r\n */\r\nfunction getInitialFilterFn() {\r\n    return (function (str) { return str; });\r\n}\r\nexport function setupL10nFilter(languageService, crossFrameEventService) {\r\n    var l10n;\r\n    function prepareFilter() {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var resolvedLanguage;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        l10n = getInitialFilterFn();\r\n                        l10n.$stateful = false;\r\n                        return [4 /*yield*/, languageService.getResolveLocaleIsoCode()];\r\n                    case 1:\r\n                        resolvedLanguage = _a.sent();\r\n                        l10n = getLocalizedFilterFn(resolvedLanguage);\r\n                        l10n.$stateful = false;\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    }\r\n    prepareFilter();\r\n    crossFrameEventService.subscribe(SWITCH_LANGUAGE_EVENT, prepareFilter);\r\n    return function (localizedMap) { return l10n(localizedMap); };\r\n}\r\n/**\r\n * **Deprecated since 2005, use {@link L10nPipe}.**\r\n *\r\n * Filter that accepts a localized map as input and returns the value corresponding to the resolvedLocale of {@link SmarteditCommonsModule} and defaults to the first entry.\r\n *\r\n * This class serves as an interface and should be extended, not instantiated.\r\n *\r\n * ### Parameters\r\n *\r\n * `l10n` - localizedMap the map of language isocodes / values\r\n *\r\n * @deprecated\r\n */\r\nvar L10nFilter = /** @class */ (function () {\r\n    function L10nFilter() {\r\n    }\r\n    L10nFilter.transform = function (languageService, crossFrameEventService) {\r\n        'ngInject';\r\n        return setupL10nFilter(languageService, crossFrameEventService);\r\n    };\r\n    L10nFilter = __decorate([\r\n        SeFilter()\r\n    ], L10nFilter);\r\n    return L10nFilter;\r\n}());\r\nexport { L10nFilter };\r\n//# sourceMappingURL=L10nFilter.js.map","references":["/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smart-utils/dist/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/di/SeFilter.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/utils/smarteditconstants.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/pipes/l10n/L10nPipe.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/services/crossFrame/CrossFrameEventService.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/services/language/LanguageService.ts"],"map":"{\"version\":3,\"file\":\"L10nFilter.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/services/filters/L10nFilter.ts\"],\"names\":[],\"mappings\":\";AAIA,OAAO,EAAE,QAAQ,EAAE,MAAM,8BAA8B,CAAC;AACxD,OAAO,EAAE,qBAAqB,EAAE,MAAM,2CAA2C,CAAC;AAClF,OAAO,EAAE,oBAAoB,EAAoB,MAAM,2BAA2B,CAAC;AAQnF;;;GAGG;AACH,SAAS,kBAAkB;IACvB,OAAO,CAAC,UAAC,GAA8B,IAAgC,OAAA,GAAG,EAAH,CAAG,CAAiB,CAAC;AAChG,CAAC;AAED,MAAM,UAAU,eAAe,CAC3B,eAAgC,EAChC,sBAA8C;IAE9C,IAAI,IAAkB,CAAC;IAEvB,SAAe,aAAa;;;;;;wBACxB,IAAI,GAAG,kBAAkB,EAAE,CAAC;wBAC5B,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;wBAEE,qBAAM,eAAe,CAAC,uBAAuB,EAAE,EAAA;;wBAAlE,gBAAgB,GAAG,SAA+C;wBACxE,IAAI,GAAG,oBAAoB,CAAC,gBAAgB,CAAiB,CAAC;wBAC9D,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;;;;;KAC1B;IACD,aAAa,EAAE,CAAC;IAEhB,sBAAsB,CAAC,SAAS,CAAC,qBAAqB,EAAE,aAAa,CAAC,CAAC;IAEvE,OAAO,UAAC,YAAuC,IAAa,OAAA,IAAI,CAAC,YAAY,CAAC,EAAlB,CAAkB,CAAC;AACnF,CAAC;AAED;;;;;;;;;;;;GAYG;AAEH;IAAA;IASA,CAAC;IARiB,oBAAS,GAAvB,UACI,eAAgC,EAChC,sBAA8C;QAE9C,UAAU,CAAC;QAEX,OAAO,eAAe,CAAC,eAAe,EAAE,sBAAsB,CAAC,CAAC;IACpE,CAAC;IARQ,UAAU;QADtB,QAAQ,EAAE;OACE,UAAU,CAStB;IAAD,iBAAC;CAAA,AATD,IASC;SATY,UAAU\"}","dts":{"name":"/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/services/filters/L10nFilter.d.ts","writeByteOrderMark":false,"text":"import { TypedMap } from '@smart/utils';\r\nimport { L10nPipeFilterFn } from '../../pipes/l10n/L10nPipe';\r\nimport { CrossFrameEventService } from '../crossFrame/CrossFrameEventService';\r\nimport { LanguageService } from '../language/LanguageService';\r\nexport interface L10nFilterFn extends L10nPipeFilterFn {\r\n    $stateful: boolean;\r\n}\r\nexport declare function setupL10nFilter(languageService: LanguageService, crossFrameEventService: CrossFrameEventService): (localizedMap: TypedMap<string> | string) => string;\r\n/**\r\n * **Deprecated since 2005, use {@link L10nPipe}.**\r\n *\r\n * Filter that accepts a localized map as input and returns the value corresponding to the resolvedLocale of {@link SmarteditCommonsModule} and defaults to the first entry.\r\n *\r\n * This class serves as an interface and should be extended, not instantiated.\r\n *\r\n * ### Parameters\r\n *\r\n * `l10n` - localizedMap the map of language isocodes / values\r\n *\r\n * @deprecated\r\n */\r\nexport declare class L10nFilter {\r\n    static transform(languageService: LanguageService, crossFrameEventService: CrossFrameEventService): (localizedMap: TypedMap<string> | string) => TypedMap<string> | string;\r\n}\r\n"}}
