{"code":"import { __assign, __awaiter, __decorate, __generator, __metadata, __spreadArrays } from \"tslib\";\r\nimport { Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport { take } from 'rxjs/operators';\r\nimport { dateUtils, urlUtils, EVENTS, ICatalogService, IExperienceService, IIframeClickDetectionService, ISharedDataService, PREVIEW_RESOURCE_URI, SeDowngradeComponent, SystemEventService, TYPES_RESOURCE_URI, L10nPipe, EXPERIENCE_STORAGE_KEY } from 'smarteditcommons';\r\nimport { IframeManagerService } from '../../services/iframe/IframeManagerService';\r\nimport { SiteService } from '../../services/SiteService';\r\nwindow.__smartedit__.addDecoratorPayload(\"Component\", \"ExperienceSelectorComponent\", {\r\n    selector: 'se-experience-selector',\r\n    template: \"<se-generic-editor *ngIf=\\\"isReady\\\" [smarteditComponentType]=\\\"smarteditComponentType\\\" [smarteditComponentId]=\\\"smarteditComponentId\\\" [structureApi]=\\\"structureApi\\\" [content]=\\\"content\\\" [contentApi]=\\\"contentApi\\\" (getApi)=\\\"getApi($event)\\\"></se-generic-editor>\",\r\n    providers: [L10nPipe]\r\n});\r\nvar /* @ngInject */ ExperienceSelectorComponent = /** @class */ (function () {\r\n    function /* @ngInject */ ExperienceSelectorComponent(systemEventService, siteService, sharedDataService, iframeClickDetectionService, iframeManagerService, experienceService, catalogService, l10nPipe) {\r\n        this.systemEventService = systemEventService;\r\n        this.siteService = siteService;\r\n        this.sharedDataService = sharedDataService;\r\n        this.iframeClickDetectionService = iframeClickDetectionService;\r\n        this.iframeManagerService = iframeManagerService;\r\n        this.experienceService = experienceService;\r\n        this.catalogService = catalogService;\r\n        this.l10nPipe = l10nPipe;\r\n        this.resetExperienceSelectorChange = new EventEmitter();\r\n        this.modalHeaderTitle = 'se.experience.selector.header';\r\n        this.siteCatalogs = {};\r\n    }\r\n    /* @ngInject */ ExperienceSelectorComponent.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        setTimeout(function () {\r\n            _this.resetExperienceSelectorChange.emit(function () { return _this.resetExperienceSelectorFn(); });\r\n        });\r\n        this.unRegCloseExperienceFn = this.iframeClickDetectionService.registerCallback('closeExperienceSelector', function () {\r\n            if (_this.dropdownStatus && _this.dropdownStatus.isOpen) {\r\n                _this.dropdownStatus.isOpen = false;\r\n            }\r\n        });\r\n        this.unRegFn = this.systemEventService.subscribe('OVERLAY_DISABLED', function () {\r\n            if (_this.dropdownStatus && _this.dropdownStatus.isOpen) {\r\n                _this.dropdownStatus.isOpen = false;\r\n            }\r\n        });\r\n    };\r\n    /* @ngInject */ ExperienceSelectorComponent.prototype.ngOnDestroy = function () {\r\n        if (this.unRegFn) {\r\n            this.unRegFn();\r\n        }\r\n        if (this.unRegCloseExperienceFn) {\r\n            this.unRegCloseExperienceFn();\r\n        }\r\n    };\r\n    /* @ngInject */ ExperienceSelectorComponent.prototype.preparePayload = function (experienceContent) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var productCatalogs, domain, _a, previewUrl, siteId, language, time, pageId, productCatalogVersions;\r\n            var _b;\r\n            return __generator(this, function (_c) {\r\n                switch (_c.label) {\r\n                    case 0:\r\n                        _b = experienceContent.previewCatalog.split('|'), this.siteCatalogs.siteId = _b[0], this.siteCatalogs.catalogId = _b[1], this.siteCatalogs.catalogVersion = _b[2];\r\n                        return [4 /*yield*/, this.catalogService.getProductCatalogsForSite(this.siteCatalogs.siteId)];\r\n                    case 1:\r\n                        productCatalogs = _c.sent();\r\n                        return [4 /*yield*/, this.sharedDataService.get('configuration')];\r\n                    case 2:\r\n                        domain = (_c.sent()).domain;\r\n                        return [4 /*yield*/, this.siteService.getSiteById(this.siteCatalogs.siteId)];\r\n                    case 3:\r\n                        _a = _c.sent(), previewUrl = _a.previewUrl, siteId = _a.uid;\r\n                        language = experienceContent.language, time = experienceContent.time, pageId = experienceContent.pageId, productCatalogVersions = experienceContent.productCatalogVersions;\r\n                        this.siteCatalogs.productCatalogs = productCatalogs;\r\n                        this.siteCatalogs.productCatalogVersions = productCatalogVersions;\r\n                        return [2 /*return*/, __assign(__assign({}, experienceContent), { resourcePath: urlUtils.getAbsoluteURL(domain, previewUrl), catalogVersions: __spreadArrays(this._getProductCatalogsByUuids(productCatalogVersions), [\r\n                                    {\r\n                                        catalog: this.siteCatalogs.catalogId,\r\n                                        catalogVersion: this.siteCatalogs.catalogVersion\r\n                                    }\r\n                                ]), siteId: siteId,\r\n                                language: language,\r\n                                time: time,\r\n                                pageId: pageId })];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /* @ngInject */ ExperienceSelectorComponent.prototype.updateCallback = function (payload, response) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _a, siteId, catalogId, catalogVersion, productCatalogVersions, time, pageId, language, ticketId, experienceParams, experience;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        _a = this.siteCatalogs, siteId = _a.siteId, catalogId = _a.catalogId, catalogVersion = _a.catalogVersion, productCatalogVersions = _a.productCatalogVersions;\r\n                        time = payload.time;\r\n                        pageId = response.pageId, language = response.language, ticketId = response.ticketId;\r\n                        this.smarteditComponentId = null;\r\n                        this.dropdownStatus.isOpen = false;\r\n                        experienceParams = __assign(__assign({}, response), { siteId: siteId,\r\n                            catalogId: catalogId,\r\n                            catalogVersion: catalogVersion,\r\n                            productCatalogVersions: productCatalogVersions, time: dateUtils.formatDateAsUtc(time), pageId: pageId,\r\n                            language: language });\r\n                        return [4 /*yield*/, this.experienceService.buildAndSetExperience(experienceParams)];\r\n                    case 1:\r\n                        experience = _b.sent();\r\n                        return [4 /*yield*/, this.sharedDataService.set(EXPERIENCE_STORAGE_KEY, experience)];\r\n                    case 2:\r\n                        _b.sent();\r\n                        this.systemEventService.publishAsync(EVENTS.EXPERIENCE_UPDATE);\r\n                        this.iframeManagerService.loadPreview(experience.siteDescriptor.previewUrl, ticketId);\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /* @ngInject */ ExperienceSelectorComponent.prototype.getApi = function ($api) {\r\n        var _this = this;\r\n        $api.setPreparePayload(this.preparePayload.bind(this));\r\n        $api.setUpdateCallback(this.updateCallback.bind(this));\r\n        $api.setAlwaysShowSubmit(true);\r\n        $api.setAlwaysShowReset(true);\r\n        $api.setSubmitButtonText('se.componentform.actions.apply');\r\n        $api.setCancelButtonText('se.componentform.actions.cancel');\r\n        $api.setOnReset(function () {\r\n            _this.dropdownStatus.isOpen = false;\r\n            return _this.dropdownStatus.isOpen;\r\n        });\r\n    };\r\n    /* @ngInject */ ExperienceSelectorComponent.prototype._getProductCatalogsByUuids = function (versionUuids) {\r\n        return this.siteCatalogs.productCatalogs.map(function (_a) {\r\n            var versions = _a.versions, catalogId = _a.catalogId;\r\n            return ({\r\n                catalogVersion: versions.find(function (_a) {\r\n                    var uuid = _a.uuid;\r\n                    return versionUuids.indexOf(uuid) > -1;\r\n                }).version,\r\n                catalog: catalogId\r\n            });\r\n        });\r\n    };\r\n    /* @ngInject */ ExperienceSelectorComponent.prototype.resetExperienceSelectorFn = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var experience, configuration, activeSiteTranslated;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.sharedDataService.get(EXPERIENCE_STORAGE_KEY)];\r\n                    case 1:\r\n                        experience = (_a.sent());\r\n                        return [4 /*yield*/, this.sharedDataService.get('configuration')];\r\n                    case 2:\r\n                        configuration = (_a.sent());\r\n                        this.smarteditComponentType = 'PreviewData';\r\n                        this.smarteditComponentId = null;\r\n                        this.structureApi = TYPES_RESOURCE_URI + '?code=:smarteditComponentType&mode=DEFAULT';\r\n                        this.contentApi = (configuration && configuration.previewTicketURI) || PREVIEW_RESOURCE_URI;\r\n                        return [4 /*yield*/, this.l10nPipe\r\n                                .transform(experience.siteDescriptor.name)\r\n                                .pipe(take(1))\r\n                                .toPromise()];\r\n                    case 3:\r\n                        activeSiteTranslated = _a.sent();\r\n                        this.content = __assign(__assign({}, experience), { activeSite: activeSiteTranslated, time: experience.time, pageId: experience.pageId, productCatalogVersions: experience.productCatalogVersions.map(function (productCatalogVersion) { return productCatalogVersion.uuid; }), language: experience.languageDescriptor.isocode, previewCatalog: experience.siteDescriptor.uid + \"|\" + experience.catalogDescriptor.catalogId + \"|\" + experience.catalogDescriptor.catalogVersion });\r\n                        if (!this.isReady) {\r\n                            this.isReady = true;\r\n                        }\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    __decorate([\r\n        Input(),\r\n        __metadata(\"design:type\", Object)\r\n    ], /* @ngInject */ ExperienceSelectorComponent.prototype, \"experience\", void 0);\r\n    __decorate([\r\n        Input(),\r\n        __metadata(\"design:type\", Object)\r\n    ], /* @ngInject */ ExperienceSelectorComponent.prototype, \"dropdownStatus\", void 0);\r\n    __decorate([\r\n        Input(),\r\n        __metadata(\"design:type\", Function)\r\n    ], /* @ngInject */ ExperienceSelectorComponent.prototype, \"resetExperienceSelector\", void 0);\r\n    __decorate([\r\n        Output(),\r\n        __metadata(\"design:type\", EventEmitter)\r\n    ], /* @ngInject */ ExperienceSelectorComponent.prototype, \"resetExperienceSelectorChange\", void 0);\r\n    /* @ngInject */ ExperienceSelectorComponent = __decorate([\r\n        SeDowngradeComponent(),\r\n        Component({\r\n            selector: 'se-experience-selector',\r\n            template: \"<se-generic-editor *ngIf=\\\"isReady\\\" [smarteditComponentType]=\\\"smarteditComponentType\\\" [smarteditComponentId]=\\\"smarteditComponentId\\\" [structureApi]=\\\"structureApi\\\" [content]=\\\"content\\\" [contentApi]=\\\"contentApi\\\" (getApi)=\\\"getApi($event)\\\"></se-generic-editor>\",\r\n            providers: [L10nPipe]\r\n        }),\r\n        __metadata(\"design:paramtypes\", [SystemEventService,\r\n            SiteService,\r\n            ISharedDataService,\r\n            IIframeClickDetectionService,\r\n            IframeManagerService,\r\n            IExperienceService,\r\n            ICatalogService,\r\n            L10nPipe])\r\n    ], /* @ngInject */ ExperienceSelectorComponent);\r\n    return /* @ngInject */ ExperienceSelectorComponent;\r\n}());\r\nexport { /* @ngInject */ ExperienceSelectorComponent };\r\n//# sourceMappingURL=ExperienceSelectorComponent.js.map","references":["/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular/core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/rxjs@6.5.4/node_modules/rxjs/operators/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-container/src/services/iframe/IframeManagerService.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-container/src/services/SiteService.ts"],"map":"{\"version\":3,\"file\":\"ExperienceSelectorComponent.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/components/experienceSelector/ExperienceSelectorComponent.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-container/components/experienceSelector/ExperienceSelectorComponent.d.ts","writeByteOrderMark":false,"text":"import { EventEmitter } from '@angular/core';\r\nimport { GenericEditorAPI, ICatalogService, IExperience, IExperienceService, IIframeClickDetectionService, IPreviewData, ISharedDataService, Payload, SystemEventService, L10nPipe } from 'smarteditcommons';\r\nimport { IframeManagerService } from '../../services/iframe/IframeManagerService';\r\nimport { SiteService } from '../../services/SiteService';\r\nexport interface IExperienceContent extends Payload {\r\n    activeSite: string;\r\n    language: string;\r\n    pageId: string;\r\n    previewCatalog: string;\r\n    productCatalogVersions: string[];\r\n    time: string;\r\n}\r\nexport declare class ExperienceSelectorComponent {\r\n    private systemEventService;\r\n    private siteService;\r\n    private sharedDataService;\r\n    private iframeClickDetectionService;\r\n    private iframeManagerService;\r\n    private experienceService;\r\n    private catalogService;\r\n    private l10nPipe;\r\n    experience: IExperience;\r\n    dropdownStatus: {\r\n        isOpen: boolean;\r\n    };\r\n    resetExperienceSelector?: () => void;\r\n    resetExperienceSelectorChange: EventEmitter<() => void>;\r\n    smarteditComponentType: string;\r\n    structureApi: string;\r\n    contentApi: string;\r\n    content: IExperienceContent;\r\n    modalHeaderTitle: string;\r\n    smarteditComponentId: string;\r\n    isReady: boolean;\r\n    private siteCatalogs;\r\n    private unRegCloseExperienceFn;\r\n    private unRegFn;\r\n    constructor(systemEventService: SystemEventService, siteService: SiteService, sharedDataService: ISharedDataService, iframeClickDetectionService: IIframeClickDetectionService, iframeManagerService: IframeManagerService, experienceService: IExperienceService, catalogService: ICatalogService, l10nPipe: L10nPipe);\r\n    ngOnInit(): void;\r\n    ngOnDestroy(): void;\r\n    preparePayload(experienceContent: IExperienceContent): Promise<IPreviewData>;\r\n    updateCallback(payload: IExperienceContent, response: IPreviewData): Promise<void>;\r\n    getApi($api: GenericEditorAPI): void;\r\n    private _getProductCatalogsByUuids;\r\n    private resetExperienceSelectorFn;\r\n}\r\n"}}
