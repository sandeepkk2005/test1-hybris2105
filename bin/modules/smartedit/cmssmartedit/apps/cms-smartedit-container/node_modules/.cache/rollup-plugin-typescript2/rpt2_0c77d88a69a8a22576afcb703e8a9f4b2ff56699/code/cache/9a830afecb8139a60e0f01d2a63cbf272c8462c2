{"code":"import { __decorate } from \"tslib\";\r\n/*\r\n * Copyright (c) 2021 SAP SE or an SAP affiliate company. All rights reserved.\r\n */\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { PopoverModule } from '@fundamental-ngx/core';\r\nimport { CrossFrameEventService, IPageInfoService, moduleUtils, TranslationModule, EVENTS, INotificationService, SmarteditRoutingService, NG_ROUTE_PREFIX, STORE_FRONT_CONTEXT, InfiniteScrollingModule, MoreTextModule, CollapsibleContainerModule, PopupOverlayModule, TooltipModule, DropdownMenuModule, HasOperationPermissionDirectiveModule, SpinnerModule, TabsModule, L10nPipeModule, L10nPipe } from 'smarteditcommons';\r\nimport { PageApprovalSelectorComponent } from './components/pageApprovalSelector/PageApprovalSelectorComponent';\r\nimport { PageDisplayStatusComponent } from './components/pageDisplayStatus/PageDisplayStatusComponent';\r\nimport { PageDisplayStatusWrapperComponent } from './components/pageDisplayStatus/PageDisplayStatusWrapperComponent';\r\nimport { PageStatusComponent } from './components/pageDisplayStatus/pageStatus/PageStatusComponent';\r\nimport { PageWorkflowMenuComponent } from './components/pageWorkflowMenu/PageWorkflowMenuComponent';\r\nimport { PageWorkflowMenuAllTasksTabComponent } from './components/pageWorkflowMenu/tabs/PageWorkflowMenuAllTasksTabComponent';\r\nimport { PageWorkflowMenuCurrentTasksTabComponent } from './components/pageWorkflowMenu/tabs/PageWorkflowMenuCurrentTasksTabComponent';\r\nimport { PageWorkflowMenuTasksTabComponent } from './components/pageWorkflowMenu/tabs/PageWorkflowMenuTasksTabComponent';\r\nimport { WorkflowInboxComponent } from './components/workflowInbox/WorkflowInboxComponent';\r\nimport { WorkflowInboxBadgeComponent } from './components/workflowInboxBadge/WorkflowInboxBadgeComponent';\r\nimport { WorkflowInboxMultipleTasksAnnouncementComponent } from './components/workflowInboxMultipleTasksAnnouncement/WorkflowInboxMultipleTasksAnnouncementComponent';\r\nimport { WorkflowInboxSingleTaskAnnouncementComponent } from './components/workflowInboxSingleTaskAnnouncement/WorkflowInboxSingleTaskAnnouncementComponent';\r\nimport { WorkflowInboxTaskComponent } from './components/workflowInboxTask/WorkflowInboxTaskComponent';\r\nimport { WorkflowItemMenuComponent } from './components/workflowItemMenu/WorkflowItemMenuComponent';\r\nimport { WorkflowActionCommentComponent } from './components/workflowMenu/workflowActionComment/WorkflowActionCommentComponent';\r\nimport { WorkflowActionItemComponent } from './components/workflowMenu/workflowActionItem/WorkflowActionItemComponent';\r\nimport { WorkflowFacade, WorkflowService, WorkflowTasksPollingService, WorkflowInboxAnnouncementService } from './services';\r\nvar WorkflowModule = /** @class */ (function () {\r\n    function WorkflowModule() {\r\n    }\r\n    WorkflowModule = __decorate([\r\n        NgModule({\r\n            imports: [\r\n                TranslationModule.forChild(),\r\n                CommonModule,\r\n                PopoverModule,\r\n                InfiniteScrollingModule,\r\n                MoreTextModule,\r\n                CollapsibleContainerModule,\r\n                PopupOverlayModule,\r\n                TooltipModule,\r\n                DropdownMenuModule,\r\n                HasOperationPermissionDirectiveModule,\r\n                SpinnerModule,\r\n                TabsModule,\r\n                L10nPipeModule\r\n            ],\r\n            declarations: [\r\n                WorkflowInboxSingleTaskAnnouncementComponent,\r\n                WorkflowInboxMultipleTasksAnnouncementComponent,\r\n                WorkflowInboxTaskComponent,\r\n                WorkflowInboxBadgeComponent,\r\n                WorkflowInboxComponent,\r\n                WorkflowActionCommentComponent,\r\n                WorkflowActionItemComponent,\r\n                PageDisplayStatusComponent,\r\n                PageDisplayStatusWrapperComponent,\r\n                PageStatusComponent,\r\n                PageApprovalSelectorComponent,\r\n                WorkflowItemMenuComponent,\r\n                PageWorkflowMenuComponent,\r\n                PageWorkflowMenuCurrentTasksTabComponent,\r\n                PageWorkflowMenuAllTasksTabComponent,\r\n                PageWorkflowMenuTasksTabComponent\r\n            ],\r\n            entryComponents: [\r\n                WorkflowInboxSingleTaskAnnouncementComponent,\r\n                WorkflowInboxMultipleTasksAnnouncementComponent,\r\n                WorkflowInboxTaskComponent,\r\n                WorkflowInboxBadgeComponent,\r\n                WorkflowInboxComponent,\r\n                WorkflowActionCommentComponent,\r\n                WorkflowActionItemComponent,\r\n                PageDisplayStatusComponent,\r\n                PageDisplayStatusWrapperComponent,\r\n                PageStatusComponent,\r\n                PageApprovalSelectorComponent,\r\n                WorkflowItemMenuComponent,\r\n                PageWorkflowMenuComponent,\r\n                PageWorkflowMenuCurrentTasksTabComponent,\r\n                PageWorkflowMenuAllTasksTabComponent,\r\n                PageWorkflowMenuTasksTabComponent\r\n            ],\r\n            exports: [PageDisplayStatusComponent],\r\n            providers: [\r\n                WorkflowTasksPollingService,\r\n                WorkflowService,\r\n                WorkflowInboxAnnouncementService,\r\n                WorkflowFacade,\r\n                L10nPipe,\r\n                moduleUtils.bootstrap(function (crossFrameEventService, pageInfoService, workflowService, notificationService, smarteditRoutingService, \r\n                // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n                workflowInboxAnnouncementService // initializes subscriber for tasks pooling service\r\n                ) {\r\n                    var NOTIFICATION_ID = 'PAGE_IN_WORKFLOW_NOTIFICATION_ID';\r\n                    var NOTIFICATION_TEMPLATE = 'pageInWorkflowNotificationTemplate.html';\r\n                    crossFrameEventService.subscribe(EVENTS.PAGE_CHANGE, function () {\r\n                        // Using pageInfoService.getPageUUID instead of pageService.getCurrentPageInfo because pageInfoService uses information from the DOM\r\n                        // instead of fetching from the backend and hence preventing any race condition while clearing the cache.\r\n                        pageInfoService.getPageUUID().then(function (pageUuid) {\r\n                            workflowService\r\n                                .getActiveWorkflowForPageUuid(pageUuid)\r\n                                .then(function (workflow) {\r\n                                if (workflow !== null && !workflow.isAvailableForCurrentPrincipal) {\r\n                                    notificationService.pushNotification({\r\n                                        id: NOTIFICATION_ID,\r\n                                        templateUrl: NOTIFICATION_TEMPLATE\r\n                                    });\r\n                                }\r\n                                else {\r\n                                    notificationService.removeNotification(NOTIFICATION_ID);\r\n                                }\r\n                            });\r\n                        });\r\n                    });\r\n                    smarteditRoutingService.routeChangeSuccess().subscribe(function (event) {\r\n                        var url = smarteditRoutingService.getCurrentUrlFromEvent(event);\r\n                        if (url !== \"/\" + NG_ROUTE_PREFIX + STORE_FRONT_CONTEXT) {\r\n                            notificationService.removeNotification(NOTIFICATION_ID);\r\n                        }\r\n                    });\r\n                }, [\r\n                    CrossFrameEventService,\r\n                    IPageInfoService,\r\n                    WorkflowService,\r\n                    INotificationService,\r\n                    SmarteditRoutingService,\r\n                    WorkflowInboxAnnouncementService\r\n                ])\r\n            ]\r\n        })\r\n    ], WorkflowModule);\r\n    return WorkflowModule;\r\n}());\r\nexport { WorkflowModule };\r\n//# sourceMappingURL=WorkflowModule.js.map","references":["/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular/common@8.2.14_@angular+core@8.2.14+rxjs@6.5.4/node_modules/@angular/common/common.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular/core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@fundamental-ngx/core@0.13.2_9a9a80bb6ff375d99f90188f858ebbd5/node_modules/@fundamental-ngx/core/fundamental-ngx-core.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/components/pageApprovalSelector/PageApprovalSelectorComponent.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/components/pageDisplayStatus/PageDisplayStatusComponent.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/components/pageDisplayStatus/PageDisplayStatusWrapperComponent.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/components/pageDisplayStatus/pageStatus/PageStatusComponent.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/components/pageWorkflowMenu/PageWorkflowMenuComponent.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/components/pageWorkflowMenu/tabs/PageWorkflowMenuAllTasksTabComponent.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/components/pageWorkflowMenu/tabs/PageWorkflowMenuCurrentTasksTabComponent.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/components/pageWorkflowMenu/tabs/PageWorkflowMenuTasksTabComponent.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/components/workflowInbox/WorkflowInboxComponent.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/components/workflowInboxBadge/WorkflowInboxBadgeComponent.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/components/workflowInboxMultipleTasksAnnouncement/WorkflowInboxMultipleTasksAnnouncementComponent.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/components/workflowInboxSingleTaskAnnouncement/WorkflowInboxSingleTaskAnnouncementComponent.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/components/workflowInboxTask/WorkflowInboxTaskComponent.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/components/workflowItemMenu/WorkflowItemMenuComponent.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/components/workflowMenu/workflowActionComment/WorkflowActionCommentComponent.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/components/workflowMenu/workflowActionItem/WorkflowActionItemComponent.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/dtos/index.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/services/index.ts"],"map":"{\"version\":3,\"file\":\"WorkflowModule.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/components/workflow/WorkflowModule.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/components/workflow/WorkflowModule.d.ts","writeByteOrderMark":false,"text":"export declare class WorkflowModule {\r\n}\r\n"}}
