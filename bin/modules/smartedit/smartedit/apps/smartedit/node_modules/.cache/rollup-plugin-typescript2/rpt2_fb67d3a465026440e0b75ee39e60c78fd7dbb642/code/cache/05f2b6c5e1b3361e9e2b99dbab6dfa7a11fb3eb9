{"code":"import { __decorate, __extends, __metadata, __param } from \"tslib\";\r\nimport { forwardRef, Component, ElementRef, Inject, Input } from '@angular/core';\r\nimport { filter } from 'rxjs/operators';\r\nimport { ComponentHandlerService } from 'smartedit/services';\r\nimport { CLOSE_CTX_MENU, IContextualMenuService, NodeUtils, POPUP_OVERLAY_DATA, REFRESH_CONTEXTUAL_MENU_ITEMS_EVENT, SeCustomComponent, SystemEventService, YJQUERY_TOKEN } from 'smarteditcommons';\r\nimport { BaseContextualMenuComponent } from './BaseContextualMenuComponent';\r\nwindow.__smartedit__.addDecoratorPayload(\"Component\", \"MoreItemsComponent\", {\r\n    selector: 'se-more-items-component',\r\n    template: \"\\n        <div class=\\\"se-contextual-more-menu fd-menu\\\">\\n            <ul\\n                id=\\\"{{ parent.smarteditComponentId }}-{{ parent.smarteditComponentType }}-more-menu\\\"\\n                class=\\\"fd-menu__list se-contextual-more-menu__list\\\"\\n            >\\n                <li\\n                    *ngFor=\\\"let item of parent.getItems().moreMenuItems; let $index = index\\\"\\n                    [attr.data-smartedit-id]=\\\"parent.smarteditComponentId\\\"\\n                    [attr.data-smartedit-type]=\\\"parent.smarteditComponentType\\\"\\n                    class=\\\"se-contextual-more-menu__item\\\"\\n                    [ngClass]=\\\"item.customCss\\\"\\n                >\\n                    <se-popup-overlay\\n                        [popupOverlay]=\\\"parent.itemTemplateOverlayWrapper\\\"\\n                        [popupOverlayTrigger]=\\\"parent.shouldShowTemplate(item)\\\"\\n                        [popupOverlayData]=\\\"{ item: item }\\\"\\n                        (popupOverlayOnShow)=\\\"parent.onShowItemPopup(item)\\\"\\n                        (popupOverlayOnHide)=\\\"parent.onHideItemPopup(false)\\\"\\n                    >\\n                        <se-contextual-menu-item\\n                            [mode]=\\\"'compact'\\\"\\n                            [index]=\\\"$index\\\"\\n                            [componentAttributes]=\\\"parent.componentAttributes\\\"\\n                            [slotAttributes]=\\\"parent.slotAttributes\\\"\\n                            [itemConfig]=\\\"item\\\"\\n                            (click)=\\\"parent.triggerMenuItemAction(item, $event)\\\"\\n                            [attr.data-component-id]=\\\"parent.smarteditComponentId\\\"\\n                            [attr.data-component-uuid]=\\\"\\n                                parent.componentAttributes.smarteditComponentUuid\\n                            \\\"\\n                            [attr.data-component-type]=\\\"parent.smarteditComponentType\\\"\\n                            [attr.data-slot-id]=\\\"parent.smarteditSlotId\\\"\\n                            [attr.data-slot-uuid]=\\\"parent.smarteditSlotUuid\\\"\\n                            [attr.data-container-id]=\\\"parent.smarteditContainerId\\\"\\n                            [attr.data-container-type]=\\\"parent.smarteditContainerType\\\"\\n                        >\\n                        </se-contextual-menu-item>\\n                    </se-popup-overlay>\\n                </li>\\n            </ul>\\n        </div>\\n    \"\r\n});\r\nvar MoreItemsComponent = /** @class */ (function () {\r\n    function MoreItemsComponent(parent) {\r\n        this.parent = parent;\r\n    }\r\n    MoreItemsComponent = __decorate([\r\n        Component({\r\n            selector: 'se-more-items-component',\r\n            template: \"\\n        <div class=\\\"se-contextual-more-menu fd-menu\\\">\\n            <ul\\n                id=\\\"{{ parent.smarteditComponentId }}-{{ parent.smarteditComponentType }}-more-menu\\\"\\n                class=\\\"fd-menu__list se-contextual-more-menu__list\\\"\\n            >\\n                <li\\n                    *ngFor=\\\"let item of parent.getItems().moreMenuItems; let $index = index\\\"\\n                    [attr.data-smartedit-id]=\\\"parent.smarteditComponentId\\\"\\n                    [attr.data-smartedit-type]=\\\"parent.smarteditComponentType\\\"\\n                    class=\\\"se-contextual-more-menu__item\\\"\\n                    [ngClass]=\\\"item.customCss\\\"\\n                >\\n                    <se-popup-overlay\\n                        [popupOverlay]=\\\"parent.itemTemplateOverlayWrapper\\\"\\n                        [popupOverlayTrigger]=\\\"parent.shouldShowTemplate(item)\\\"\\n                        [popupOverlayData]=\\\"{ item: item }\\\"\\n                        (popupOverlayOnShow)=\\\"parent.onShowItemPopup(item)\\\"\\n                        (popupOverlayOnHide)=\\\"parent.onHideItemPopup(false)\\\"\\n                    >\\n                        <se-contextual-menu-item\\n                            [mode]=\\\"'compact'\\\"\\n                            [index]=\\\"$index\\\"\\n                            [componentAttributes]=\\\"parent.componentAttributes\\\"\\n                            [slotAttributes]=\\\"parent.slotAttributes\\\"\\n                            [itemConfig]=\\\"item\\\"\\n                            (click)=\\\"parent.triggerMenuItemAction(item, $event)\\\"\\n                            [attr.data-component-id]=\\\"parent.smarteditComponentId\\\"\\n                            [attr.data-component-uuid]=\\\"\\n                                parent.componentAttributes.smarteditComponentUuid\\n                            \\\"\\n                            [attr.data-component-type]=\\\"parent.smarteditComponentType\\\"\\n                            [attr.data-slot-id]=\\\"parent.smarteditSlotId\\\"\\n                            [attr.data-slot-uuid]=\\\"parent.smarteditSlotUuid\\\"\\n                            [attr.data-container-id]=\\\"parent.smarteditContainerId\\\"\\n                            [attr.data-container-type]=\\\"parent.smarteditContainerType\\\"\\n                        >\\n                        </se-contextual-menu-item>\\n                    </se-popup-overlay>\\n                </li>\\n            </ul>\\n        </div>\\n    \"\r\n        }),\r\n        __param(0, Inject(forwardRef(function () { return ContextualMenuDecoratorComponent; }))),\r\n        __metadata(\"design:paramtypes\", [ContextualMenuDecoratorComponent])\r\n    ], MoreItemsComponent);\r\n    return MoreItemsComponent;\r\n}());\r\nexport { MoreItemsComponent };\r\nwindow.__smartedit__.addDecoratorPayload(\"Component\", \"ContextualMenuItemOverlayComponent\", {\r\n    template: \"\\n        <div\\n            *ngIf=\\\"item.action.template || item.action.templateUrl || item.action.component\\\"\\n            class=\\\"se-contextual-extra-menu\\\"\\n        >\\n            <!-- AngularJS -->\\n\\n            <div *ngIf=\\\"item.action.template\\\">\\n                <div\\n                    [seCompileHtml]=\\\"item.action.template\\\"\\n                    [compileHtmlNgController]=\\\"legacyController\\\"\\n                ></div>\\n            </div>\\n            <div *ngIf=\\\"item.action.templateUrl\\\">\\n                <div\\n                    [ngInclude]=\\\"item.action.templateUrl\\\"\\n                    [compileHtmlNgController]=\\\"legacyController\\\"\\n                ></div>\\n            </div>\\n\\n            <!-- Angular -->\\n\\n            <ng-container *ngIf=\\\"item.action.component\\\">\\n                <ng-container *ngComponentOutlet=\\\"item.action.component\\\"></ng-container>\\n            </ng-container>\\n        </div>\\n    \",\r\n    selector: 'se-contextual-menu-item-overlay'\r\n});\r\nvar ContextualMenuItemOverlayComponent = /** @class */ (function () {\r\n    function ContextualMenuItemOverlayComponent(data, parent) {\r\n        this.data = data;\r\n        this.parent = parent;\r\n    }\r\n    ContextualMenuItemOverlayComponent.prototype.ngOnInit = function () {\r\n        this.createLegacyController();\r\n    };\r\n    Object.defineProperty(ContextualMenuItemOverlayComponent.prototype, \"item\", {\r\n        get: function () {\r\n            return this.data.item;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    ContextualMenuItemOverlayComponent.prototype.createLegacyController = function () {\r\n        var _this = this;\r\n        this.legacyController = {\r\n            alias: 'ctrl',\r\n            value: function () { return _this.parent; }\r\n        };\r\n    };\r\n    ContextualMenuItemOverlayComponent = __decorate([\r\n        Component({\r\n            template: \"\\n        <div\\n            *ngIf=\\\"item.action.template || item.action.templateUrl || item.action.component\\\"\\n            class=\\\"se-contextual-extra-menu\\\"\\n        >\\n            <!-- AngularJS -->\\n\\n            <div *ngIf=\\\"item.action.template\\\">\\n                <div\\n                    [seCompileHtml]=\\\"item.action.template\\\"\\n                    [compileHtmlNgController]=\\\"legacyController\\\"\\n                ></div>\\n            </div>\\n            <div *ngIf=\\\"item.action.templateUrl\\\">\\n                <div\\n                    [ngInclude]=\\\"item.action.templateUrl\\\"\\n                    [compileHtmlNgController]=\\\"legacyController\\\"\\n                ></div>\\n            </div>\\n\\n            <!-- Angular -->\\n\\n            <ng-container *ngIf=\\\"item.action.component\\\">\\n                <ng-container *ngComponentOutlet=\\\"item.action.component\\\"></ng-container>\\n            </ng-container>\\n        </div>\\n    \",\r\n            selector: 'se-contextual-menu-item-overlay'\r\n        }),\r\n        __param(0, Inject(POPUP_OVERLAY_DATA)),\r\n        __param(1, Inject(forwardRef(function () { return ContextualMenuDecoratorComponent; }))),\r\n        __metadata(\"design:paramtypes\", [Object, ContextualMenuDecoratorComponent])\r\n    ], ContextualMenuItemOverlayComponent);\r\n    return ContextualMenuItemOverlayComponent;\r\n}());\r\nexport { ContextualMenuItemOverlayComponent };\r\nwindow.__smartedit__.addDecoratorPayload(\"Component\", \"ContextualMenuDecoratorComponent\", {\r\n    selector: 'contextual-menu',\r\n    template: \"<div class=\\\"se-ctx-menu-decorator-wrapper\\\" [ngClass]=\\\"{'se-ctx-menu-decorator__border--visible': showContextualMenuBorders()}\\\"><div class=\\\"se-ctx-menu__overlay\\\" *ngIf=\\\"showOverlay() || status.isopen\\\"><div class=\\\"se-ctx-menu__overlay__left-section\\\" *ngIf=\\\"getItems()\\\"><div *ngFor=\\\"let item of getItems().leftMenuItems; let $index = index\\\" id=\\\"{{ item.key }}\\\"><se-popup-overlay [popupOverlay]=\\\"itemTemplateOverlayWrapper\\\" [popupOverlayTrigger]=\\\"shouldShowTemplate(item)\\\" [popupOverlayData]=\\\"{ item: item }\\\" (popupOverlayOnShow)=\\\"onShowItemPopup(item)\\\" (popupOverlayOnHide)=\\\"onHideItemPopup(false)\\\"><se-contextual-menu-item [mode]=\\\"'small'\\\" [index]=\\\"$index\\\" [componentAttributes]=\\\"componentAttributes\\\" [slotAttributes]=\\\"slotAttributes\\\" [itemConfig]=\\\"item\\\" (click)=\\\"triggerMenuItemAction(item, $event)\\\" [attr.data-component-id]=\\\"smarteditComponentId\\\" [attr.data-component-uuid]=\\\"componentAttributes.smarteditComponentUuid\\\" [attr.data-component-type]=\\\"smarteditComponentType\\\" [attr.data-slot-id]=\\\"smarteditSlotId\\\" [attr.data-slot-uuid]=\\\"smarteditSlotUuid\\\" [attr.data-container-id]=\\\"smarteditContainerId\\\" [attr.data-container-type]=\\\"smarteditContainerType\\\"></se-contextual-menu-item></se-popup-overlay></div></div><se-popup-overlay [popupOverlay]=\\\"moreMenuPopupConfig\\\" [popupOverlayTrigger]=\\\"moreMenuIsOpen\\\" (popupOverlayOnShow)=\\\"onShowMoreMenuPopup()\\\" (popupOverlayOnHide)=\\\"onHideMoreMenuPopup()\\\"><div *ngIf=\\\"getItems() && getItems().moreMenuItems.length > 0\\\" class=\\\"se-ctx-menu-element__btn se-ctx-menu-element__btn--more\\\" [ngClass]=\\\"{'se-ctx-menu-element__btn--more--open': moreMenuIsOpen }\\\" (click)=\\\"toggleMoreMenu()\\\"><span [title]=\\\"moreButton.i18nKey | translate\\\" class=\\\"{{moreButton.displayClass}}\\\"></span></div></se-popup-overlay></div><div class=\\\"se-wrapper-data\\\"><div><ng-content></ng-content></div></div></div>\"\r\n});\r\nvar ContextualMenuDecoratorComponent = /** @class */ (function (_super) {\r\n    __extends(ContextualMenuDecoratorComponent, _super);\r\n    function ContextualMenuDecoratorComponent(yjQuery, element, contextualMenuService, systemEventService, componentHandlerService, nodeUtils) {\r\n        var _this = _super.call(this) || this;\r\n        _this.yjQuery = yjQuery;\r\n        _this.element = element;\r\n        _this.contextualMenuService = contextualMenuService;\r\n        _this.systemEventService = systemEventService;\r\n        _this.componentHandlerService = componentHandlerService;\r\n        _this.nodeUtils = nodeUtils;\r\n        _this.openItem = null;\r\n        _this.moreMenuIsOpen = false;\r\n        _this.itemTemplateOverlayWrapper = {\r\n            component: ContextualMenuItemOverlayComponent\r\n        };\r\n        _this.moreMenuPopupConfig = {\r\n            component: MoreItemsComponent,\r\n            halign: 'left'\r\n        };\r\n        _this.moreButton = {\r\n            displayClass: 'sap-icon--overflow',\r\n            i18nKey: 'se.cms.contextmenu.title.more'\r\n        };\r\n        _this.oldWidth = null;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(ContextualMenuDecoratorComponent.prototype, \"active\", {\r\n        get: function () {\r\n            return this._active;\r\n        },\r\n        set: function (_active) {\r\n            if (typeof _active === 'string') {\r\n                this._active = _active === 'true';\r\n            }\r\n            else {\r\n                this._active = _active;\r\n            }\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    ContextualMenuDecoratorComponent.prototype.ngDoCheck = function () {\r\n        if (this.element) {\r\n            var width = this.element.nativeElement.offsetWidth;\r\n            if (this.oldWidth !== width) {\r\n                this.oldWidth = width;\r\n                this.ngOnDestroy();\r\n                this.onInit();\r\n            }\r\n        }\r\n    };\r\n    ContextualMenuDecoratorComponent.prototype.ngOnDestroy = function () {\r\n        if (this.dndUnRegFn) {\r\n            this.dndUnRegFn();\r\n        }\r\n        if (this.unregisterRefreshItems) {\r\n            this.unregisterRefreshItems();\r\n        }\r\n    };\r\n    ContextualMenuDecoratorComponent.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        this.componentAttributes = this.nodeUtils.collectSmarteditAttributesByElementUuid(this.smarteditElementUuid);\r\n        this.slotAttributes = {\r\n            smarteditSlotId: this.smarteditSlotId,\r\n            smarteditSlotUuid: this.smarteditSlotUuid\r\n        };\r\n        this.onInit();\r\n        this.contextualMenuService.onContextualMenuItemsAdded\r\n            .pipe(filter(function (type) { return type === _this.smarteditComponentType; }))\r\n            .subscribe(function (type) { return _this.updateItems(); });\r\n    };\r\n    Object.defineProperty(ContextualMenuDecoratorComponent.prototype, \"smarteditSlotId\", {\r\n        get: function () {\r\n            return this.componentHandlerService.getParentSlotForComponent(this.element.nativeElement);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ContextualMenuDecoratorComponent.prototype, \"smarteditSlotUuid\", {\r\n        get: function () {\r\n            return this.componentHandlerService.getParentSlotUuidForComponent(this.element.nativeElement);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    ContextualMenuDecoratorComponent.prototype.onInit = function () {\r\n        var _this = this;\r\n        this.updateItems();\r\n        this.dndUnRegFn = this.systemEventService.subscribe(CLOSE_CTX_MENU, function () {\r\n            return _this.hideAllPopups();\r\n        });\r\n        this.unregisterRefreshItems = this.systemEventService.subscribe(REFRESH_CONTEXTUAL_MENU_ITEMS_EVENT, function () { return _this.updateItems; });\r\n    };\r\n    ContextualMenuDecoratorComponent.prototype.toggleMoreMenu = function () {\r\n        this.moreMenuIsOpen = !this.moreMenuIsOpen;\r\n    };\r\n    ContextualMenuDecoratorComponent.prototype.shouldShowTemplate = function (menuItem) {\r\n        return this.displayedItem === menuItem;\r\n    };\r\n    ContextualMenuDecoratorComponent.prototype.onShowItemPopup = function (item) {\r\n        this.setRemainOpen('someContextualPopupOverLay', true);\r\n        this.openItem = item;\r\n        this.openItem.isOpen = true;\r\n    };\r\n    ContextualMenuDecoratorComponent.prototype.onHideItemPopup = function (hideMoreMenu) {\r\n        if (this.openItem) {\r\n            this.openItem.isOpen = false;\r\n            this.openItem = null;\r\n        }\r\n        this.displayedItem = null;\r\n        this.setRemainOpen('someContextualPopupOverLay', false);\r\n        if (hideMoreMenu) {\r\n            this.onHideMoreMenuPopup();\r\n        }\r\n    };\r\n    ContextualMenuDecoratorComponent.prototype.onShowMoreMenuPopup = function () {\r\n        this.setRemainOpen('someContextualPopupOverLay', true);\r\n    };\r\n    ContextualMenuDecoratorComponent.prototype.onHideMoreMenuPopup = function () {\r\n        this.moreMenuIsOpen = false;\r\n        this.setRemainOpen('someContextualPopupOverLay', false);\r\n    };\r\n    ContextualMenuDecoratorComponent.prototype.hideAllPopups = function () {\r\n        this.onHideMoreMenuPopup();\r\n        this.onHideItemPopup();\r\n    };\r\n    ContextualMenuDecoratorComponent.prototype.getItems = function () {\r\n        return this.items;\r\n    };\r\n    ContextualMenuDecoratorComponent.prototype.showContextualMenuBorders = function () {\r\n        return this.active && this.items && this.items.leftMenuItems.length > 0;\r\n    };\r\n    ContextualMenuDecoratorComponent.prototype.triggerMenuItemAction = function (item, $event) {\r\n        $event.stopPropagation();\r\n        $event.preventDefault();\r\n        if (item.action.template || item.action.templateUrl || item.action.component) {\r\n            if (this.displayedItem === item) {\r\n                this.displayedItem = null;\r\n            }\r\n            else {\r\n                this.displayedItem = item;\r\n            }\r\n        }\r\n        else if (item.action.callback) {\r\n            this.hideAllPopups();\r\n            item.action.callback({\r\n                componentType: this.smarteditComponentType,\r\n                componentId: this.smarteditComponentId,\r\n                containerType: this.smarteditContainerType,\r\n                containerId: this.smarteditContainerId,\r\n                componentAttributes: this.componentAttributes,\r\n                slotId: this.smarteditSlotId,\r\n                slotUuid: this.smarteditSlotUuid,\r\n                element: this.yjQuery(this.element.nativeElement)\r\n            }, $event);\r\n        }\r\n    };\r\n    ContextualMenuDecoratorComponent.prototype.maxContextualMenuItems = function () {\r\n        var ctxSize = 50;\r\n        var buttonMaxCapacity = Math.round(this.yjQuery(this.element.nativeElement).width() / ctxSize) - 1;\r\n        var leftButtons = buttonMaxCapacity >= 4 ? 3 : buttonMaxCapacity - 1;\r\n        leftButtons = leftButtons < 0 ? 0 : leftButtons;\r\n        return leftButtons;\r\n    };\r\n    ContextualMenuDecoratorComponent.prototype.updateItems = function () {\r\n        var _this = this;\r\n        this.contextualMenuService\r\n            .getContextualMenuItems({\r\n            componentType: this.smarteditComponentType,\r\n            componentId: this.smarteditComponentId,\r\n            containerType: this.smarteditContainerType,\r\n            containerId: this.smarteditContainerId,\r\n            componentAttributes: this.componentAttributes,\r\n            iLeftBtns: this.maxContextualMenuItems(),\r\n            element: this.yjQuery(this.element.nativeElement)\r\n        })\r\n            .then(function (newItems) {\r\n            _this.items = newItems;\r\n        });\r\n    };\r\n    __decorate([\r\n        Input('data-smartedit-component-type'),\r\n        __metadata(\"design:type\", String)\r\n    ], ContextualMenuDecoratorComponent.prototype, \"smarteditComponentType\", void 0);\r\n    __decorate([\r\n        Input('data-smartedit-component-id'),\r\n        __metadata(\"design:type\", String)\r\n    ], ContextualMenuDecoratorComponent.prototype, \"smarteditComponentId\", void 0);\r\n    __decorate([\r\n        Input('data-smartedit-container-type'),\r\n        __metadata(\"design:type\", String)\r\n    ], ContextualMenuDecoratorComponent.prototype, \"smarteditContainerType\", void 0);\r\n    __decorate([\r\n        Input('data-smartedit-container-id'),\r\n        __metadata(\"design:type\", String)\r\n    ], ContextualMenuDecoratorComponent.prototype, \"smarteditContainerId\", void 0);\r\n    __decorate([\r\n        Input('data-smartedit-catalog-version-uuid'),\r\n        __metadata(\"design:type\", String)\r\n    ], ContextualMenuDecoratorComponent.prototype, \"smarteditCatalogVersionUuid\", void 0);\r\n    __decorate([\r\n        Input('data-smartedit-element-uuid'),\r\n        __metadata(\"design:type\", String)\r\n    ], ContextualMenuDecoratorComponent.prototype, \"smarteditElementUuid\", void 0);\r\n    __decorate([\r\n        Input(),\r\n        __metadata(\"design:type\", Object)\r\n    ], ContextualMenuDecoratorComponent.prototype, \"componentAttributes\", void 0);\r\n    __decorate([\r\n        Input(),\r\n        __metadata(\"design:type\", Object),\r\n        __metadata(\"design:paramtypes\", [Object])\r\n    ], ContextualMenuDecoratorComponent.prototype, \"active\", null);\r\n    ContextualMenuDecoratorComponent = __decorate([\r\n        SeCustomComponent(),\r\n        Component({\r\n            selector: 'contextual-menu',\r\n            template: \"<div class=\\\"se-ctx-menu-decorator-wrapper\\\" [ngClass]=\\\"{'se-ctx-menu-decorator__border--visible': showContextualMenuBorders()}\\\"><div class=\\\"se-ctx-menu__overlay\\\" *ngIf=\\\"showOverlay() || status.isopen\\\"><div class=\\\"se-ctx-menu__overlay__left-section\\\" *ngIf=\\\"getItems()\\\"><div *ngFor=\\\"let item of getItems().leftMenuItems; let $index = index\\\" id=\\\"{{ item.key }}\\\"><se-popup-overlay [popupOverlay]=\\\"itemTemplateOverlayWrapper\\\" [popupOverlayTrigger]=\\\"shouldShowTemplate(item)\\\" [popupOverlayData]=\\\"{ item: item }\\\" (popupOverlayOnShow)=\\\"onShowItemPopup(item)\\\" (popupOverlayOnHide)=\\\"onHideItemPopup(false)\\\"><se-contextual-menu-item [mode]=\\\"'small'\\\" [index]=\\\"$index\\\" [componentAttributes]=\\\"componentAttributes\\\" [slotAttributes]=\\\"slotAttributes\\\" [itemConfig]=\\\"item\\\" (click)=\\\"triggerMenuItemAction(item, $event)\\\" [attr.data-component-id]=\\\"smarteditComponentId\\\" [attr.data-component-uuid]=\\\"componentAttributes.smarteditComponentUuid\\\" [attr.data-component-type]=\\\"smarteditComponentType\\\" [attr.data-slot-id]=\\\"smarteditSlotId\\\" [attr.data-slot-uuid]=\\\"smarteditSlotUuid\\\" [attr.data-container-id]=\\\"smarteditContainerId\\\" [attr.data-container-type]=\\\"smarteditContainerType\\\"></se-contextual-menu-item></se-popup-overlay></div></div><se-popup-overlay [popupOverlay]=\\\"moreMenuPopupConfig\\\" [popupOverlayTrigger]=\\\"moreMenuIsOpen\\\" (popupOverlayOnShow)=\\\"onShowMoreMenuPopup()\\\" (popupOverlayOnHide)=\\\"onHideMoreMenuPopup()\\\"><div *ngIf=\\\"getItems() && getItems().moreMenuItems.length > 0\\\" class=\\\"se-ctx-menu-element__btn se-ctx-menu-element__btn--more\\\" [ngClass]=\\\"{'se-ctx-menu-element__btn--more--open': moreMenuIsOpen }\\\" (click)=\\\"toggleMoreMenu()\\\"><span [title]=\\\"moreButton.i18nKey | translate\\\" class=\\\"{{moreButton.displayClass}}\\\"></span></div></se-popup-overlay></div><div class=\\\"se-wrapper-data\\\"><div><ng-content></ng-content></div></div></div>\"\r\n        }),\r\n        __param(0, Inject(YJQUERY_TOKEN)),\r\n        __metadata(\"design:paramtypes\", [Function, ElementRef,\r\n            IContextualMenuService,\r\n            SystemEventService,\r\n            ComponentHandlerService,\r\n            NodeUtils])\r\n    ], ContextualMenuDecoratorComponent);\r\n    return ContextualMenuDecoratorComponent;\r\n}(BaseContextualMenuComponent));\r\nexport { ContextualMenuDecoratorComponent };\r\n//# sourceMappingURL=ContextualMenuDecoratorComponent.js.map","references":["/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular/core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/rxjs@6.5.4/node_modules/rxjs/operators/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit/src/services/index.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit/src/modules/system/features/contextualMenu/BaseContextualMenuComponent.ts"],"map":"{\"version\":3,\"file\":\"ContextualMenuDecoratorComponent.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../../src/modules/system/features/contextualMenu/ContextualMenuDecoratorComponent.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit/modules/system/features/contextualMenu/ContextualMenuDecoratorComponent.d.ts","writeByteOrderMark":false,"text":"/// <reference types=\"angular\" />\r\n/// <reference types=\"jquery\" />\r\nimport { DoCheck, ElementRef, OnDestroy, OnInit } from '@angular/core';\r\nimport { ComponentHandlerService, ContextualMenu } from 'smartedit/services';\r\nimport { CompileHtmlNgController, ComponentAttributes, IContextualMenuButton, IContextualMenuService, NodeUtils, PopupOverlayConfig, SystemEventService } from 'smarteditcommons';\r\nimport { BaseContextualMenuComponent } from './BaseContextualMenuComponent';\r\nexport declare class MoreItemsComponent {\r\n    parent: ContextualMenuDecoratorComponent;\r\n    constructor(parent: ContextualMenuDecoratorComponent);\r\n}\r\nexport declare class ContextualMenuItemOverlayComponent {\r\n    private data;\r\n    private parent;\r\n    legacyController: CompileHtmlNgController;\r\n    constructor(data: {\r\n        item: IContextualMenuButton;\r\n    }, parent: ContextualMenuDecoratorComponent);\r\n    ngOnInit(): void;\r\n    get item(): IContextualMenuButton;\r\n    private createLegacyController;\r\n}\r\nexport declare class ContextualMenuDecoratorComponent extends BaseContextualMenuComponent implements OnInit, DoCheck, OnDestroy {\r\n    private yjQuery;\r\n    private element;\r\n    private contextualMenuService;\r\n    private systemEventService;\r\n    private componentHandlerService;\r\n    private nodeUtils;\r\n    smarteditComponentType: string;\r\n    smarteditComponentId: string;\r\n    smarteditContainerType: string;\r\n    smarteditContainerId: string;\r\n    smarteditCatalogVersionUuid: string;\r\n    smarteditElementUuid: string;\r\n    componentAttributes: ComponentAttributes;\r\n    set active(_active: string | boolean);\r\n    get active(): boolean | string;\r\n    items: ContextualMenu;\r\n    openItem: IContextualMenuButton;\r\n    moreMenuIsOpen: boolean;\r\n    slotAttributes: {\r\n        smarteditSlotId: string;\r\n        smarteditSlotUuid: string;\r\n    };\r\n    itemTemplateOverlayWrapper: PopupOverlayConfig;\r\n    moreMenuPopupConfig: PopupOverlayConfig;\r\n    moreButton: {\r\n        displayClass: string;\r\n        i18nKey: string;\r\n    };\r\n    private displayedItem;\r\n    private oldWidth;\r\n    private dndUnRegFn;\r\n    private unregisterRefreshItems;\r\n    private _active;\r\n    constructor(yjQuery: JQueryStatic, element: ElementRef, contextualMenuService: IContextualMenuService, systemEventService: SystemEventService, componentHandlerService: ComponentHandlerService, nodeUtils: NodeUtils);\r\n    ngDoCheck(): void;\r\n    ngOnDestroy(): void;\r\n    ngOnInit(): void;\r\n    get smarteditSlotId(): string;\r\n    get smarteditSlotUuid(): string;\r\n    onInit(): void;\r\n    toggleMoreMenu(): void;\r\n    shouldShowTemplate(menuItem: IContextualMenuButton): boolean;\r\n    onShowItemPopup(item: IContextualMenuButton): void;\r\n    onHideItemPopup(hideMoreMenu?: boolean): void;\r\n    onShowMoreMenuPopup(): void;\r\n    onHideMoreMenuPopup(): void;\r\n    hideAllPopups(): void;\r\n    getItems(): ContextualMenu;\r\n    showContextualMenuBorders(): boolean;\r\n    triggerMenuItemAction(item: IContextualMenuButton, $event: Event): void;\r\n    private maxContextualMenuItems;\r\n    private updateItems;\r\n}\r\n"}}
