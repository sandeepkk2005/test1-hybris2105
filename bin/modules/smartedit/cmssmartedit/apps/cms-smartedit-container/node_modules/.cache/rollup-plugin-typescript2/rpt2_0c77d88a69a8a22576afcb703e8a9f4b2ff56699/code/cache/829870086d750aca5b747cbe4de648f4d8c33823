{"code":"import { __awaiter, __decorate, __generator, __metadata, __param } from \"tslib\";\r\nimport { Component, Inject } from '@angular/core';\r\nimport { IPageService } from 'cmscommons';\r\nimport { GENERIC_EDITOR_WIDGET_DATA, LogService } from 'smarteditcommons';\r\nwindow.__smartedit__.addDecoratorPayload(\"Component\", \"MissingPrimaryContentPageComponent\", {\r\n    selector: 'se-component-missing-primary-content-page',\r\n    template: \"<div><div><label class=\\\"missing-primary-content-page-message__label\\\" [translate]=\\\"'se.cms.page.restore.content.page.noprimaryforvariation.msg'\\\"></label></div><se-select id=\\\"se-page-restore-change-primary-selector-dropdown\\\" [(model)]=\\\"cmsPage.label\\\" [fetchStrategy]=\\\"fetchStrategy\\\"></se-select></div>\",\r\n    styles: [\".missing-primary-content-page-message__label{font-style:italic;padding-bottom:10px;display:block}\"]\r\n});\r\nvar MissingPrimaryContentPageComponent = /** @class */ (function () {\r\n    function MissingPrimaryContentPageComponent(data, pageService, logService) {\r\n        this.data = data;\r\n        this.pageService = pageService;\r\n        this.logService = logService;\r\n        this.CONTENT_PAGE_TYPE_CODE = 'ContentPage';\r\n        this.ERROR_MSG = '[MissingPrimaryContentPageComponent] - Cannot retrieve list of alternative content primary pages.';\r\n        (this.cmsPage = data.model);\r\n    }\r\n    MissingPrimaryContentPageComponent.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        this.fetchStrategy = {\r\n            fetchEntity: function () { return _this.fetchEntity(); },\r\n            fetchPage: function (search, pageSize, currentPage) { return _this.fetchPage(search, pageSize, currentPage); }\r\n        };\r\n    };\r\n    MissingPrimaryContentPageComponent.prototype.fetchEntity = function () {\r\n        return Promise.resolve(this.getSelectItemFromPrimaryPage(this.cmsPage));\r\n    };\r\n    MissingPrimaryContentPageComponent.prototype.fetchPage = function (search, pageSize, currentPage) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var page, targetPage, error_1;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 2, , 3]);\r\n                        return [4 /*yield*/, this.pageService.getPaginatedPrimaryPagesForPageType(this.CONTENT_PAGE_TYPE_CODE, null, {\r\n                                search: search,\r\n                                pageSize: pageSize,\r\n                                currentPage: currentPage\r\n                            })];\r\n                    case 1:\r\n                        page = _a.sent();\r\n                        targetPage = {\r\n                            pagination: page.pagination,\r\n                            results: null\r\n                        };\r\n                        targetPage.results = page.response.map(function (rawPage) {\r\n                            return _this.getSelectItemFromPrimaryPage(rawPage);\r\n                        });\r\n                        return [2 /*return*/, targetPage];\r\n                    case 2:\r\n                        error_1 = _a.sent();\r\n                        this.logService.warn(this.ERROR_MSG, error_1);\r\n                        return [3 /*break*/, 3];\r\n                    case 3: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    MissingPrimaryContentPageComponent.prototype.getSelectItemFromPrimaryPage = function (page) {\r\n        return {\r\n            id: page.label,\r\n            label: page.name\r\n        };\r\n    };\r\n    MissingPrimaryContentPageComponent = __decorate([\r\n        Component({\r\n            selector: 'se-component-missing-primary-content-page',\r\n            template: \"<div><div><label class=\\\"missing-primary-content-page-message__label\\\" [translate]=\\\"'se.cms.page.restore.content.page.noprimaryforvariation.msg'\\\"></label></div><se-select id=\\\"se-page-restore-change-primary-selector-dropdown\\\" [(model)]=\\\"cmsPage.label\\\" [fetchStrategy]=\\\"fetchStrategy\\\"></se-select></div>\",\r\n            styles: [\".missing-primary-content-page-message__label{font-style:italic;padding-bottom:10px;display:block}\"]\r\n        }),\r\n        __param(0, Inject(GENERIC_EDITOR_WIDGET_DATA)),\r\n        __metadata(\"design:paramtypes\", [Object, IPageService,\r\n            LogService])\r\n    ], MissingPrimaryContentPageComponent);\r\n    return MissingPrimaryContentPageComponent;\r\n}());\r\nexport { MissingPrimaryContentPageComponent };\r\n//# sourceMappingURL=MissingPrimaryContentPageComponent.js.map","references":["/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular/core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-commons/dist/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts"],"map":"{\"version\":3,\"file\":\"MissingPrimaryContentPageComponent.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../../src/components/genericEditor/pageRestore/missingPrimaryContentPage/MissingPrimaryContentPageComponent.ts\"],\"names\":[],\"mappings\":\";AACA,OAAO,EAAE,SAAS,EAAE,MAAM,EAAU,MAAM,eAAe,CAAC;AAC1D,OAAO,EAAqB,YAAY,EAAE,MAAM,YAAY,CAAC;AAC7D,OAAO,EAEH,0BAA0B,EAE1B,UAAU,EAGb,MAAM,kBAAkB,CAAC;4FAEf;IACP,QAAQ,EAAE,2CAA2C;IACrD,QAAQ,EAAE,uTAA6S;IACvT,MAAM,EAAE,CAAC,mGAAmG,CAAC;CAChH;AACD;IAOI,4CAEW,IAAkC,EACjC,WAAyB,EACzB,UAAsB;QAFvB,SAAI,GAAJ,IAAI,CAA8B;QACjC,gBAAW,GAAX,WAAW,CAAc;QACzB,eAAU,GAAV,UAAU,CAAY;QARjB,2BAAsB,GAAG,aAAa,CAAC;QACvC,cAAS,GACtB,mGAAmG,CAAC;QAQpG,CAAU,IAAI,CAAC,OAAO,GAAK,IAAI,MAAT,CAAU,CAAC;IACrC,CAAC;IAED,qDAAQ,GAAR;QAAA,iBASC;QARG,IAAI,CAAC,aAAa,GAAG;YACjB,WAAW,EAAE,cAA2B,OAAA,KAAI,CAAC,WAAW,EAAE,EAAlB,CAAkB;YAC1D,SAAS,EAAE,UACP,MAAc,EACd,QAAgB,EAChB,WAAmB,IACS,OAAA,KAAI,CAAC,SAAS,CAAC,MAAM,EAAE,QAAQ,EAAE,WAAW,CAAC,EAA7C,CAA6C;SAChF,CAAC;IACN,CAAC;IAEO,wDAAW,GAAnB;QACI,OAAO,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,4BAA4B,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;IAC5E,CAAC;IAEa,sDAAS,GAAvB,UACI,MAAc,EACd,QAAgB,EAChB,WAAmB;;;;;;;;wBAGF,qBAAM,IAAI,CAAC,WAAW,CAAC,mCAAmC,CACnE,IAAI,CAAC,sBAAsB,EAC3B,IAAI,EACJ;gCACI,MAAM,QAAA;gCACN,QAAQ,UAAA;gCACR,WAAW,aAAA;6BACd,CACJ,EAAA;;wBARK,IAAI,GAAG,SAQZ;wBACK,UAAU,GAAqB;4BACjC,UAAU,EAAE,IAAI,CAAC,UAAU;4BAC3B,OAAO,EAAE,IAAI;yBAChB,CAAC;wBACF,UAAU,CAAC,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAC,OAAO;4BAC3C,OAAA,KAAI,CAAC,4BAA4B,CAAC,OAAO,CAAC;wBAA1C,CAA0C,CAC7C,CAAC;wBACF,sBAAO,UAAU,EAAC;;;wBAElB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,OAAK,CAAC,CAAC;;;;;;KAEnD;IAEO,yEAA4B,GAApC,UAAqC,IAAa;QAC9C,OAAO;YACH,EAAE,EAAE,IAAI,CAAC,KAAe;YACxB,KAAK,EAAE,IAAI,CAAC,IAAI;SACnB,CAAC;IACN,CAAC;IAhEQ,kCAAkC;QAL9C,SAAS,CAAC;YACP,QAAQ,EAAE,2CAA2C;YACrD,QAAQ,EAAE,uTAA6S;YACvT,MAAM,EAAE,CAAC,mGAAmG,CAAC;SAChH,CAAC;QASO,WAAA,MAAM,CAAC,0BAA0B,CAAC,CAAA;iDAEd,YAAY;YACb,UAAU;OAXzB,kCAAkC,CAiE9C;IAAD,yCAAC;CAAA,AAjED,IAiEC;SAjEY,kCAAkC\"}","dts":{"name":"/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/components/genericEditor/pageRestore/missingPrimaryContentPage/MissingPrimaryContentPageComponent.d.ts","writeByteOrderMark":false,"text":"import { OnInit } from '@angular/core';\r\nimport { ICMSPage, IPageService } from 'cmscommons';\r\nimport { FetchStrategy, GenericEditorWidgetData, LogService, SelectItem } from 'smarteditcommons';\r\nexport declare class MissingPrimaryContentPageComponent implements OnInit {\r\n    data: GenericEditorWidgetData<any>;\r\n    private pageService;\r\n    private logService;\r\n    cmsPage: ICMSPage;\r\n    fetchStrategy: FetchStrategy<SelectItem>;\r\n    private readonly CONTENT_PAGE_TYPE_CODE;\r\n    private readonly ERROR_MSG;\r\n    constructor(data: GenericEditorWidgetData<any>, pageService: IPageService, logService: LogService);\r\n    ngOnInit(): void;\r\n    private fetchEntity;\r\n    private fetchPage;\r\n    private getSelectItemFromPrimaryPage;\r\n}\r\n"}}
