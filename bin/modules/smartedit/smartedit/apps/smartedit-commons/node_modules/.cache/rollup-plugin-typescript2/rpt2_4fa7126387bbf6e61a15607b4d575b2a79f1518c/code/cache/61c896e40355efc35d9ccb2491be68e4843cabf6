{"code":"import { __decorate } from \"tslib\";\r\n/*\r\n * Copyright (c) 2021 SAP SE or an SAP affiliate company. All rights reserved.\r\n */\r\nimport { SeComponent } from '../../../di';\r\n/**\r\n * **Deprecated since 2005, use {@link EditableListComponent}.**\r\n *\r\n * The yEditableList component allows displaying a list of items. The list can be managed dynamically, by\r\n * adding, removing, and re-ordering it.\r\n *\r\n * ### Parameters\r\n *\r\n * `id` - A string used to track and identify the component.\r\n *\r\n * `items` - The collection of items to display in the component.\r\n *\r\n * `refresh` - A function that can be called to update the content of the list.\r\n *\r\n * `onChange` - A function that will be called whenever the content of the list changes.\r\n *\r\n * `itemTemplateUrl` - The path to the template to display each of the items in the list.\r\n *\r\n * `editable` - The property specifies whether the content of the list can be modified.\r\n *\r\n * @deprecated\r\n */\r\nvar /* @ngInject */ YEditableListComponent = /** @class */ (function () {\r\n    function /* @ngInject */ YEditableListComponent() {\r\n        this.dragOptions = {};\r\n    }\r\n    /* @ngInject */ YEditableListComponent.prototype.$onInit = function () {\r\n        var _this = this;\r\n        this._enableDragAndDrop = function () {\r\n            _this.dragOptions.allowDropCallback = function (event) {\r\n                // Just allow dropping elements of the same list.\r\n                return event.sourceNode.parentUid === _this.rootId;\r\n            };\r\n            _this.dragOptions.onDropCallback = function () {\r\n                _this.actions.performUpdate();\r\n            };\r\n        };\r\n        this.actions = this.getTreeActions();\r\n        this.refresh = function () {\r\n            _this.actions.refreshList();\r\n        };\r\n        if (!this.itemTemplateUrl) {\r\n            this.itemTemplateUrl = 'yEditableListDefaultItemTemplate.html';\r\n        }\r\n        this.rootId = 'root' + this.id;\r\n        if (this.editable === undefined) {\r\n            this.editable = true;\r\n        }\r\n        if (this.editable === true) {\r\n            this._enableDragAndDrop();\r\n        }\r\n    };\r\n    /* @ngInject */ YEditableListComponent.prototype.getTreeActions = function () {\r\n        var _this = this;\r\n        var items = this.getDropdownItems();\r\n        return {\r\n            fetchData: function (treeService, nodeData) {\r\n                _this.items.map(function (item) {\r\n                    if (item.id && !item.uid) {\r\n                        item.uid = item.id;\r\n                    }\r\n                    item.parentUid = _this.rootId;\r\n                });\r\n                nodeData.nodes = _this.items;\r\n                return Promise.resolve(nodeData);\r\n            },\r\n            getDropdownItems: function () { return items; },\r\n            removeItem: function (treeService, handle) {\r\n                var nodeData = handle.$modelValue;\r\n                var pos = this.root.nodes.indexOf(nodeData);\r\n                this.root.nodes.splice(pos, 1);\r\n                this.performUpdate(parent, handle);\r\n            },\r\n            moveUp: function (treeService, handle) {\r\n                var nodeData = handle.$modelValue;\r\n                var pos = this.root.nodes.indexOf(nodeData);\r\n                var upperEntry = this.root.nodes[pos - 1];\r\n                this.root.nodes.splice(pos - 1, 2, nodeData, upperEntry);\r\n                this.performUpdate(parent, handle);\r\n            },\r\n            moveDown: function (treeService, handle) {\r\n                var nodeData = handle.$modelValue;\r\n                var pos = this.root.nodes.indexOf(nodeData);\r\n                var lowerEntry = this.root.nodes[pos + 1];\r\n                this.root.nodes.splice(pos, 2, lowerEntry, nodeData);\r\n                this.performUpdate(parent, handle);\r\n            },\r\n            isMoveUpAllowed: function (treeService, handle) {\r\n                var nodeData = handle.$modelValue;\r\n                return this.root.nodes.indexOf(nodeData) > 0;\r\n            },\r\n            isMoveDownAllowed: function (treeService, handle) {\r\n                var nodeData = handle.$modelValue;\r\n                var entriesArrayLength = this.root.nodes.length;\r\n                return this.root.nodes.indexOf(nodeData) !== entriesArrayLength - 1;\r\n            },\r\n            performUpdate: function () {\r\n                if (_this.onChange) {\r\n                    _this.onChange();\r\n                }\r\n            },\r\n            refreshList: function () {\r\n                this.fetchData(this.root);\r\n            }\r\n        };\r\n    };\r\n    /* @ngInject */ YEditableListComponent.prototype.getDropdownItems = function () {\r\n        var _this = this;\r\n        return [\r\n            {\r\n                key: 'se.ydropdownmenu.remove',\r\n                callback: function (handle) {\r\n                    _this.actions.removeItem(handle);\r\n                }\r\n            },\r\n            {\r\n                key: 'se.ydropdownmenu.move.up',\r\n                condition: function (handle) { return _this.actions.isMoveUpAllowed(handle); },\r\n                callback: function (handle) {\r\n                    _this.actions.moveUp(handle);\r\n                }\r\n            },\r\n            {\r\n                key: 'se.ydropdownmenu.move.down',\r\n                condition: function (handle) { return _this.actions.isMoveDownAllowed(handle); },\r\n                callback: function (handle) {\r\n                    _this.actions.moveDown(handle);\r\n                }\r\n            }\r\n        ];\r\n    };\r\n    /* @ngInject */ YEditableListComponent = __decorate([\r\n        SeComponent({\r\n            selector: 'y-editable-list',\r\n            templateUrl: 'yEditableListTemplate.html',\r\n            inputs: ['id:@', 'items', 'refresh:=', 'onChange', 'itemTemplateUrl', 'editable']\r\n        })\r\n    ], /* @ngInject */ YEditableListComponent);\r\n    return /* @ngInject */ YEditableListComponent;\r\n}());\r\nexport { /* @ngInject */ YEditableListComponent };\r\n//# sourceMappingURL=yEditableList.js.map","references":["/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/di/index.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/components/dropdown/dropdownMenu/IDropdownMenuItem.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/components/tree/index.ts"],"map":"{\"version\":3,\"file\":\"yEditableList.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../src/components/list/legacy/yEditableList.ts\"],\"names\":[],\"mappings\":\";AAAA;;GAEG;AACH,OAAO,EAAE,WAAW,EAAE,MAAM,aAAa,CAAC;AAY1C;;;;;;;;;;;;;;;;;;;;;GAqBG;AAMH;IAAA;QACW,gBAAW,GAAoB,EAAqB,CAAC;IAsIhE,CAAC;IA1HG,wDAAO,GAAP;QAAA,iBA6BC;QA5BG,IAAI,CAAC,kBAAkB,GAAG;YACtB,KAAI,CAAC,WAAW,CAAC,iBAAiB,GAAG,UAAC,KAAoB;gBACtD,iDAAiD;gBACjD,OAAA,KAAK,CAAC,UAAU,CAAC,SAAS,KAAK,KAAI,CAAC,MAAM;YAA1C,CAA0C,CAAC;YAE/C,KAAI,CAAC,WAAW,CAAC,cAAc,GAAG;gBAC9B,KAAI,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC;YACjC,CAAC,CAAC;QACN,CAAC,CAAC;QAEF,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC;QACrC,IAAI,CAAC,OAAO,GAAG;YACX,KAAI,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC;QAC/B,CAAC,CAAC;QAEF,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE;YACvB,IAAI,CAAC,eAAe,GAAG,uCAAuC,CAAC;SAClE;QAED,IAAI,CAAC,MAAM,GAAG,MAAM,GAAG,IAAI,CAAC,EAAE,CAAC;QAE/B,IAAI,IAAI,CAAC,QAAQ,KAAK,SAAS,EAAE;YAC7B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;SACxB;QAED,IAAI,IAAI,CAAC,QAAQ,KAAK,IAAI,EAAE;YACxB,IAAI,CAAC,kBAAkB,EAAE,CAAC;SAC7B;IACL,CAAC;IAEO,+DAAc,GAAtB;QAAA,iBAkEC;QAjEG,IAAM,KAAK,GAAG,IAAI,CAAC,gBAAgB,EAAE,CAAC;QAEtC,OAAO;YACH,SAAS,EAAE,UAAC,WAAyB,EAAE,QAAkB;gBACrD,KAAI,CAAC,KAAK,CAAC,GAAG,CAAC,UAAC,IAAI;oBAChB,IAAI,IAAI,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE;wBACtB,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,EAAE,CAAC;qBACtB;oBAED,IAAI,CAAC,SAAS,GAAG,KAAI,CAAC,MAAM,CAAC;gBACjC,CAAC,CAAC,CAAC;gBACH,QAAQ,CAAC,KAAK,GAAG,KAAI,CAAC,KAAK,CAAC;gBAE5B,OAAO,OAAO,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;YACrC,CAAC;YACD,gBAAgB,EAAE,cAAM,OAAA,KAAK,EAAL,CAAK;YAC7B,UAAU,EAAV,UAAW,WAAyB,EAAE,MAAmB;gBACrD,IAAM,QAAQ,GAAG,MAAM,CAAC,WAAW,CAAC;gBACpC,IAAM,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;gBAE9C,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;gBAE/B,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;YACvC,CAAC;YACD,MAAM,EAAN,UAAO,WAAyB,EAAE,MAAmB;gBACjD,IAAM,QAAQ,GAAG,MAAM,CAAC,WAAW,CAAC;gBACpC,IAAM,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;gBAC9C,IAAM,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;gBAE5C,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,EAAE,QAAQ,EAAE,UAAU,CAAC,CAAC;gBAEzD,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;YACvC,CAAC;YACD,QAAQ,EAAR,UAAS,WAAyB,EAAE,MAAmB;gBACnD,IAAM,QAAQ,GAAG,MAAM,CAAC,WAAW,CAAC;gBACpC,IAAM,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;gBAC9C,IAAM,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;gBAE5C,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,EAAE,UAAU,EAAE,QAAQ,CAAC,CAAC;gBAErD,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;YACvC,CAAC;YAED,eAAe,EAAf,UAAgB,WAAyB,EAAE,MAAmB;gBAC1D,IAAM,QAAQ,GAAG,MAAM,CAAC,WAAW,CAAC;gBACpC,OAAO,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;YACjD,CAAC;YAED,iBAAiB,EAAjB,UAAkB,WAAyB,EAAE,MAAmB;gBAC5D,IAAM,QAAQ,GAAG,MAAM,CAAC,WAAW,CAAC;gBACpC,IAAM,kBAAkB,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;gBAElD,OAAO,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,kBAAkB,GAAG,CAAC,CAAC;YACxE,CAAC;YAED,aAAa,EAAE;gBACX,IAAI,KAAI,CAAC,QAAQ,EAAE;oBACf,KAAI,CAAC,QAAQ,EAAE,CAAC;iBACnB;YACL,CAAC;YAED,WAAW;gBACP,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC9B,CAAC;SACW,CAAC;IACrB,CAAC;IACO,iEAAgB,GAAxB;QAAA,iBAuBC;QAtBG,OAAO;YACH;gBACI,GAAG,EAAE,yBAAyB;gBAC9B,QAAQ,EAAE,UAAC,MAAmB;oBAC1B,KAAI,CAAC,OAAO,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;gBACpC,CAAC;aACJ;YACD;gBACI,GAAG,EAAE,0BAA0B;gBAC/B,SAAS,EAAE,UAAC,MAAmB,IAAc,OAAA,KAAI,CAAC,OAAO,CAAC,eAAe,CAAC,MAAM,CAAC,EAApC,CAAoC;gBACjF,QAAQ,EAAE,UAAC,MAAmB;oBAC1B,KAAI,CAAC,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;gBAChC,CAAC;aACJ;YACD;gBACI,GAAG,EAAE,4BAA4B;gBACjC,SAAS,EAAE,UAAC,MAAmB,IAAc,OAAA,KAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,MAAM,CAAC,EAAtC,CAAsC;gBACnF,QAAQ,EAAE,UAAC,MAAmB;oBAC1B,KAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;gBAClC,CAAC;aACJ;SACJ,CAAC;IACN,CAAC;IAtIL;QALC,WAAW,CAAC;YACT,QAAQ,EAAE,iBAAiB;YAC3B,WAAW,EAAE,4BAA4B;YACzC,MAAM,EAAE,CAAC,MAAM,EAAE,OAAO,EAAE,WAAW,EAAE,UAAU,EAAE,iBAAiB,EAAE,UAAU,CAAC;SACpF,CAAC;8CAwID;IAAD,6CAAC;CAAA,AAvID,IAuIC\"}","dts":{"name":"/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/components/list/legacy/yEditableList.d.ts","writeByteOrderMark":false,"text":"import { NavigationNode, TreeActions, TreeDragOptions } from '../../tree';\r\n/**\r\n * **Deprecated since 2005, use {@link EditableListComponent}.**\r\n *\r\n * The yEditableList component allows displaying a list of items. The list can be managed dynamically, by\r\n * adding, removing, and re-ordering it.\r\n *\r\n * ### Parameters\r\n *\r\n * `id` - A string used to track and identify the component.\r\n *\r\n * `items` - The collection of items to display in the component.\r\n *\r\n * `refresh` - A function that can be called to update the content of the list.\r\n *\r\n * `onChange` - A function that will be called whenever the content of the list changes.\r\n *\r\n * `itemTemplateUrl` - The path to the template to display each of the items in the list.\r\n *\r\n * `editable` - The property specifies whether the content of the list can be modified.\r\n *\r\n * @deprecated\r\n */\r\nexport declare class YEditableListComponent {\r\n    dragOptions: TreeDragOptions;\r\n    actions: TreeActions;\r\n    onChange: () => void;\r\n    itemTemplateUrl: string;\r\n    editable: boolean;\r\n    refresh: () => void;\r\n    items: NavigationNode[];\r\n    rootId: string;\r\n    id: string;\r\n    private _enableDragAndDrop;\r\n    $onInit(): void;\r\n    private getTreeActions;\r\n    private getDropdownItems;\r\n}\r\n"}}
