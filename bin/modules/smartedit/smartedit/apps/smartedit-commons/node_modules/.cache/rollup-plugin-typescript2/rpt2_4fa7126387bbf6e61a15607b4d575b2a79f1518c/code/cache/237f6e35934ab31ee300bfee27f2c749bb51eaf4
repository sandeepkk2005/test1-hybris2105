{"code":"import { __decorate, __metadata } from \"tslib\";\r\nimport { Component, EventEmitter, InjectionToken, Input, Output } from '@angular/core';\r\nimport { SeDowngradeComponent } from '../../di';\r\nimport { SortDirections } from '../../utils';\r\nexport var DATA_TABLE_COMPONENT_DATA = new InjectionToken('DATA_TABLE_COMPONENT_DATA');\r\nwindow.__smartedit__.addDecoratorPayload(\"Component\", \"DataTableComponent\", {\r\n    selector: 'se-data-table',\r\n    template: \"<table class=\\\"se-paged-list-table fd-table\\\"><thead><tr><th *ngFor=\\\"let column of columns\\\" (click)=\\\"sortColumn(column)\\\" [ngStyle]=\\\"{'width.': columnWidth + '%'}\\\" [ngClass]=\\\"'se-paged-list__header-'+column.property\\\" class=\\\"se-paged-list__header\\\">{{ column.i18n | translate }} <span class=\\\"se-data-table__arrow\\\" *ngIf=\\\"visibleSortingHeader === column.property\\\" [ngClass]=\\\"{ \\n                        'se-data-table__arrow--expanded sap-icon--navigation-down-arrow': headersSortingState[column.property],\\n                        'se-data-table__arrow--not-expanded sap-icon--navigation-up-arrow': !headersSortingState[column.property] }\\\"></span></th></tr></thead><tbody class=\\\"se-paged-list__table-body\\\"><tr *ngFor=\\\"let item of items; let i = index\\\" class=\\\"se-paged-list-item\\\"><td *ngFor=\\\"let column of columns\\\" [ngClass]=\\\"'se-paged-list-item-'+column.property\\\"><se-data-table-renderer [column]=\\\"column\\\" [item]=\\\"item\\\" [config]=\\\"config\\\" [index]=\\\"i\\\"></se-data-table-renderer></td></tr></tbody></table>\"\r\n});\r\nvar /* @ngInject */ DataTableComponent = /** @class */ (function () {\r\n    function /* @ngInject */ DataTableComponent() {\r\n        this.onSortColumn = new EventEmitter();\r\n        this.headersSortingState = {};\r\n    }\r\n    /* @ngInject */ DataTableComponent.prototype.ngOnInit = function () {\r\n        this._validateInput();\r\n        this._configure();\r\n    };\r\n    /* @ngInject */ DataTableComponent.prototype.sortColumn = function (columnKey) {\r\n        if (columnKey.sortable) {\r\n            this.columnToggleReversed = !this.columnToggleReversed;\r\n            this.headersSortingState[columnKey.property] = this.columnToggleReversed;\r\n            this.visibleSortingHeader = columnKey.property;\r\n            this.currentPage = 1;\r\n            this.internalSortBy = columnKey.property;\r\n            this.columnSortMode = this.columnToggleReversed\r\n                ? SortDirections.Descending\r\n                : SortDirections.Ascending;\r\n            this.onSortColumn.emit({\r\n                $columnKey: columnKey,\r\n                $columnSortMode: this.columnSortMode\r\n            });\r\n        }\r\n    };\r\n    /* @ngInject */ DataTableComponent.prototype._configure = function () {\r\n        this.columnWidth = 100 / this.columns.length;\r\n        this.columnToggleReversed = this.config.reversed;\r\n        this.columnSortMode = this.config.reversed\r\n            ? SortDirections.Descending\r\n            : SortDirections.Ascending;\r\n        this.headersSortingState[this.config.sortBy] = this.config.reversed;\r\n        this.visibleSortingHeader = this.config.sortBy;\r\n    };\r\n    /* @ngInject */ DataTableComponent.prototype._validateInput = function () {\r\n        if (!Array.isArray(this.columns)) {\r\n            throw new Error('Columns must be an array');\r\n        }\r\n        if (this.columns.some(function (column) { return !!column.renderer && !!column.component; })) {\r\n            throw new Error('Columns must have either renderer or a component');\r\n        }\r\n        if (!(this.config instanceof Object)) {\r\n            throw new Error('Config must be an object');\r\n        }\r\n    };\r\n    __decorate([\r\n        Input(),\r\n        __metadata(\"design:type\", Array)\r\n    ], /* @ngInject */ DataTableComponent.prototype, \"columns\", void 0);\r\n    __decorate([\r\n        Input(),\r\n        __metadata(\"design:type\", Object)\r\n    ], /* @ngInject */ DataTableComponent.prototype, \"config\", void 0);\r\n    __decorate([\r\n        Input(),\r\n        __metadata(\"design:type\", Array)\r\n    ], /* @ngInject */ DataTableComponent.prototype, \"items\", void 0);\r\n    __decorate([\r\n        Output(),\r\n        __metadata(\"design:type\", EventEmitter)\r\n    ], /* @ngInject */ DataTableComponent.prototype, \"onSortColumn\", void 0);\r\n    /* @ngInject */ DataTableComponent = __decorate([\r\n        SeDowngradeComponent(),\r\n        Component({\r\n            selector: 'se-data-table',\r\n            template: \"<table class=\\\"se-paged-list-table fd-table\\\"><thead><tr><th *ngFor=\\\"let column of columns\\\" (click)=\\\"sortColumn(column)\\\" [ngStyle]=\\\"{'width.': columnWidth + '%'}\\\" [ngClass]=\\\"'se-paged-list__header-'+column.property\\\" class=\\\"se-paged-list__header\\\">{{ column.i18n | translate }} <span class=\\\"se-data-table__arrow\\\" *ngIf=\\\"visibleSortingHeader === column.property\\\" [ngClass]=\\\"{ \\n                        'se-data-table__arrow--expanded sap-icon--navigation-down-arrow': headersSortingState[column.property],\\n                        'se-data-table__arrow--not-expanded sap-icon--navigation-up-arrow': !headersSortingState[column.property] }\\\"></span></th></tr></thead><tbody class=\\\"se-paged-list__table-body\\\"><tr *ngFor=\\\"let item of items; let i = index\\\" class=\\\"se-paged-list-item\\\"><td *ngFor=\\\"let column of columns\\\" [ngClass]=\\\"'se-paged-list-item-'+column.property\\\"><se-data-table-renderer [column]=\\\"column\\\" [item]=\\\"item\\\" [config]=\\\"config\\\" [index]=\\\"i\\\"></se-data-table-renderer></td></tr></tbody></table>\"\r\n        })\r\n    ], /* @ngInject */ DataTableComponent);\r\n    return /* @ngInject */ DataTableComponent;\r\n}());\r\nexport { /* @ngInject */ DataTableComponent };\r\n//# sourceMappingURL=DataTableComponent.js.map","references":["/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular/core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smart-utils/dist/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/di/index.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/utils/index.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/components/dynamicPagedList/interfaces.ts"],"map":"{\"version\":3,\"file\":\"DataTableComponent.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/components/dataTable/DataTableComponent.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/components/dataTable/DataTableComponent.d.ts","writeByteOrderMark":false,"text":"import { EventEmitter, InjectionToken, OnInit } from '@angular/core';\r\nimport { TypedMap } from '@smart/utils';\r\nimport { SortDirections } from '../../utils';\r\nimport { DynamicPagedListColumnKey } from '../dynamicPagedList/interfaces';\r\nexport interface DataTableConfig {\r\n    sortBy: string;\r\n    reversed: boolean;\r\n    injectedContext: any;\r\n}\r\nexport interface DataTableComponentData {\r\n    item: TypedMap<any>;\r\n    column: DynamicPagedListColumnKey;\r\n}\r\nexport declare const DATA_TABLE_COMPONENT_DATA: InjectionToken<unknown>;\r\nexport declare class DataTableComponent implements OnInit {\r\n    columns: DynamicPagedListColumnKey[];\r\n    config: DataTableConfig;\r\n    items: TypedMap<any>[];\r\n    onSortColumn: EventEmitter<{\r\n        $columnKey: DynamicPagedListColumnKey;\r\n        $columnSortMode: SortDirections;\r\n    }>;\r\n    internalSortBy: string;\r\n    currentPage: number;\r\n    columnWidth: number;\r\n    columnToggleReversed: boolean;\r\n    columnSortMode: SortDirections;\r\n    headersSortingState: TypedMap<boolean>;\r\n    visibleSortingHeader: string;\r\n    ngOnInit(): void;\r\n    sortColumn(columnKey: DynamicPagedListColumnKey): void;\r\n    private _configure;\r\n    private _validateInput;\r\n}\r\n"}}
