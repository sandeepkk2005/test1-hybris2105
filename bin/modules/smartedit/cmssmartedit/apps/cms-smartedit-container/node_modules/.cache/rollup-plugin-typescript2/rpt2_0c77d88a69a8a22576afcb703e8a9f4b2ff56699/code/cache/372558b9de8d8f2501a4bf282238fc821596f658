{"code":"import { __decorate } from \"tslib\";\r\n/*\r\n * Copyright (c) 2021 SAP SE or an SAP affiliate company. All rights reserved.\r\n */\r\nimport { isObject, isFunction } from 'lodash';\r\nimport { SeDowngradeService } from 'smarteditcommons';\r\nvar /* @ngInject */ RestrictionPickerConfigService = /** @class */ (function () {\r\n    function /* @ngInject */ RestrictionPickerConfigService() {\r\n        this.MODE_EDITING = 'editing';\r\n        this.MODE_SELECT = 'select';\r\n    }\r\n    /* @ngInject */ RestrictionPickerConfigService.prototype.getConfigForEditing = function (existingRestriction, getSupportedRestrictionTypesFn) {\r\n        return {\r\n            mode: this.MODE_EDITING,\r\n            restriction: existingRestriction,\r\n            getSupportedRestrictionTypesFn: getSupportedRestrictionTypesFn\r\n        };\r\n    };\r\n    /* @ngInject */ RestrictionPickerConfigService.prototype.getConfigForSelecting = function (existingRestrictions, getRestrictionTypesFn, getSupportedRestrictionTypesFn) {\r\n        return {\r\n            mode: this.MODE_SELECT,\r\n            getRestrictionTypesFn: getRestrictionTypesFn,\r\n            getSupportedRestrictionTypesFn: getSupportedRestrictionTypesFn,\r\n            existingRestrictions: existingRestrictions\r\n        };\r\n    };\r\n    /* @ngInject */ RestrictionPickerConfigService.prototype.isEditingMode = function (config) {\r\n        return config.mode === this.MODE_EDITING;\r\n    };\r\n    /* @ngInject */ RestrictionPickerConfigService.prototype.isSelectMode = function (config) {\r\n        return config.mode === this.MODE_SELECT;\r\n    };\r\n    /* @ngInject */ RestrictionPickerConfigService.prototype.isValidConfig = function (config) {\r\n        switch (config.mode) {\r\n            case this.MODE_EDITING:\r\n                return isObject(config.restriction);\r\n            case this.MODE_SELECT:\r\n                if (config.getSupportedRestrictionTypesFn) {\r\n                    return (isFunction(config.getRestrictionTypesFn) &&\r\n                        isFunction(config.getSupportedRestrictionTypesFn));\r\n                }\r\n                return isFunction(config.getRestrictionTypesFn);\r\n            default:\r\n                return false;\r\n        }\r\n    };\r\n    /* @ngInject */ RestrictionPickerConfigService = __decorate([\r\n        SeDowngradeService()\r\n    ], /* @ngInject */ RestrictionPickerConfigService);\r\n    return /* @ngInject */ RestrictionPickerConfigService;\r\n}());\r\nexport { /* @ngInject */ RestrictionPickerConfigService };\r\n//# sourceMappingURL=RestrictionPickerConfigService.js.map","references":["/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@types/lodash@4.14.159/node_modules/@types/lodash/ts3.1/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/dao/RestrictionTypesRestService.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/restrictions/types.ts"],"map":"{\"version\":3,\"file\":\"RestrictionPickerConfigService.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../src/components/restrictions/services/RestrictionPickerConfigService.ts\"],\"names\":[],\"mappings\":\";AAAA;;GAEG;AACH,OAAO,EAAE,QAAQ,EAAE,UAAU,EAAE,MAAM,QAAQ,CAAC;AAC9C,OAAO,EAAE,kBAAkB,EAAE,MAAM,kBAAkB,CAAC;AAmBtD;IAAA;QACI,iBAAY,GAAG,SAAS,CAAC;QACzB,gBAAW,GAAG,QAAQ,CAAC;IAoD3B,CAAC;IAlDU,4EAAmB,GAA1B,UACI,mBAAuC,EACvC,8BAAuD;QAEvD,OAAO;YACH,IAAI,EAAE,IAAI,CAAC,YAAY;YACvB,WAAW,EAAE,mBAAmB;YAChC,8BAA8B,gCAAA;SACjC,CAAC;IACN,CAAC;IAEM,8EAAqB,GAA5B,UACI,oBAA0C,EAC1C,qBAAwD,EACxD,8BAAuD;QAEvD,OAAO;YACH,IAAI,EAAE,IAAI,CAAC,WAAW;YACtB,qBAAqB,uBAAA;YACrB,8BAA8B,gCAAA;YAC9B,oBAAoB,sBAAA;SACvB,CAAC;IACN,CAAC;IAEM,sEAAa,GAApB,UAAqB,MAA6D;QAC9E,OAAO,MAAM,CAAC,IAAI,KAAK,IAAI,CAAC,YAAY,CAAC;IAC7C,CAAC;IAEM,qEAAY,GAAnB,UAAoB,MAA6D;QAC7E,OAAO,MAAM,CAAC,IAAI,KAAK,IAAI,CAAC,WAAW,CAAC;IAC5C,CAAC;IAEM,sEAAa,GAApB,UAAqB,MAA6D;QAC9E,QAAQ,MAAM,CAAC,IAAI,EAAE;YACjB,KAAK,IAAI,CAAC,YAAY;gBAClB,OAAO,QAAQ,CAAE,MAAmC,CAAC,WAAW,CAAC,CAAC;YAEtE,KAAK,IAAI,CAAC,WAAW;gBACjB,IAAI,MAAM,CAAC,8BAA8B,EAAE;oBACvC,OAAO,CACH,UAAU,CAAC,MAAM,CAAC,qBAAqB,CAAC;wBACxC,UAAU,CAAC,MAAM,CAAC,8BAA8B,CAAC,CACpD,CAAC;iBACL;gBACD,OAAO,UAAU,CAAC,MAAM,CAAC,qBAAqB,CAAC,CAAC;YAEpD;gBACI,OAAO,KAAK,CAAC;SACpB;IACL,CAAC;IArDL;QADC,kBAAkB,EAAE;sDAuDpB;IAAD,qDAAC;CAAA,AAtDD,IAsDC\"}","dts":{"name":"/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/components/restrictions/services/RestrictionPickerConfigService.d.ts","writeByteOrderMark":false,"text":"import { IRestrictionType } from '../../../dao/RestrictionTypesRestService';\r\nimport { RestrictionCMSItem } from '../types';\r\ninterface BaseRestrictionConfig {\r\n    getRestrictionTypesFn?: () => Promise<IRestrictionType[]>;\r\n    getSupportedRestrictionTypesFn?: () => Promise<string[]>;\r\n    mode: string;\r\n}\r\nexport interface EditingRestrictionConfig extends BaseRestrictionConfig {\r\n    restriction: RestrictionCMSItem;\r\n}\r\nexport interface SelectingRestrictionConfig extends BaseRestrictionConfig {\r\n    existingRestrictions: RestrictionCMSItem[];\r\n}\r\nexport declare class RestrictionPickerConfigService {\r\n    MODE_EDITING: string;\r\n    MODE_SELECT: string;\r\n    getConfigForEditing(existingRestriction: RestrictionCMSItem, getSupportedRestrictionTypesFn: () => Promise<string[]>): EditingRestrictionConfig;\r\n    getConfigForSelecting(existingRestrictions: RestrictionCMSItem[], getRestrictionTypesFn: () => Promise<IRestrictionType[]>, getSupportedRestrictionTypesFn: () => Promise<string[]>): SelectingRestrictionConfig;\r\n    isEditingMode(config: EditingRestrictionConfig | SelectingRestrictionConfig): boolean;\r\n    isSelectMode(config: EditingRestrictionConfig | SelectingRestrictionConfig): boolean;\r\n    isValidConfig(config: SelectingRestrictionConfig | EditingRestrictionConfig): boolean;\r\n}\r\nexport {};\r\n"}}
