{"code":"import { __decorate, __metadata, __param } from \"tslib\";\r\nimport { Component, Inject } from '@angular/core';\r\nimport { GENERIC_EDITOR_WIDGET_DATA, SeDowngradeComponent } from 'smarteditcommons';\r\nimport { RestrictionTypesService } from '../../../../../services/pageRestrictions/RestrictionTypesService';\r\nimport { RestrictionsService } from '../../../../../services/RestrictionsService';\r\nwindow.__smartedit__.addDecoratorPayload(\"Component\", \"PageRestrictionsEditorComponent\", {\r\n    selector: 'se-page-restrictions-editor',\r\n    template: \"<se-page-restrictions-info-message *ngIf=\\\"page.restrictions?.length > 1\\\"></se-page-restrictions-info-message><se-restrictions-editor [editable]=\\\"isEditable\\\" [getRestrictionTypes]=\\\"getRestrictionTypes\\\" [getSupportedRestrictionTypes]=\\\"getSupportedRestrictionTypes\\\" [item]=\\\"page\\\" [restrictionUuids]=\\\"page.restrictions\\\" [removeValidationMessages]=\\\"onRemoveValidationMessages\\\" (onRestrictionsChange)=\\\"onRestrictionsChange($event)\\\"></se-restrictions-editor>\"\r\n});\r\nvar /* @ngInject */ PageRestrictionsEditorComponent = /** @class */ (function () {\r\n    function /* @ngInject */ PageRestrictionsEditorComponent(data, restrictionsService, restrictionTypesService) {\r\n        this.data = data;\r\n        this.restrictionsService = restrictionsService;\r\n        this.restrictionTypesService = restrictionTypesService;\r\n        (this.editor = data.editor, this.page = data.model);\r\n        this.isEditable = !data.isFieldDisabled();\r\n    }\r\n    /* @ngInject */ PageRestrictionsEditorComponent.prototype.ngOnInit = function () {\r\n        this.initGetRestrictionTypes();\r\n        this.initSupportedRestrictionTypes();\r\n        this.initOnRemoveValidationMessages();\r\n    };\r\n    /* @ngInject */ PageRestrictionsEditorComponent.prototype.onRestrictionsChange = function (_a) {\r\n        var onlyOneRestrictionMustApply = _a.onlyOneRestrictionMustApply, restrictionUuids = _a.restrictionUuids, alwaysEnableSubmit = _a.alwaysEnableSubmit;\r\n        this.page.onlyOneRestrictionMustApply = onlyOneRestrictionMustApply;\r\n        this.page.restrictions = restrictionUuids;\r\n    };\r\n    /* @ngInject */ PageRestrictionsEditorComponent.prototype.initGetRestrictionTypes = function () {\r\n        var _this = this;\r\n        this.getRestrictionTypes = function () {\r\n            return _this.restrictionTypesService.getRestrictionTypesByPageType(_this.page.typeCode);\r\n        };\r\n    };\r\n    /* @ngInject */ PageRestrictionsEditorComponent.prototype.initSupportedRestrictionTypes = function () {\r\n        var _this = this;\r\n        this.getSupportedRestrictionTypes = function () {\r\n            return _this.restrictionsService.getSupportedRestrictionTypeCodes();\r\n        };\r\n    };\r\n    /* @ngInject */ PageRestrictionsEditorComponent.prototype.initOnRemoveValidationMessages = function () {\r\n        var _this = this;\r\n        this.onRemoveValidationMessages = function () { return _this.editor.api.clearMessages(); };\r\n    };\r\n    /* @ngInject */ PageRestrictionsEditorComponent = __decorate([\r\n        SeDowngradeComponent(),\r\n        Component({\r\n            selector: 'se-page-restrictions-editor',\r\n            template: \"<se-page-restrictions-info-message *ngIf=\\\"page.restrictions?.length > 1\\\"></se-page-restrictions-info-message><se-restrictions-editor [editable]=\\\"isEditable\\\" [getRestrictionTypes]=\\\"getRestrictionTypes\\\" [getSupportedRestrictionTypes]=\\\"getSupportedRestrictionTypes\\\" [item]=\\\"page\\\" [restrictionUuids]=\\\"page.restrictions\\\" [removeValidationMessages]=\\\"onRemoveValidationMessages\\\" (onRestrictionsChange)=\\\"onRestrictionsChange($event)\\\"></se-restrictions-editor>\"\r\n        }),\r\n        __param(0, Inject(GENERIC_EDITOR_WIDGET_DATA)),\r\n        __metadata(\"design:paramtypes\", [Object, RestrictionsService,\r\n            RestrictionTypesService])\r\n    ], /* @ngInject */ PageRestrictionsEditorComponent);\r\n    return /* @ngInject */ PageRestrictionsEditorComponent;\r\n}());\r\nexport { /* @ngInject */ PageRestrictionsEditorComponent };\r\n//# sourceMappingURL=PageRestrictionsEditorComponent.js.map","references":["/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular/core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-commons/dist/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/pages/pageWizard/index.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/dao/RestrictionTypesRestService.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/services/pageRestrictions/RestrictionTypesService.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/services/RestrictionsService.ts"],"map":"{\"version\":3,\"file\":\"PageRestrictionsEditorComponent.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../../../src/components/cmsComponents/restrictionEditor/pageRestrictions/pageRestrictionsEditor/PageRestrictionsEditorComponent.ts\"],\"names\":[],\"mappings\":\";AACA,OAAO,EAAE,SAAS,EAAE,MAAM,EAAU,MAAM,eAAe,CAAC;AAE1D,OAAO,EAEH,0BAA0B,EAE1B,oBAAoB,EACvB,MAAM,kBAAkB,CAAC;AAG1B,OAAO,EAAE,uBAAuB,EAAE,MAAM,kEAAkE,CAAC;AAC3G,OAAO,EAAE,mBAAmB,EAAE,MAAM,6CAA6C,CAAC;yFAIvE;IACP,QAAQ,EAAE,6BAA6B;IACvC,QAAQ,EAAE,qdAAqc;CACld;AACD;IASI,yDAC+C,IAAkC,EACrE,mBAAwC,EACxC,uBAAgD;QAFb,SAAI,GAAJ,IAAI,CAA8B;QACrE,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,4BAAuB,GAAvB,uBAAuB,CAAyB;QAExD,CAAW,IAAI,CAAC,MAAM,GAAuB,IAAI,OAA3B,EAAS,IAAI,CAAC,IAAI,GAAK,IAAI,MAAT,CAAU,CAAC;QACnD,IAAI,CAAC,UAAU,GAAG,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC;IAC9C,CAAC;IAED,kEAAQ,GAAR;QACI,IAAI,CAAC,uBAAuB,EAAE,CAAC;QAC/B,IAAI,CAAC,6BAA6B,EAAE,CAAC;QACrC,IAAI,CAAC,8BAA8B,EAAE,CAAC;IAC1C,CAAC;IAGM,8EAAoB,GAA3B,UAA4B,EAIV;YAHd,2BAA2B,iCAAA,EAC3B,gBAAgB,sBAAA,EAChB,kBAAkB,wBAAA;QAElB,IAAI,CAAC,IAAI,CAAC,2BAA2B,GAAG,2BAA2B,CAAC;QACpE,IAAI,CAAC,IAAI,CAAC,YAAY,GAAG,gBAAgB,CAAC;IAC9C,CAAC;IAGO,iFAAuB,GAA/B;QAAA,iBAGC;QAFG,IAAI,CAAC,mBAAmB,GAAG;YACvB,OAAA,KAAI,CAAC,uBAAuB,CAAC,6BAA6B,CAAC,KAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;QAA9E,CAA8E,CAAC;IACvF,CAAC;IAGO,uFAA6B,GAArC;QAAA,iBAGC;QAFG,IAAI,CAAC,4BAA4B,GAAG;YAChC,OAAA,KAAI,CAAC,mBAAmB,CAAC,gCAAgC,EAAE;QAA3D,CAA2D,CAAC;IACpE,CAAC;IAGO,wFAA8B,GAAtC;QAAA,iBAEC;QADG,IAAI,CAAC,0BAA0B,GAAG,cAAY,OAAA,KAAI,CAAC,MAAM,CAAC,GAAG,CAAC,aAAa,EAAE,EAA/B,CAA+B,CAAC;IAClF,CAAC;IAjDL;QALC,oBAAoB,EAAE;QACtB,SAAS,CAAC;YACP,QAAQ,EAAE,6BAA6B;YACvC,QAAQ,EAAE,qdAAqc;SACld,CAAC;QAWO,WAAA,MAAM,CAAC,0BAA0B,CAAC,CAAA;iDACN,mBAAmB;YACf,uBAAuB;uDAsC/D;IAAD,sDAAC;CAAA,AAlDD,IAkDC\"}","dts":{"name":"/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/components/cmsComponents/restrictionEditor/pageRestrictions/pageRestrictionsEditor/PageRestrictionsEditorComponent.d.ts","writeByteOrderMark":false,"text":"import { OnInit } from '@angular/core';\r\nimport { ICMSPage } from 'cmscommons';\r\nimport { GenericEditorWidgetData } from 'smarteditcommons';\r\nimport { RestrictionsDTO } from '../../../../../components/pages/pageWizard';\r\nimport { IRestrictionType } from '../../../../../dao/RestrictionTypesRestService';\r\nimport { RestrictionTypesService } from '../../../../../services/pageRestrictions/RestrictionTypesService';\r\nimport { RestrictionsService } from '../../../../../services/RestrictionsService';\r\nexport declare class PageRestrictionsEditorComponent implements OnInit {\r\n    data: GenericEditorWidgetData<any>;\r\n    private restrictionsService;\r\n    private restrictionTypesService;\r\n    page: ICMSPage;\r\n    isEditable: boolean;\r\n    getRestrictionTypes: () => Promise<IRestrictionType[]>;\r\n    getSupportedRestrictionTypes: () => Promise<string[]>;\r\n    onRemoveValidationMessages: () => void;\r\n    private editor;\r\n    constructor(data: GenericEditorWidgetData<any>, restrictionsService: RestrictionsService, restrictionTypesService: RestrictionTypesService);\r\n    ngOnInit(): void;\r\n    onRestrictionsChange({ onlyOneRestrictionMustApply, restrictionUuids, alwaysEnableSubmit }: RestrictionsDTO): void;\r\n    private initGetRestrictionTypes;\r\n    private initSupportedRestrictionTypes;\r\n    private initOnRemoveValidationMessages;\r\n}\r\n"}}
