{"code":"import { __decorate, __metadata } from \"tslib\";\r\n/*\r\n * Copyright (c) 2021 SAP SE or an SAP affiliate company. All rights reserved.\r\n */\r\nimport { Directive, ElementRef, EventEmitter, HostListener, Output } from '@angular/core';\r\nimport { IIframeClickDetectionService } from '../../services/interfaces/IIframeClickDetectionService';\r\nimport { stringUtils } from '../../utils/StringUtils';\r\nvar ClickOutsideDirective = /** @class */ (function () {\r\n    function ClickOutsideDirective(host, iframeClickDetectionService) {\r\n        this.host = host;\r\n        this.iframeClickDetectionService = iframeClickDetectionService;\r\n        this.clickOutside = new EventEmitter();\r\n        this.id = \"clickOutsideIframeClick\" + stringUtils.generateIdentifier();\r\n    }\r\n    ClickOutsideDirective.prototype.onDocumentClick = function (target) {\r\n        if (target === this.host.nativeElement || this.host.nativeElement.contains(target)) {\r\n            return;\r\n        }\r\n        this.clickOutside.emit();\r\n    };\r\n    ClickOutsideDirective.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        this.iframeClickDetectionService.registerCallback(this.id, function () { return _this.onOutsideClick(); });\r\n    };\r\n    ClickOutsideDirective.prototype.ngOnDestroy = function () {\r\n        this.iframeClickDetectionService.removeCallback(this.id);\r\n    };\r\n    ClickOutsideDirective.prototype.onOutsideClick = function () {\r\n        this.clickOutside.emit();\r\n    };\r\n    __decorate([\r\n        Output(),\r\n        __metadata(\"design:type\", EventEmitter)\r\n    ], ClickOutsideDirective.prototype, \"clickOutside\", void 0);\r\n    __decorate([\r\n        HostListener('document:click', ['$event.target']),\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [HTMLElement]),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], ClickOutsideDirective.prototype, \"onDocumentClick\", null);\r\n    ClickOutsideDirective = __decorate([\r\n        Directive({\r\n            selector: '[seClickOutside]'\r\n        }),\r\n        __metadata(\"design:paramtypes\", [ElementRef,\r\n            IIframeClickDetectionService])\r\n    ], ClickOutsideDirective);\r\n    return ClickOutsideDirective;\r\n}());\r\nexport { ClickOutsideDirective };\r\n//# sourceMappingURL=ClickOutsideDirective.js.map","references":["/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular/core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/services/interfaces/IIframeClickDetectionService.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/utils/StringUtils.ts"],"map":"{\"version\":3,\"file\":\"ClickOutsideDirective.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/directives/clickOutside/ClickOutsideDirective.ts\"],\"names\":[],\"mappings\":\";AAAA;;GAEG;AACH,OAAO,EACH,SAAS,EACT,UAAU,EACV,YAAY,EACZ,YAAY,EAGZ,MAAM,EACT,MAAM,eAAe,CAAC;AAEvB,OAAO,EAAE,4BAA4B,EAAE,MAAM,wDAAwD,CAAC;AACtG,OAAO,EAAE,WAAW,EAAE,MAAM,yBAAyB,CAAC;AAKtD;IAKI,+BACY,IAAgB,EAChB,2BAAyD;QADzD,SAAI,GAAJ,IAAI,CAAY;QAChB,gCAA2B,GAA3B,2BAA2B,CAA8B;QAN3D,iBAAY,GAAuB,IAAI,YAAY,EAAQ,CAAC;QAErD,OAAE,GAAW,4BAA0B,WAAW,CAAC,kBAAkB,EAAI,CAAC;IAKxF,CAAC;IAE+C,+CAAe,GAAf,UAAgB,MAAmB;QAClF,IAAI,MAAM,KAAK,IAAI,CAAC,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE;YAChF,OAAO;SACV;QAED,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;IAC7B,CAAC;IAED,wCAAQ,GAAR;QAAA,iBAEC;QADG,IAAI,CAAC,2BAA2B,CAAC,gBAAgB,CAAC,IAAI,CAAC,EAAE,EAAE,cAAM,OAAA,KAAI,CAAC,cAAc,EAAE,EAArB,CAAqB,CAAC,CAAC;IAC5F,CAAC;IAED,2CAAW,GAAX;QACI,IAAI,CAAC,2BAA2B,CAAC,cAAc,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IAC7D,CAAC;IAEO,8CAAc,GAAtB;QACI,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;IAC7B,CAAC;IA3BS;QAAT,MAAM,EAAE;kCAAe,YAAY;+DAAkC;IASnB;QAAlD,YAAY,CAAC,gBAAgB,EAAE,CAAC,eAAe,CAAC,CAAC;;yCAAyB,WAAW;;gEAMrF;IAhBQ,qBAAqB;QAHjC,SAAS,CAAC;YACP,QAAQ,EAAE,kBAAkB;SAC/B,CAAC;yCAOoB,UAAU;YACa,4BAA4B;OAP5D,qBAAqB,CA6BjC;IAAD,4BAAC;CAAA,AA7BD,IA6BC;SA7BY,qBAAqB\"}","dts":{"name":"/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/directives/clickOutside/ClickOutsideDirective.d.ts","writeByteOrderMark":false,"text":"import { ElementRef, EventEmitter, OnDestroy, OnInit } from '@angular/core';\r\nimport { IIframeClickDetectionService } from '../../services/interfaces/IIframeClickDetectionService';\r\nexport declare class ClickOutsideDirective implements OnInit, OnDestroy {\r\n    private host;\r\n    private iframeClickDetectionService;\r\n    clickOutside: EventEmitter<void>;\r\n    private readonly id;\r\n    constructor(host: ElementRef, iframeClickDetectionService: IIframeClickDetectionService);\r\n    onDocumentClick(target: HTMLElement): void;\r\n    ngOnInit(): void;\r\n    ngOnDestroy(): void;\r\n    private onOutsideClick;\r\n}\r\n"}}
