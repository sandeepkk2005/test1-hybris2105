{"code":"import { __assign, __decorate, __extends, __metadata } from \"tslib\";\r\nimport { objectUtils, stringUtils, ALL_PERSPECTIVE, CrossFrameEventService, EVENT_PERSPECTIVE_ADDED, EVENT_PERSPECTIVE_CHANGED, EVENT_PERSPECTIVE_REFRESHED, EVENT_PERSPECTIVE_UNLOADING, EVENT_PERSPECTIVE_UPDATED, EVENTS, GatewayProxied, IFeatureService, IPermissionService, IPerspectiveService, IStorageService, IWaitDialogService, LogService, NONE_PERSPECTIVE, PERSPECTIVE_SELECTOR_WIDGET_KEY, SeDowngradeService, SmarteditRoutingService, SystemEventService, STORE_FRONT_CONTEXT } from 'smarteditcommons';\r\n/** @internal */\r\nvar /* @ngInject */ PerspectiveService = /** @class */ (function (_super) {\r\n    __extends(/* @ngInject */ PerspectiveService, _super);\r\n    function /* @ngInject */ PerspectiveService(routingService, logService, systemEventService, featureService, waitDialogService, storageService, crossFrameEventService, permissionService) {\r\n        var _this = _super.call(this) || this;\r\n        _this.routingService = routingService;\r\n        _this.logService = logService;\r\n        _this.systemEventService = systemEventService;\r\n        _this.featureService = featureService;\r\n        _this.waitDialogService = waitDialogService;\r\n        _this.storageService = storageService;\r\n        _this.crossFrameEventService = crossFrameEventService;\r\n        _this.permissionService = permissionService;\r\n        _this.PERSPECTIVE_COOKIE_NAME = 'smartedit-perspectives';\r\n        _this.INITIAL_SWITCHTO_ARG = 'INITIAL_SWITCHTO_ARG';\r\n        _this.data = {\r\n            activePerspective: undefined,\r\n            previousPerspective: undefined,\r\n            previousSwitchToArg: _this.INITIAL_SWITCHTO_ARG\r\n        };\r\n        _this.immutablePerspectives = []; // once a perspective is registered it will always exists in this variable\r\n        _this.perspectives = [];\r\n        _this._addDefaultPerspectives();\r\n        _this._registerEventHandlers();\r\n        _this.NON_PERSPECTIVE_OBJECT = { key: NONE_PERSPECTIVE, nameI18nKey: '', features: [] };\r\n        return _this;\r\n    }\r\n    /* @ngInject */ PerspectiveService.prototype.register = function (configuration) {\r\n        this._validate(configuration);\r\n        var perspective = this._findByKey(configuration.key);\r\n        if (!perspective) {\r\n            this._addPerspectiveSelectorWidget(configuration);\r\n            perspective = configuration;\r\n            perspective.isHotkeyDisabled = !!configuration.isHotkeyDisabled;\r\n            this.immutablePerspectives.push(perspective);\r\n            this.perspectives.push(perspective);\r\n            this.systemEventService.publishAsync(EVENT_PERSPECTIVE_ADDED);\r\n        }\r\n        else {\r\n            perspective.features = objectUtils.uniqueArray(perspective.features || [], configuration.features || []);\r\n            perspective.perspectives = objectUtils.uniqueArray(perspective.perspectives || [], configuration.perspectives || []);\r\n            perspective.permissions = objectUtils.uniqueArray(perspective.permissions || [], configuration.permissions || []);\r\n            this.systemEventService.publishAsync(EVENT_PERSPECTIVE_UPDATED);\r\n        }\r\n        return Promise.resolve();\r\n    };\r\n    // Filters immutablePerspectives to determine which perspectives are available, taking into account security\r\n    /* @ngInject */ PerspectiveService.prototype.getPerspectives = function () {\r\n        var _this = this;\r\n        var promises = [];\r\n        this.immutablePerspectives.forEach(function (perspective) {\r\n            var promise;\r\n            if (perspective.permissions && perspective.permissions.length > 0) {\r\n                promise = _this.permissionService.isPermitted([\r\n                    {\r\n                        names: perspective.permissions\r\n                    }\r\n                ]);\r\n            }\r\n            else {\r\n                promise = Promise.resolve(true);\r\n            }\r\n            promises.push(promise);\r\n        });\r\n        return Promise.all(promises).then(function (results) {\r\n            return _this.immutablePerspectives.filter(function (perspective, index) { return results[index]; });\r\n        });\r\n    };\r\n    /* @ngInject */ PerspectiveService.prototype.hasActivePerspective = function () {\r\n        return Promise.resolve(Boolean(this.data.activePerspective));\r\n    };\r\n    /* @ngInject */ PerspectiveService.prototype.getActivePerspective = function () {\r\n        return this.data.activePerspective\r\n            ? __assign({}, this._findByKey(this.data.activePerspective.key)) : null;\r\n    };\r\n    /* @ngInject */ PerspectiveService.prototype.isEmptyPerspectiveActive = function () {\r\n        return Promise.resolve(!!this.data.activePerspective && this.data.activePerspective.key === NONE_PERSPECTIVE);\r\n    };\r\n    /* @ngInject */ PerspectiveService.prototype.switchTo = function (key) {\r\n        var _this = this;\r\n        if (!this._changeActivePerspective(key)) {\r\n            this.waitDialogService.hideWaitModal();\r\n            return Promise.resolve();\r\n        }\r\n        this._handleUnloadEvent(key);\r\n        this.waitDialogService.showWaitModal();\r\n        var featuresFromPreviousPerspective = [];\r\n        if (this.data.previousPerspective) {\r\n            this._fetchAllFeatures(this.data.previousPerspective, featuresFromPreviousPerspective);\r\n        }\r\n        var featuresFromNewPerspective = [];\r\n        this._fetchAllFeatures(this.data.activePerspective, featuresFromNewPerspective);\r\n        // deactivating any active feature not belonging to either the perspective or one of its nested perspectives\r\n        featuresFromPreviousPerspective\r\n            .filter(function (featureKey) {\r\n            return !featuresFromNewPerspective.some(function (f) { return featureKey === f; });\r\n        })\r\n            .forEach(function (featureKey) {\r\n            _this.featureService.disable(featureKey);\r\n        });\r\n        // activating any feature belonging to either the perspective or one of its nested perspectives\r\n        var permissionPromises = [];\r\n        featuresFromNewPerspective\r\n            .filter(function (feature) {\r\n            return !featuresFromPreviousPerspective.some(function (f) { return feature === f; });\r\n        })\r\n            .forEach(function (featureKey) {\r\n            permissionPromises.push(_this._enableOrDisableFeature(featureKey));\r\n        });\r\n        return Promise.all(permissionPromises).then(function () {\r\n            if (_this.data.activePerspective.key === NONE_PERSPECTIVE) {\r\n                _this.waitDialogService.hideWaitModal();\r\n            }\r\n            _this.crossFrameEventService.publish(EVENT_PERSPECTIVE_CHANGED, _this.data.activePerspective.key !== NONE_PERSPECTIVE);\r\n        });\r\n    };\r\n    /* @ngInject */ PerspectiveService.prototype.selectDefault = function () {\r\n        var _this = this;\r\n        return this.getPerspectives().then(function (perspectives) {\r\n            return _this.storageService\r\n                .getValueFromLocalStorage(_this.PERSPECTIVE_COOKIE_NAME, true)\r\n                .then(function (cookieValue) {\r\n                //  restricted by permission\r\n                var perspectiveAvailable = perspectives.find(function (p) { return p.key === cookieValue; });\r\n                var defaultPerspective;\r\n                var perspective;\r\n                if (!perspectiveAvailable) {\r\n                    _this.logService.warn('Cannot select mode \"' +\r\n                        cookieValue +\r\n                        '\" It might not exist or is restricted.');\r\n                    // from full list of perspectives, regardless of permissions\r\n                    var perspectiveFromCookie = _this._findByKey(cookieValue);\r\n                    if (!!perspectiveFromCookie) {\r\n                        _this._disableAllFeaturesForPerspective(perspectiveFromCookie);\r\n                    }\r\n                    defaultPerspective = _this.NON_PERSPECTIVE_OBJECT;\r\n                    perspective = _this.NON_PERSPECTIVE_OBJECT;\r\n                }\r\n                else {\r\n                    var perspectiveFromCookie = _this._findByKey(cookieValue);\r\n                    defaultPerspective = perspectiveFromCookie\r\n                        ? perspectiveFromCookie\r\n                        : _this.NON_PERSPECTIVE_OBJECT;\r\n                    perspective = _this.data.previousPerspective\r\n                        ? _this.data.previousPerspective\r\n                        : defaultPerspective;\r\n                }\r\n                if (defaultPerspective.key !== _this.NON_PERSPECTIVE_OBJECT.key) {\r\n                    _this._disableAllFeaturesForPerspective(defaultPerspective);\r\n                }\r\n                return _this.switchTo(perspective.key);\r\n            });\r\n        });\r\n    };\r\n    /* @ngInject */ PerspectiveService.prototype.refreshPerspective = function () {\r\n        var _this = this;\r\n        return this.getPerspectives().then(function (result) {\r\n            var activePerspective = _this.getActivePerspective();\r\n            if (!activePerspective) {\r\n                return _this.selectDefault();\r\n            }\r\n            else {\r\n                _this.perspectives = result;\r\n                if (!_this._findByKey(activePerspective.key)) {\r\n                    return _this.switchTo(NONE_PERSPECTIVE);\r\n                }\r\n                else {\r\n                    var features = [];\r\n                    var permissionPromises_1 = [];\r\n                    _this._fetchAllFeatures(activePerspective, features);\r\n                    features.forEach(function (featureKey) {\r\n                        permissionPromises_1.push(_this._enableOrDisableFeature(featureKey));\r\n                    });\r\n                    return Promise.all(permissionPromises_1).then(function () {\r\n                        _this.waitDialogService.hideWaitModal();\r\n                        _this.crossFrameEventService.publish(EVENT_PERSPECTIVE_REFRESHED, activePerspective.key !== NONE_PERSPECTIVE);\r\n                    });\r\n                }\r\n            }\r\n        });\r\n    };\r\n    /* @ngInject */ PerspectiveService.prototype.getActivePerspectiveKey = function () {\r\n        var activePerspective = this.getActivePerspective();\r\n        return Promise.resolve(activePerspective ? activePerspective.key : null);\r\n    };\r\n    /* @ngInject */ PerspectiveService.prototype.isHotkeyEnabledForActivePerspective = function () {\r\n        var activePerspective = this.getActivePerspective();\r\n        return Promise.resolve(activePerspective && !activePerspective.isHotkeyDisabled);\r\n    };\r\n    /* @ngInject */ PerspectiveService.prototype._addPerspectiveSelectorWidget = function (configuration) {\r\n        configuration.features = configuration.features || [];\r\n        if (configuration.features.indexOf(PERSPECTIVE_SELECTOR_WIDGET_KEY) === -1) {\r\n            configuration.features.unshift(PERSPECTIVE_SELECTOR_WIDGET_KEY);\r\n        }\r\n    };\r\n    /* @ngInject */ PerspectiveService.prototype._addDefaultPerspectives = function () {\r\n        this.register({\r\n            key: NONE_PERSPECTIVE,\r\n            nameI18nKey: 'se.perspective.none.name',\r\n            isHotkeyDisabled: true,\r\n            descriptionI18nKey: 'se.perspective.none.description.disabled'\r\n        });\r\n        this.register({\r\n            key: ALL_PERSPECTIVE,\r\n            nameI18nKey: 'se.perspective.all.name',\r\n            descriptionI18nKey: 'se.perspective.all.description'\r\n        });\r\n    };\r\n    /* @ngInject */ PerspectiveService.prototype._registerEventHandlers = function () {\r\n        var _this = this;\r\n        this.systemEventService.subscribe(EVENTS.LOGOUT, this._clearPerspectiveFeatures.bind(this));\r\n        this.crossFrameEventService.subscribe(EVENTS.USER_HAS_CHANGED, this._clearPerspectiveFeatures.bind(this));\r\n        // clear the features when navigating to another page than the storefront. this is preventing a flickering of toolbar icons when going back to storefront on another page.\r\n        this.routingService.routeChangeSuccess().subscribe(function (event) {\r\n            var url = _this.routingService.getCurrentUrlFromEvent(event);\r\n            if ((url || '').includes(STORE_FRONT_CONTEXT)) {\r\n                _this._clearPerspectiveFeatures();\r\n            }\r\n        });\r\n    };\r\n    /* @ngInject */ PerspectiveService.prototype._validate = function (configuration) {\r\n        if (stringUtils.isBlank(configuration.key)) {\r\n            throw new Error('perspectiveService.configuration.key.error.required');\r\n        }\r\n        if (stringUtils.isBlank(configuration.nameI18nKey)) {\r\n            throw new Error('perspectiveService.configuration.nameI18nKey.error.required');\r\n        }\r\n        if ([NONE_PERSPECTIVE, ALL_PERSPECTIVE].indexOf(configuration.key) === -1 &&\r\n            (stringUtils.isBlank(configuration.features) || configuration.features.length === 0)) {\r\n            throw new Error('perspectiveService.configuration.features.error.required');\r\n        }\r\n    };\r\n    /* @ngInject */ PerspectiveService.prototype._findByKey = function (key) {\r\n        return this.perspectives.find(function (perspective) { return perspective.key === key; });\r\n    };\r\n    /* @ngInject */ PerspectiveService.prototype._fetchAllFeatures = function (perspective, holder) {\r\n        var _this = this;\r\n        if (!holder) {\r\n            holder = [];\r\n        }\r\n        if (perspective.key === ALL_PERSPECTIVE) {\r\n            objectUtils.uniqueArray(holder, this.featureService.getFeatureKeys() || []);\r\n        }\r\n        else {\r\n            objectUtils.uniqueArray(holder, perspective.features || []);\r\n            (perspective.perspectives || []).forEach(function (perspectiveKey) {\r\n                var nestedPerspective = _this._findByKey(perspectiveKey);\r\n                if (nestedPerspective) {\r\n                    _this._fetchAllFeatures(nestedPerspective, holder);\r\n                }\r\n                else {\r\n                    _this.logService.debug('nested perspective ' + perspectiveKey + ' was not found in the registry');\r\n                }\r\n            });\r\n        }\r\n    };\r\n    /* @ngInject */ PerspectiveService.prototype._enableOrDisableFeature = function (featureKey) {\r\n        var _this = this;\r\n        return this.featureService\r\n            .getFeatureProperty(featureKey, 'permissions')\r\n            .then(function (permissionNames) {\r\n            if (!Array.isArray(permissionNames)) {\r\n                permissionNames = [];\r\n            }\r\n            return _this.permissionService\r\n                .isPermitted([\r\n                {\r\n                    names: permissionNames\r\n                }\r\n            ])\r\n                .then(function (allowCallback) {\r\n                if (allowCallback) {\r\n                    _this.featureService.enable(featureKey);\r\n                }\r\n                else {\r\n                    _this.featureService.disable(featureKey);\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Takes care of sending EVENT_PERSPECTIVE_UNLOADING when perspectives change.\r\n     *\r\n     * This function tracks the \"key\" argument in calls to switchTo(..) function in order to detect when a\r\n     * perspective is being switched.\r\n     */\r\n    /* @ngInject */ PerspectiveService.prototype._handleUnloadEvent = function (nextPerspectiveKey) {\r\n        if (nextPerspectiveKey !== this.data.previousSwitchToArg &&\r\n            this.data.previousSwitchToArg !== this.INITIAL_SWITCHTO_ARG) {\r\n            this.crossFrameEventService.publish(EVENT_PERSPECTIVE_UNLOADING, this.data.previousSwitchToArg);\r\n        }\r\n        this.data.previousSwitchToArg = nextPerspectiveKey;\r\n    };\r\n    /* @ngInject */ PerspectiveService.prototype._retrievePerspective = function (key) {\r\n        // Validation\r\n        // Change the perspective only if it makes sense.\r\n        if (this.data.activePerspective && this.data.activePerspective.key === key) {\r\n            return null;\r\n        }\r\n        var newPerspective = this._findByKey(key);\r\n        if (!newPerspective) {\r\n            throw new Error(\"switchTo() - Couldn't find perspective with key \" + key);\r\n        }\r\n        return newPerspective;\r\n    };\r\n    /* @ngInject */ PerspectiveService.prototype._changeActivePerspective = function (newPerspectiveKey) {\r\n        var newPerspective = this._retrievePerspective(newPerspectiveKey);\r\n        if (newPerspective) {\r\n            this.data.previousPerspective = this.data.activePerspective;\r\n            this.data.activePerspective = newPerspective;\r\n            this.storageService.setValueInLocalStorage(this.PERSPECTIVE_COOKIE_NAME, newPerspective.key, true);\r\n        }\r\n        return newPerspective;\r\n    };\r\n    /* @ngInject */ PerspectiveService.prototype._disableAllFeaturesForPerspective = function (perspective) {\r\n        var _this = this;\r\n        var features = [];\r\n        this._fetchAllFeatures(perspective, features);\r\n        features.forEach(function (featureKey) {\r\n            _this.featureService.disable(featureKey);\r\n        });\r\n    };\r\n    /* @ngInject */ PerspectiveService.prototype._clearPerspectiveFeatures = function () {\r\n        var _this = this;\r\n        // De-activates all current perspective's features (Still leaves the cookie in the system).\r\n        var perspectiveFeatures = [];\r\n        if (this.data && this.data.activePerspective) {\r\n            this._fetchAllFeatures(this.data.activePerspective, perspectiveFeatures);\r\n        }\r\n        perspectiveFeatures.forEach(function (feature) {\r\n            _this.featureService.disable(feature);\r\n        });\r\n        return Promise.resolve();\r\n    };\r\n    /* @ngInject */ PerspectiveService = __decorate([\r\n        SeDowngradeService(IPerspectiveService),\r\n        GatewayProxied('register', 'switchTo', 'hasActivePerspective', 'isEmptyPerspectiveActive', 'selectDefault', 'refreshPerspective', 'getActivePerspectiveKey', 'isHotkeyEnabledForActivePerspective'),\r\n        __metadata(\"design:paramtypes\", [SmarteditRoutingService,\r\n            LogService,\r\n            SystemEventService,\r\n            IFeatureService,\r\n            IWaitDialogService,\r\n            IStorageService,\r\n            CrossFrameEventService,\r\n            IPermissionService])\r\n    ], /* @ngInject */ PerspectiveService);\r\n    return /* @ngInject */ PerspectiveService;\r\n}(IPerspectiveService));\r\nexport { /* @ngInject */ PerspectiveService };\r\n//# sourceMappingURL=PerspectiveServiceOuter.js.map","references":["/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular/router@8.2.14_e9fbe5720e9434eb9ae0f6720f1ca3f4/node_modules/@angular/router/router.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts"],"map":"{\"version\":3,\"file\":\"PerspectiveServiceOuter.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/services/perspectives/PerspectiveServiceOuter.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-container/services/perspectives/PerspectiveServiceOuter.d.ts","writeByteOrderMark":false,"text":"import { CrossFrameEventService, IFeatureService, IPermissionService, IPerspective, IPerspectiveService, IStorageService, IWaitDialogService, LogService, SmarteditRoutingService, SystemEventService } from 'smarteditcommons';\r\n/** @internal */\r\nexport declare class PerspectiveService extends IPerspectiveService {\r\n    private routingService;\r\n    private logService;\r\n    private systemEventService;\r\n    private featureService;\r\n    private waitDialogService;\r\n    private storageService;\r\n    private crossFrameEventService;\r\n    private permissionService;\r\n    private readonly PERSPECTIVE_COOKIE_NAME;\r\n    private readonly INITIAL_SWITCHTO_ARG;\r\n    private data;\r\n    private immutablePerspectives;\r\n    private perspectives;\r\n    private NON_PERSPECTIVE_OBJECT;\r\n    constructor(routingService: SmarteditRoutingService, logService: LogService, systemEventService: SystemEventService, featureService: IFeatureService, waitDialogService: IWaitDialogService, storageService: IStorageService, crossFrameEventService: CrossFrameEventService, permissionService: IPermissionService);\r\n    register(configuration: IPerspective): Promise<void>;\r\n    getPerspectives(): Promise<IPerspective[]>;\r\n    hasActivePerspective(): Promise<boolean>;\r\n    getActivePerspective(): IPerspective;\r\n    isEmptyPerspectiveActive(): Promise<boolean>;\r\n    switchTo(key: string): Promise<void>;\r\n    selectDefault(): Promise<void>;\r\n    refreshPerspective(): Promise<void>;\r\n    getActivePerspectiveKey(): Promise<string>;\r\n    isHotkeyEnabledForActivePerspective(): Promise<boolean>;\r\n    private _addPerspectiveSelectorWidget;\r\n    private _addDefaultPerspectives;\r\n    private _registerEventHandlers;\r\n    private _validate;\r\n    private _findByKey;\r\n    private _fetchAllFeatures;\r\n    private _enableOrDisableFeature;\r\n    /**\r\n     * Takes care of sending EVENT_PERSPECTIVE_UNLOADING when perspectives change.\r\n     *\r\n     * This function tracks the \"key\" argument in calls to switchTo(..) function in order to detect when a\r\n     * perspective is being switched.\r\n     */\r\n    private _handleUnloadEvent;\r\n    private _retrievePerspective;\r\n    private _changeActivePerspective;\r\n    private _disableAllFeaturesForPerspective;\r\n    private _clearPerspectiveFeatures;\r\n}\r\n"}}
