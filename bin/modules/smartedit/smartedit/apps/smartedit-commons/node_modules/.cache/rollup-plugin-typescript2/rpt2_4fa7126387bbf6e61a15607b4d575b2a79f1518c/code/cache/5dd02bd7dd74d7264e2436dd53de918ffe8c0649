{"code":"import { __decorate } from \"tslib\";\r\n/*\r\n * Copyright (c) 2021 SAP SE or an SAP affiliate company. All rights reserved.\r\n */\r\nimport { Injectable } from '@angular/core';\r\nimport { SeDowngradeService } from '../../../di';\r\nexport var parseValidationMessage = function (message) {\r\n    var expression = new RegExp('[a-zA-Z]+: ([|{)([a-zA-Z0-9]+)(]|}).?', 'g');\r\n    var matches = message.match(expression) || [];\r\n    return matches.reduce(function (messages, match) {\r\n        messages.message = messages.message.replace(match, '').trim();\r\n        var key = match.split(':')[0].trim().toLowerCase();\r\n        var value = match.split(':')[1].match(/[a-zA-Z0-9]+/g)[0];\r\n        messages[key] = value;\r\n        return messages;\r\n    }, {\r\n        message: message\r\n    });\r\n};\r\n/**\r\n * This service provides the functionality to parse validation messages (errors, warnings) received from the backend.\r\n * This service is used to parse validation messages (errors, warnings) for parameters such as language and format,\r\n * which are sent as part of the message itself.\r\n */\r\nvar /* @ngInject */ SeValidationMessageParser = /** @class */ (function () {\r\n    function /* @ngInject */ SeValidationMessageParser() {\r\n    }\r\n    /**\r\n     * Parses extra details, such as language and format, from a validation message (error, warning). These details are also\r\n     * stripped out of the final message. This function expects the message to be in the following format:\r\n     *\r\n     * <pre>\r\n     * const message = \"Some validation message occurred. Language: [en]. Format: [widescreen]. SomeKey: [SomeVal].\"\r\n     * </pre>\r\n     *\r\n     * The resulting message object is as follows:\r\n     * <pre>\r\n     * {\r\n     *     message: \"Some validation message occurred.\"\r\n     *     language: \"en\",\r\n     *     format: \"widescreen\",\r\n     *     somekey: \"someval\"\r\n     * }\r\n     * </pre>\r\n     */\r\n    /* @ngInject */ SeValidationMessageParser.prototype.parse = function (message) {\r\n        return parseValidationMessage(message);\r\n    };\r\n    /* @ngInject */ SeValidationMessageParser = __decorate([\r\n        SeDowngradeService(),\r\n        Injectable()\r\n    ], /* @ngInject */ SeValidationMessageParser);\r\n    return /* @ngInject */ SeValidationMessageParser;\r\n}());\r\nexport { /* @ngInject */ SeValidationMessageParser };\r\n//# sourceMappingURL=SeValidationMessageParser.js.map","references":["/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular/core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/components/genericEditor/index.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/di/index.ts"],"map":"{\"version\":3,\"file\":\"SeValidationMessageParser.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../src/components/genericEditor/services/SeValidationMessageParser.ts\"],\"names\":[],\"mappings\":\";AAAA;;GAEG;AACH,OAAO,EAAE,UAAU,EAAE,MAAM,eAAe,CAAC;AAE3C,OAAO,EAAE,kBAAkB,EAAE,MAAM,aAAa,CAAC;AAEjD,MAAM,CAAC,IAAM,sBAAsB,GAAG,UAAC,OAAe;IAClD,IAAM,UAAU,GAAG,IAAI,MAAM,CAAC,uCAAuC,EAAE,GAAG,CAAC,CAAC;IAC5E,IAAM,OAAO,GAAG,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;IAChD,OAAO,OAAO,CAAC,MAAM,CACjB,UAAC,QAAmC,EAAE,KAAK;QACvC,QAAQ,CAAC,OAAO,GAAG,QAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;QAC9D,IAAM,GAAG,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC;QACrD,IAAM,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC;QAE5D,QAAQ,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;QACtB,OAAO,QAAQ,CAAC;IACpB,CAAC,EACD;QACI,OAAO,SAAA;KACV,CACJ,CAAC;AACN,CAAC,CAAC;AAEF;;;;GAIG;AAGH;IAAA;IAsBA,CAAC;IArBG;;;;;;;;;;;;;;;;;OAiBG;IACH,yDAAK,GAAL,UAAM,OAAe;QACjB,OAAO,sBAAsB,CAAC,OAAO,CAAC,CAAC;IAC3C,CAAC;IArBL;QAFC,kBAAkB,EAAE;QACpB,UAAU,EAAE;iDAuBZ;IAAD,gDAAC;CAAA,AAtBD,IAsBC\"}","dts":{"name":"/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/components/genericEditor/services/SeValidationMessageParser.d.ts","writeByteOrderMark":false,"text":"import { GenericEditorFieldMessage } from '..';\r\nexport declare const parseValidationMessage: (message: string) => GenericEditorFieldMessage;\r\n/**\r\n * This service provides the functionality to parse validation messages (errors, warnings) received from the backend.\r\n * This service is used to parse validation messages (errors, warnings) for parameters such as language and format,\r\n * which are sent as part of the message itself.\r\n */\r\nexport declare class SeValidationMessageParser {\r\n    /**\r\n     * Parses extra details, such as language and format, from a validation message (error, warning). These details are also\r\n     * stripped out of the final message. This function expects the message to be in the following format:\r\n     *\r\n     * <pre>\r\n     * const message = \"Some validation message occurred. Language: [en]. Format: [widescreen]. SomeKey: [SomeVal].\"\r\n     * </pre>\r\n     *\r\n     * The resulting message object is as follows:\r\n     * <pre>\r\n     * {\r\n     *     message: \"Some validation message occurred.\"\r\n     *     language: \"en\",\r\n     *     format: \"widescreen\",\r\n     *     somekey: \"someval\"\r\n     * }\r\n     * </pre>\r\n     */\r\n    parse(message: string): GenericEditorFieldMessage;\r\n}\r\n"}}
