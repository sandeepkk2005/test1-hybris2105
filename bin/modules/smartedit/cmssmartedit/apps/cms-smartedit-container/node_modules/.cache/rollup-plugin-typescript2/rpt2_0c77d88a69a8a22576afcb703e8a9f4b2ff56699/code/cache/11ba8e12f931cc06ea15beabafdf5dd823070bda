{"code":"import { __awaiter, __decorate, __generator, __metadata } from \"tslib\";\r\nimport { Component, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { ICatalogService, IPermissionService, IUrlService, SeDowngradeComponent } from 'smarteditcommons';\r\nwindow.__smartedit__.addDecoratorPayload(\"Component\", \"NavigationManagementPageComponent\", {\r\n    selector: 'se-navigation-management-page',\r\n    template: \"<div class=\\\"se-navigation-management-page-list-template\\\"><div class=\\\"se-toolbar-group\\\"><se-toolbar cssClass=\\\"se-toolbar--shell\\\" imageRoot=\\\"imageRoot\\\" toolbarName=\\\"smartEditHeaderToolbar\\\"></se-toolbar><se-toolbar cssClass=\\\"se-toolbar--shell se-toolbar--shortcut\\\" imageRoot=\\\"imageRoot\\\" toolbarName=\\\"smartEditNavigationToolbar\\\"></se-toolbar></div><div class=\\\"se-navigation-editor-wrapper\\\" *ngIf=\\\"readOnly !== undefined\\\"><div class=\\\"se-navigation-editor-header\\\"><h1 class=\\\"se-navigation-editor-header__title\\\" translate=\\\"se.cms.navigationmanagement.title\\\"></h1><h4 class=\\\"se-navigation-editor-header__sub-title\\\">{{ catalogName | seL10n | async }} - {{ catalogVersion }}</h4></div><se-navigation-editor-tree [uriContext]=\\\"uriContext\\\" [readOnly]=\\\"readOnly\\\"></se-navigation-editor-tree></div></div>\",\r\n    styles: [\".se-navigation-editor-wrapper{min-height:100vh;padding:95px 30px 30px 30px;background-color:#edeff0}.se-navigation-editor-header{position:relative;min-height:100%;background-color:#fff;font-family:\\\"72\\\",web,\\\"Open Sans\\\",sans-serif;margin:0 -30px 20px -30px;padding:16px 30px}.se-navigation-editor-header__title{font-size:1.7142857143rem;line-height:1.3333333333;font-weight:400;color:#32363a;margin:0;padding:0}.se-navigation-editor-header__sub-title{font-size:1rem;line-height:1.4285714286;font-weight:400;color:#6a6d70;margin:0;padding:5px 0 0 0}\"],\r\n    changeDetection: ChangeDetectionStrategy.OnPush\r\n});\r\nvar /* @ngInject */ NavigationManagementPageComponent = /** @class */ (function () {\r\n    function /* @ngInject */ NavigationManagementPageComponent(activatedRoute, urlService, permissionService, catalogService, cdr) {\r\n        this.activatedRoute = activatedRoute;\r\n        this.urlService = urlService;\r\n        this.permissionService = permissionService;\r\n        this.catalogService = catalogService;\r\n        this.cdr = cdr;\r\n    }\r\n    /* @ngInject */ NavigationManagementPageComponent.prototype.ngOnInit = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _a, siteId, catalogId, catalogVersion;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        _a = this.activatedRoute.snapshot.params, siteId = _a.siteId, catalogId = _a.catalogId, catalogVersion = _a.catalogVersion;\r\n                        this.catalogVersion = catalogVersion;\r\n                        this.uriContext = this.urlService.buildUriContext(siteId, catalogId, catalogVersion);\r\n                        return [4 /*yield*/, Promise.all([this.setCatalogName(siteId, catalogId), this.setReadOnly()])];\r\n                    case 1:\r\n                        _b.sent();\r\n                        this.cdr.detectChanges();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /* @ngInject */ NavigationManagementPageComponent.prototype.setCatalogName = function (siteId, catalogId) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var catalogs, foundCatalog;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.catalogService.getContentCatalogsForSite(siteId)];\r\n                    case 1:\r\n                        catalogs = _a.sent();\r\n                        foundCatalog = catalogs.find(function (catalog) { return catalog.catalogId === catalogId; });\r\n                        this.catalogName = (foundCatalog === null || foundCatalog === void 0 ? void 0 : foundCatalog.name) || {};\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /* @ngInject */ NavigationManagementPageComponent.prototype.setReadOnly = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var isPermissionGranted;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.permissionService.isPermitted([\r\n                            {\r\n                                names: ['se.edit.navigation']\r\n                            }\r\n                        ])];\r\n                    case 1:\r\n                        isPermissionGranted = _a.sent();\r\n                        this.readOnly = !isPermissionGranted;\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /* @ngInject */ NavigationManagementPageComponent = __decorate([\r\n        SeDowngradeComponent(),\r\n        Component({\r\n            selector: 'se-navigation-management-page',\r\n            template: \"<div class=\\\"se-navigation-management-page-list-template\\\"><div class=\\\"se-toolbar-group\\\"><se-toolbar cssClass=\\\"se-toolbar--shell\\\" imageRoot=\\\"imageRoot\\\" toolbarName=\\\"smartEditHeaderToolbar\\\"></se-toolbar><se-toolbar cssClass=\\\"se-toolbar--shell se-toolbar--shortcut\\\" imageRoot=\\\"imageRoot\\\" toolbarName=\\\"smartEditNavigationToolbar\\\"></se-toolbar></div><div class=\\\"se-navigation-editor-wrapper\\\" *ngIf=\\\"readOnly !== undefined\\\"><div class=\\\"se-navigation-editor-header\\\"><h1 class=\\\"se-navigation-editor-header__title\\\" translate=\\\"se.cms.navigationmanagement.title\\\"></h1><h4 class=\\\"se-navigation-editor-header__sub-title\\\">{{ catalogName | seL10n | async }} - {{ catalogVersion }}</h4></div><se-navigation-editor-tree [uriContext]=\\\"uriContext\\\" [readOnly]=\\\"readOnly\\\"></se-navigation-editor-tree></div></div>\",\r\n            styles: [\".se-navigation-editor-wrapper{min-height:100vh;padding:95px 30px 30px 30px;background-color:#edeff0}.se-navigation-editor-header{position:relative;min-height:100%;background-color:#fff;font-family:\\\"72\\\",web,\\\"Open Sans\\\",sans-serif;margin:0 -30px 20px -30px;padding:16px 30px}.se-navigation-editor-header__title{font-size:1.7142857143rem;line-height:1.3333333333;font-weight:400;color:#32363a;margin:0;padding:0}.se-navigation-editor-header__sub-title{font-size:1rem;line-height:1.4285714286;font-weight:400;color:#6a6d70;margin:0;padding:5px 0 0 0}\"],\r\n            changeDetection: ChangeDetectionStrategy.OnPush\r\n        }),\r\n        __metadata(\"design:paramtypes\", [ActivatedRoute,\r\n            IUrlService,\r\n            IPermissionService,\r\n            ICatalogService,\r\n            ChangeDetectorRef])\r\n    ], /* @ngInject */ NavigationManagementPageComponent);\r\n    return /* @ngInject */ NavigationManagementPageComponent;\r\n}());\r\nexport { /* @ngInject */ NavigationManagementPageComponent };\r\n//# sourceMappingURL=NavigationManagementPageComponent.js.map","references":["/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular/core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular/router@8.2.14_e9fbe5720e9434eb9ae0f6720f1ca3f4/node_modules/@angular/router/router.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts"],"map":"{\"version\":3,\"file\":\"NavigationManagementPageComponent.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/components/navigation/NavigationManagementPageComponent.ts\"],\"names\":[],\"mappings\":\";AACA,OAAO,EAAE,SAAS,EAAU,uBAAuB,EAAE,iBAAiB,EAAE,MAAM,eAAe,CAAC;AAC9F,OAAO,EAAE,cAAc,EAAE,MAAM,iBAAiB,CAAC;AACjD,OAAO,EACH,eAAe,EACf,kBAAkB,EAElB,WAAW,EAEX,oBAAoB,EACvB,MAAM,kBAAkB,CAAC;2FAGf;IACP,QAAQ,EAAE,+BAA+B;IACzC,QAAQ,EAAE,wzBAAwxB;IAClyB,MAAM,EAAE,CAAC,wiBAAoiB,CAAC;IAC9iB,eAAe,EAAE,uBAAuB,CAAC,MAAM;CAClD;AACD;IAMI,2DACY,cAA8B,EAC9B,UAAuB,EACvB,iBAAqC,EACrC,cAA+B,EAC/B,GAAsB;QAJtB,mBAAc,GAAd,cAAc,CAAgB;QAC9B,eAAU,GAAV,UAAU,CAAa;QACvB,sBAAiB,GAAjB,iBAAiB,CAAoB;QACrC,mBAAc,GAAd,cAAc,CAAiB;QAC/B,QAAG,GAAH,GAAG,CAAmB;IAC/B,CAAC;IAEE,oEAAQ,GAAd;;;;;;wBACU,KAAwC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,MAAM,EAAzE,MAAM,YAAA,EAAE,SAAS,eAAA,EAAE,cAAc,oBAAA,CAAyC;wBAClF,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;wBACrC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,MAAM,EAAE,SAAS,EAAE,cAAc,CAAC,CAAC;wBAErF,qBAAM,OAAO,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,SAAS,CAAC,EAAE,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,EAAA;;wBAA/E,SAA+E,CAAC;wBAEhF,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC;;;;;KAC5B;IAEa,0EAAc,GAA5B,UAA6B,MAAc,EAAE,SAAiB;;;;;4BACzC,qBAAM,IAAI,CAAC,cAAc,CAAC,yBAAyB,CAAC,MAAM,CAAC,EAAA;;wBAAtE,QAAQ,GAAG,SAA2D;wBACtE,YAAY,GAAG,QAAQ,CAAC,IAAI,CAAC,UAAC,OAAO,IAAK,OAAA,OAAO,CAAC,SAAS,KAAK,SAAS,EAA/B,CAA+B,CAAC,CAAC;wBACjF,IAAI,CAAC,WAAW,GAAG,CAAA,YAAY,aAAZ,YAAY,uBAAZ,YAAY,CAAE,IAAI,KAAI,EAAE,CAAC;;;;;KAC/C;IAEa,uEAAW,GAAzB;;;;;4BACgC,qBAAM,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC;4BACjE;gCACI,KAAK,EAAE,CAAC,oBAAoB,CAAC;6BAChC;yBACJ,CAAC,EAAA;;wBAJI,mBAAmB,GAAG,SAI1B;wBACF,IAAI,CAAC,QAAQ,GAAG,CAAC,mBAAmB,CAAC;;;;;KACxC;IArCL;QAPC,oBAAoB,EAAE;QACtB,SAAS,CAAC;YACP,QAAQ,EAAE,+BAA+B;YACzC,QAAQ,EAAE,wzBAAwxB;YAClyB,MAAM,EAAE,CAAC,wiBAAoiB,CAAC;YAC9iB,eAAe,EAAE,uBAAuB,CAAC,MAAM;SAClD,CAAC;yCAQ8B,cAAc;YAClB,WAAW;YACJ,kBAAkB;YACrB,eAAe;YAC1B,iBAAiB;yDA2BrC;IAAD,wDAAC;CAAA,AAtCD,IAsCC\"}","dts":{"name":"/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/components/navigation/NavigationManagementPageComponent.d.ts","writeByteOrderMark":false,"text":"import { OnInit, ChangeDetectorRef } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { ICatalogService, IPermissionService, IUriContext, IUrlService, TypedMap } from 'smarteditcommons';\r\nexport declare class NavigationManagementPageComponent implements OnInit {\r\n    private activatedRoute;\r\n    private urlService;\r\n    private permissionService;\r\n    private catalogService;\r\n    private cdr;\r\n    catalogName: TypedMap<string>;\r\n    catalogVersion: string;\r\n    uriContext: IUriContext;\r\n    readOnly: boolean;\r\n    constructor(activatedRoute: ActivatedRoute, urlService: IUrlService, permissionService: IPermissionService, catalogService: ICatalogService, cdr: ChangeDetectorRef);\r\n    ngOnInit(): Promise<void>;\r\n    private setCatalogName;\r\n    private setReadOnly;\r\n}\r\n"}}
