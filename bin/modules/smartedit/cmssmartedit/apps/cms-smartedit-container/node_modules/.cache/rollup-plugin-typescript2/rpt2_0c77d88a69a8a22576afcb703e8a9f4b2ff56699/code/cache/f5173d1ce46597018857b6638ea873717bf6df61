{"code":"import { __assign, __awaiter, __decorate, __generator, __metadata } from \"tslib\";\r\nimport { ChangeDetectionStrategy, ChangeDetectorRef, Component, ViewEncapsulation } from '@angular/core';\r\nimport { CmsApprovalStatus, IPageService, WORKFLOW_FINISHED_EVENT } from 'cmscommons';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { CrossFrameEventService, EVENTS, EVENT_PERSPECTIVE_CHANGED, IIframeClickDetectionService, IWaitDialogService, LogService, SeDowngradeComponent, SmarteditRoutingService } from 'smarteditcommons';\r\nimport { WorkflowService } from '../../services/WorkflowService';\r\nvar PAGE_APPROVAL_SELECTOR_CLOSE_CALLBACK_ID = 'pageApprovalSelectorClose';\r\nwindow.__smartedit__.addDecoratorPayload(\"Component\", \"PageApprovalSelectorComponent\", {\r\n    selector: 'se-page-approval-selector',\r\n    template: \"<se-dropdown-menu *ngIf=\\\"showDropdown\\\" [useProjectedAnchor]=\\\"true\\\" [dropdownItems]=\\\"pageApprovalOptions$ | async\\\" [(isOpen)]=\\\"isOpen\\\" (isOpenChange)=\\\"onDropdownToggle($event)\\\" [additionalClasses]=\\\"['se-page-approval-selector-list']\\\"><button class=\\\"se-page-approval-selector__toggle-btn fd-button--light sap-icon--navigation-down-arrow\\\"></button></se-dropdown-menu>\",\r\n    styles: [\".se-page-approval-selector__toggle-btn{color:#0a6ed1}.se-page-approval-selector__toggle-btn::before{font-size:1rem;line-height:1.4285714286;font-weight:400}.se-page-approval-selector__toggle-btn:active,.se-page-approval-selector__toggle-btn:focus{box-shadow:none}.se-page-approval-selector__toggle-btn:active,.se-page-approval-selector__toggle-btn:hover{outline:0;border-color:var(--sapButton_Hover_BorderColor);background-color:#fff}.se-page-approval-selector__icon--draft,.se-page-approval-selector__icon--ready-to-sync{width:12px;height:12px;border-radius:50%;margin-right:10px}.se-page-approval-selector__icon--draft{background-color:#6a6d70}.se-page-approval-selector__icon--ready-to-sync{background-color:#0a6ed1}.se-page-approval-selector-list{margin:0;min-width:190px;border:1px solid transparent;box-shadow:0 2px 8px 0 #d9d9d9;border-radius:4px}.se-page-approval-selector .se-dropdown-item{display:flex;align-items:center}.se-page-approval-selector .se-dropdown-item:hover{background-color:var(--sapBackgroundColor,#f7f7f7)}.se-page-approval-selector .fd-popover-container-custom{box-shadow:var(--sapContent_Shadow0)}.se-page-approval-selector .fd-menu{padding:0}\"],\r\n    host: {\r\n        '[class.se-page-approval-selector]': 'true'\r\n    },\r\n    encapsulation: ViewEncapsulation.None,\r\n    changeDetection: ChangeDetectionStrategy.OnPush\r\n});\r\nvar /* @ngInject */ PageApprovalSelectorComponent = /** @class */ (function () {\r\n    function /* @ngInject */ PageApprovalSelectorComponent(iframeClickDetectionService, pageService, waitDialogService, workflowService, crossFrameEventService, routingService, logService, cdr) {\r\n        var _this = this;\r\n        this.iframeClickDetectionService = iframeClickDetectionService;\r\n        this.pageService = pageService;\r\n        this.waitDialogService = waitDialogService;\r\n        this.workflowService = workflowService;\r\n        this.crossFrameEventService = crossFrameEventService;\r\n        this.routingService = routingService;\r\n        this.logService = logService;\r\n        this.cdr = cdr;\r\n        this.isOpen = false;\r\n        this.showDropdown = true;\r\n        this.pageApprovalOptionsSubject = new BehaviorSubject({\r\n            CHECK: {\r\n                status: CmsApprovalStatus.CHECK,\r\n                key: 'se.cms.page.approval.check',\r\n                icon: 'se-page-approval-selector__icon--draft',\r\n                callback: function (_selectedItem, clickedItem) {\r\n                    return _this.selectApprovalStatus(clickedItem);\r\n                }\r\n            },\r\n            APPROVED: {\r\n                status: CmsApprovalStatus.APPROVED,\r\n                key: 'se.cms.page.approval.approved',\r\n                icon: 'se-page-approval-selector__icon--ready-to-sync',\r\n                callback: function (_selectedItem, clickedItem) {\r\n                    return _this.selectApprovalStatus(clickedItem);\r\n                }\r\n            }\r\n        });\r\n    }\r\n    /* @ngInject */ PageApprovalSelectorComponent.prototype.ngOnInit = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        this.unRegWfFinishedHandler = this.crossFrameEventService.subscribe(WORKFLOW_FINISHED_EVENT, function () { return _this.hideComponentIfWorkflowInProgress(); });\r\n                        this.unRegPerspectiveChangedHandler = this.crossFrameEventService.subscribe(EVENT_PERSPECTIVE_CHANGED, function () { return _this.hideComponentIfWorkflowInProgress(); });\r\n                        this.iframeClickDetectionService.registerCallback(PAGE_APPROVAL_SELECTOR_CLOSE_CALLBACK_ID, function () { return _this.closeDropdown(); });\r\n                        this.pageApprovalOptions$ = this.pageApprovalOptionsSubject.pipe(map(function (options) { return Object.values(options).filter(function (option) { return !option.selected; }); }));\r\n                        return [4 /*yield*/, this.hideComponentIfWorkflowInProgress()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /* @ngInject */ PageApprovalSelectorComponent.prototype.ngOnDestroy = function () {\r\n        this.unRegWfFinishedHandler();\r\n        this.unRegPerspectiveChangedHandler();\r\n        this.iframeClickDetectionService.removeCallback(PAGE_APPROVAL_SELECTOR_CLOSE_CALLBACK_ID);\r\n    };\r\n    /* @ngInject */ PageApprovalSelectorComponent.prototype.onDropdownToggle = function (isOpen) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var approvalStatus;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!isOpen) return [3 /*break*/, 2];\r\n                        return [4 /*yield*/, this.getCurrentPageApprovalStatus()];\r\n                    case 1:\r\n                        approvalStatus = _a.sent();\r\n                        this.selectOption(approvalStatus);\r\n                        _a.label = 2;\r\n                    case 2: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /* @ngInject */ PageApprovalSelectorComponent.prototype.selectApprovalStatus = function (_a) {\r\n        var status = _a.status;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var error_1;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        this.waitDialogService.showWaitModal(null);\r\n                        _b.label = 1;\r\n                    case 1:\r\n                        _b.trys.push([1, 3, 4, 5]);\r\n                        return [4 /*yield*/, this.pageService.forcePageApprovalStatus(status)];\r\n                    case 2:\r\n                        _b.sent();\r\n                        this.crossFrameEventService.publish(EVENTS.PAGE_UPDATED);\r\n                        this.routingService.reload();\r\n                        return [3 /*break*/, 5];\r\n                    case 3:\r\n                        error_1 = _b.sent();\r\n                        this.logService.warn(\"[PageApprovalSelector] - Can't change page status.\", error_1);\r\n                        return [3 /*break*/, 5];\r\n                    case 4:\r\n                        this.waitDialogService.hideWaitModal();\r\n                        this.unselectOptions();\r\n                        return [7 /*endfinally*/];\r\n                    case 5: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /* @ngInject */ PageApprovalSelectorComponent.prototype.getCurrentPageApprovalStatus = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var approvalStatus;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.pageService.getCurrentPageInfo()];\r\n                    case 1:\r\n                        approvalStatus = (_a.sent()).approvalStatus;\r\n                        return [2 /*return*/, approvalStatus];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /* @ngInject */ PageApprovalSelectorComponent.prototype.hideComponentIfWorkflowInProgress = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var uuid, workflow;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.pageService.getCurrentPageInfo()];\r\n                    case 1:\r\n                        uuid = (_a.sent()).uuid;\r\n                        return [4 /*yield*/, this.workflowService.getActiveWorkflowForPageUuid(uuid)];\r\n                    case 2:\r\n                        workflow = _a.sent();\r\n                        this.showDropdown = !workflow;\r\n                        this.cdr.detectChanges();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /* @ngInject */ PageApprovalSelectorComponent.prototype.selectOption = function (option) {\r\n        this.unselectOptions();\r\n        var options = this.getOptions();\r\n        if (options[option]) {\r\n            options[option].selected = true;\r\n        }\r\n        this.pageApprovalOptionsSubject.next(options);\r\n    };\r\n    /* @ngInject */ PageApprovalSelectorComponent.prototype.unselectOptions = function () {\r\n        var options = this.getOptions();\r\n        Object.keys(options).forEach(function (key) {\r\n            options[key].selected = false;\r\n        });\r\n        this.pageApprovalOptionsSubject.next(options);\r\n    };\r\n    /* @ngInject */ PageApprovalSelectorComponent.prototype.getOptions = function () {\r\n        return __assign({}, this.pageApprovalOptionsSubject.getValue());\r\n    };\r\n    /* @ngInject */ PageApprovalSelectorComponent.prototype.closeDropdown = function () {\r\n        this.isOpen = false;\r\n        this.cdr.detectChanges();\r\n    };\r\n    /* @ngInject */ PageApprovalSelectorComponent = __decorate([\r\n        SeDowngradeComponent(),\r\n        Component({\r\n            selector: 'se-page-approval-selector',\r\n            template: \"<se-dropdown-menu *ngIf=\\\"showDropdown\\\" [useProjectedAnchor]=\\\"true\\\" [dropdownItems]=\\\"pageApprovalOptions$ | async\\\" [(isOpen)]=\\\"isOpen\\\" (isOpenChange)=\\\"onDropdownToggle($event)\\\" [additionalClasses]=\\\"['se-page-approval-selector-list']\\\"><button class=\\\"se-page-approval-selector__toggle-btn fd-button--light sap-icon--navigation-down-arrow\\\"></button></se-dropdown-menu>\",\r\n            styles: [\".se-page-approval-selector__toggle-btn{color:#0a6ed1}.se-page-approval-selector__toggle-btn::before{font-size:1rem;line-height:1.4285714286;font-weight:400}.se-page-approval-selector__toggle-btn:active,.se-page-approval-selector__toggle-btn:focus{box-shadow:none}.se-page-approval-selector__toggle-btn:active,.se-page-approval-selector__toggle-btn:hover{outline:0;border-color:var(--sapButton_Hover_BorderColor);background-color:#fff}.se-page-approval-selector__icon--draft,.se-page-approval-selector__icon--ready-to-sync{width:12px;height:12px;border-radius:50%;margin-right:10px}.se-page-approval-selector__icon--draft{background-color:#6a6d70}.se-page-approval-selector__icon--ready-to-sync{background-color:#0a6ed1}.se-page-approval-selector-list{margin:0;min-width:190px;border:1px solid transparent;box-shadow:0 2px 8px 0 #d9d9d9;border-radius:4px}.se-page-approval-selector .se-dropdown-item{display:flex;align-items:center}.se-page-approval-selector .se-dropdown-item:hover{background-color:var(--sapBackgroundColor,#f7f7f7)}.se-page-approval-selector .fd-popover-container-custom{box-shadow:var(--sapContent_Shadow0)}.se-page-approval-selector .fd-menu{padding:0}\"],\r\n            host: {\r\n                '[class.se-page-approval-selector]': 'true'\r\n            },\r\n            encapsulation: ViewEncapsulation.None,\r\n            changeDetection: ChangeDetectionStrategy.OnPush\r\n        }),\r\n        __metadata(\"design:paramtypes\", [IIframeClickDetectionService,\r\n            IPageService,\r\n            IWaitDialogService,\r\n            WorkflowService,\r\n            CrossFrameEventService,\r\n            SmarteditRoutingService,\r\n            LogService,\r\n            ChangeDetectorRef])\r\n    ], /* @ngInject */ PageApprovalSelectorComponent);\r\n    return /* @ngInject */ PageApprovalSelectorComponent;\r\n}());\r\nexport { /* @ngInject */ PageApprovalSelectorComponent };\r\n//# sourceMappingURL=PageApprovalSelectorComponent.js.map","references":["/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular/core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-commons/dist/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/rxjs@6.5.4/node_modules/rxjs/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/rxjs@6.5.4/node_modules/rxjs/operators/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/services/WorkflowService.ts"],"map":"{\"version\":3,\"file\":\"PageApprovalSelectorComponent.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../../src/components/workflow/components/pageApprovalSelector/PageApprovalSelectorComponent.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/components/workflow/components/pageApprovalSelector/PageApprovalSelectorComponent.d.ts","writeByteOrderMark":false,"text":"import { ChangeDetectorRef, OnInit } from '@angular/core';\r\nimport { CmsApprovalStatus, IPageService } from 'cmscommons';\r\nimport { Observable } from 'rxjs';\r\nimport { CrossFrameEventService, IDropdownMenuItem, IIframeClickDetectionService, IWaitDialogService, LogService, SmarteditRoutingService } from 'smarteditcommons';\r\nimport { WorkflowService } from '../../services/WorkflowService';\r\ninterface PageApprovalOption extends IDropdownMenuItem {\r\n    status: CmsApprovalStatus;\r\n    selected?: boolean;\r\n}\r\nexport declare class PageApprovalSelectorComponent implements OnInit {\r\n    private iframeClickDetectionService;\r\n    private pageService;\r\n    private waitDialogService;\r\n    private workflowService;\r\n    private crossFrameEventService;\r\n    private routingService;\r\n    private logService;\r\n    private cdr;\r\n    isOpen: boolean;\r\n    showDropdown: boolean;\r\n    pageApprovalOptions$: Observable<PageApprovalOption[]>;\r\n    private pageApprovalOptionsSubject;\r\n    private unRegWfFinishedHandler;\r\n    private unRegPerspectiveChangedHandler;\r\n    constructor(iframeClickDetectionService: IIframeClickDetectionService, pageService: IPageService, waitDialogService: IWaitDialogService, workflowService: WorkflowService, crossFrameEventService: CrossFrameEventService, routingService: SmarteditRoutingService, logService: LogService, cdr: ChangeDetectorRef);\r\n    ngOnInit(): Promise<void>;\r\n    ngOnDestroy(): void;\r\n    onDropdownToggle(isOpen: boolean): Promise<void>;\r\n    private selectApprovalStatus;\r\n    private getCurrentPageApprovalStatus;\r\n    private hideComponentIfWorkflowInProgress;\r\n    private selectOption;\r\n    private unselectOptions;\r\n    private getOptions;\r\n    private closeDropdown;\r\n}\r\nexport {};\r\n"}}
