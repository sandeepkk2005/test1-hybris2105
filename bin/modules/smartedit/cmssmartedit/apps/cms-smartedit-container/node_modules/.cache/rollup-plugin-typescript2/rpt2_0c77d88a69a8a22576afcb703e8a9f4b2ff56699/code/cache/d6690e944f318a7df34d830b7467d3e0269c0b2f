{"code":"import { __decorate, __metadata, __param } from \"tslib\";\r\nimport { ChangeDetectionStrategy, Component, Inject } from '@angular/core';\r\nimport { GENERIC_EDITOR_WIDGET_DATA, SeDowngradeComponent } from 'smarteditcommons';\r\nimport { RestrictionTypesService } from '../../../../services/pageRestrictions/RestrictionTypesService';\r\nimport { RestrictionsService } from '../../../../services/RestrictionsService';\r\nwindow.__smartedit__.addDecoratorPayload(\"Component\", \"ComponentRestrictionsEditorComponent\", {\r\n    selector: 'se-component-restrictions-editor',\r\n    template: \"<se-restrictions-editor [editable]=\\\"isEditable\\\" [getRestrictionTypes]=\\\"getRestrictionTypes\\\" [getSupportedRestrictionTypes]=\\\"getSupportedRestrictionTypes\\\" [item]=\\\"model\\\" [restrictionUuids]=\\\"model.restrictions\\\" (onRestrictionsChange)=\\\"onRestrictionsChange($event)\\\"></se-restrictions-editor>\",\r\n    changeDetection: ChangeDetectionStrategy.OnPush\r\n});\r\nvar /* @ngInject */ ComponentRestrictionsEditorComponent = /** @class */ (function () {\r\n    function /* @ngInject */ ComponentRestrictionsEditorComponent(data, restrictionsService, restrictionTypesService) {\r\n        this.data = data;\r\n        this.restrictionsService = restrictionsService;\r\n        this.restrictionTypesService = restrictionTypesService;\r\n        (this.editor = data.editor, this.field = data.field, this.model = data.model);\r\n        this.isEditable = !data.isFieldDisabled();\r\n    }\r\n    /* @ngInject */ ComponentRestrictionsEditorComponent.prototype.ngOnInit = function () {\r\n        this.initGetRestrictionTypes();\r\n        this.initGetSupportedRestrictionTypes();\r\n        if (this.model.restrictions === undefined) {\r\n            this.editor.form.pristine.restrictions = [];\r\n            this.editor.form.pristine.onlyOneRestrictionMustApply = false;\r\n        }\r\n    };\r\n    /* @ngInject */ ComponentRestrictionsEditorComponent.prototype.onRestrictionsChange = function (_a) {\r\n        var onlyOneRestrictionMustApply = _a.onlyOneRestrictionMustApply, restrictionUuids = _a.restrictionUuids, alwaysEnableSubmit = _a.alwaysEnableSubmit;\r\n        this.model.onlyOneRestrictionMustApply = onlyOneRestrictionMustApply;\r\n        this.model.restrictions = restrictionUuids;\r\n        this.editor.api.setAlwaysEnableSubmit(alwaysEnableSubmit);\r\n    };\r\n    /* @ngInject */ ComponentRestrictionsEditorComponent.prototype.initGetRestrictionTypes = function () {\r\n        var _this = this;\r\n        this.getRestrictionTypes = function () {\r\n            return _this.restrictionTypesService.getRestrictionTypes();\r\n        };\r\n    };\r\n    /* @ngInject */ ComponentRestrictionsEditorComponent.prototype.initGetSupportedRestrictionTypes = function () {\r\n        var _this = this;\r\n        this.getSupportedRestrictionTypes = function () {\r\n            return _this.restrictionsService.getSupportedRestrictionTypeCodes();\r\n        };\r\n    };\r\n    /* @ngInject */ ComponentRestrictionsEditorComponent = __decorate([\r\n        SeDowngradeComponent(),\r\n        Component({\r\n            selector: 'se-component-restrictions-editor',\r\n            template: \"<se-restrictions-editor [editable]=\\\"isEditable\\\" [getRestrictionTypes]=\\\"getRestrictionTypes\\\" [getSupportedRestrictionTypes]=\\\"getSupportedRestrictionTypes\\\" [item]=\\\"model\\\" [restrictionUuids]=\\\"model.restrictions\\\" (onRestrictionsChange)=\\\"onRestrictionsChange($event)\\\"></se-restrictions-editor>\",\r\n            changeDetection: ChangeDetectionStrategy.OnPush\r\n        }),\r\n        __param(0, Inject(GENERIC_EDITOR_WIDGET_DATA)),\r\n        __metadata(\"design:paramtypes\", [Object, RestrictionsService,\r\n            RestrictionTypesService])\r\n    ], /* @ngInject */ ComponentRestrictionsEditorComponent);\r\n    return /* @ngInject */ ComponentRestrictionsEditorComponent;\r\n}());\r\nexport { /* @ngInject */ ComponentRestrictionsEditorComponent };\r\n//# sourceMappingURL=ComponentRestrictionsEditorComponent.js.map","references":["/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular/core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-commons/dist/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/pages/pageWizard/index.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/dao/RestrictionTypesRestService.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/services/pageRestrictions/RestrictionTypesService.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/services/RestrictionsService.ts"],"map":"{\"version\":3,\"file\":\"ComponentRestrictionsEditorComponent.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../../src/components/cmsComponents/restrictionEditor/componentRestrictionsEditor/ComponentRestrictionsEditorComponent.ts\"],\"names\":[],\"mappings\":\";AACA,OAAO,EAAE,uBAAuB,EAAE,SAAS,EAAE,MAAM,EAAU,MAAM,eAAe,CAAC;AAEnF,OAAO,EAGH,0BAA0B,EAE1B,oBAAoB,EACvB,MAAM,kBAAkB,CAAC;AAG1B,OAAO,EAAE,uBAAuB,EAAE,MAAM,+DAA+D,CAAC;AACxG,OAAO,EAAE,mBAAmB,EAAE,MAAM,0CAA0C,CAAC;8FAQpE;IACP,QAAQ,EAAE,kCAAkC;IAC5C,QAAQ,EAAE,8SAAkS;IAC5S,eAAe,EAAE,uBAAuB,CAAC,MAAM;CAClD;AACD;IAQI,8DAC+C,IAA4C,EAC/E,mBAAwC,EACxC,uBAAgD;QAFb,SAAI,GAAJ,IAAI,CAAwC;QAC/E,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,4BAAuB,GAAvB,uBAAuB,CAAyB;QAExD,CAAW,IAAI,CAAC,MAAM,GAA2C,IAAI,OAA/C,EAAS,IAAI,CAAC,KAAK,GAAwB,IAAI,MAA5B,EAAS,IAAI,CAAC,KAAK,GAAK,IAAI,MAAT,CAAU,CAAC;QACvE,IAAI,CAAC,UAAU,GAAG,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC;IAC9C,CAAC;IAED,uEAAQ,GAAR;QACI,IAAI,CAAC,uBAAuB,EAAE,CAAC;QAC/B,IAAI,CAAC,gCAAgC,EAAE,CAAC;QAExC,IAAI,IAAI,CAAC,KAAK,CAAC,YAAY,KAAK,SAAS,EAAE;YACvC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,YAAY,GAAG,EAAE,CAAC;YAC5C,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,2BAA2B,GAAG,KAAK,CAAC;SACjE;IACL,CAAC;IAEM,mFAAoB,GAA3B,UAA4B,EAIV;YAHd,2BAA2B,iCAAA,EAC3B,gBAAgB,sBAAA,EAChB,kBAAkB,wBAAA;QAElB,IAAI,CAAC,KAAK,CAAC,2BAA2B,GAAG,2BAA2B,CAAC;QACrE,IAAI,CAAC,KAAK,CAAC,YAAY,GAAG,gBAAgB,CAAC;QAC3C,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,qBAAqB,CAAC,kBAAkB,CAAC,CAAC;IAC9D,CAAC;IAEM,sFAAuB,GAA9B;QAAA,iBAGC;QAFG,IAAI,CAAC,mBAAmB,GAAG;YACvB,OAAA,KAAI,CAAC,uBAAuB,CAAC,mBAAmB,EAAE;QAAlD,CAAkD,CAAC;IAC3D,CAAC;IAEM,+FAAgC,GAAvC;QAAA,iBAGC;QAFG,IAAI,CAAC,4BAA4B,GAAG;YAChC,OAAA,KAAI,CAAC,mBAAmB,CAAC,gCAAgC,EAAE;QAA3D,CAA2D,CAAC;IACpE,CAAC;IA7CL;QANC,oBAAoB,EAAE;QACtB,SAAS,CAAC;YACP,QAAQ,EAAE,kCAAkC;YAC5C,QAAQ,EAAE,8SAAkS;YAC5S,eAAe,EAAE,uBAAuB,CAAC,MAAM;SAClD,CAAC;QAUO,WAAA,MAAM,CAAC,0BAA0B,CAAC,CAAA;iDACN,mBAAmB;YACf,uBAAuB;4DAmC/D;IAAD,2DAAC;CAAA,AA9CD,IA8CC\"}","dts":{"name":"/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/components/cmsComponents/restrictionEditor/componentRestrictionsEditor/ComponentRestrictionsEditorComponent.d.ts","writeByteOrderMark":false,"text":"import { OnInit } from '@angular/core';\r\nimport { CMSItem } from 'cmscommons';\r\nimport { GenericEditorField, GenericEditorWidgetData } from 'smarteditcommons';\r\nimport { RestrictionsDTO } from '../../../../components/pages/pageWizard';\r\nimport { IRestrictionType } from '../../../../dao/RestrictionTypesRestService';\r\nimport { RestrictionTypesService } from '../../../../services/pageRestrictions/RestrictionTypesService';\r\nimport { RestrictionsService } from '../../../../services/RestrictionsService';\r\ninterface ComponentItem extends CMSItem {\r\n    restrictions: string[];\r\n}\r\nexport declare class ComponentRestrictionsEditorComponent implements OnInit {\r\n    data: GenericEditorWidgetData<ComponentItem>;\r\n    private restrictionsService;\r\n    private restrictionTypesService;\r\n    field: GenericEditorField;\r\n    model: ComponentItem;\r\n    isEditable: boolean;\r\n    getRestrictionTypes: () => Promise<IRestrictionType[]>;\r\n    getSupportedRestrictionTypes: () => Promise<string[]>;\r\n    private editor;\r\n    constructor(data: GenericEditorWidgetData<ComponentItem>, restrictionsService: RestrictionsService, restrictionTypesService: RestrictionTypesService);\r\n    ngOnInit(): void;\r\n    onRestrictionsChange({ onlyOneRestrictionMustApply, restrictionUuids, alwaysEnableSubmit }: RestrictionsDTO): void;\r\n    initGetRestrictionTypes(): void;\r\n    initGetSupportedRestrictionTypes(): void;\r\n}\r\nexport {};\r\n"}}
