{"code":"import { __assign, __decorate, __metadata } from \"tslib\";\r\nimport { SlicePipe } from '@angular/common';\r\nimport { ChangeDetectionStrategy, ChangeDetectorRef, Component, Input } from '@angular/core';\r\nimport { SeDowngradeComponent } from '../../di';\r\nimport { FilterByFieldPipe, StartFromPipe } from '../../pipes';\r\nimport { objectUtils } from '../../utils';\r\nwindow.__smartedit__.addDecoratorPayload(\"Component\", \"ClientPagedListComponent\", {\r\n    selector: 'se-client-paged-list',\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n    providers: [FilterByFieldPipe, StartFromPipe, SlicePipe],\r\n    template: \"<div class=\\\"fluid-container se-paged-list-result\\\"><p class=\\\"se-page-list__page-count\\\" *ngIf=\\\"displayCount\\\"><span>({{ totalItems }} {{ 'se.pagelist.countsearchresult' | translate }})</span></p><table class=\\\"se-paged-list-table table table-striped table-hover techne-table\\\"><thead><tr><th *ngFor=\\\"let key of keys; trackBy: keysTrackBy\\\" (click)=\\\"onOrderByColumn(key.property)\\\" [ngStyle]=\\\"{ 'width': columnWidth + '%' }\\\" class=\\\"se-paged-list__header\\\" [ngClass]=\\\"'se-paged-list__header-' + key.property\\\"><ng-container *ngIf=\\\"key.i18n\\\">{{ key.i18n | translate }} <span class=\\\"header-icon\\\" [hidden]=\\\"visibleSortingHeader !== key.property\\\" [ngClass]=\\\"{\\n                          'sap-icon--navigation-down-arrow': headersSortingState[key.property],\\n                          'sap-icon--navigation-up-arrow': !headersSortingState[key.property]\\n                      }\\\"></span></ng-container></th><th class=\\\"se-paged-list__header\\\"></th><th class=\\\"se-paged-list__header\\\" *ngIf=\\\"dropdownItems\\\"></th></tr></thead><tbody class=\\\"se-paged-list__table-body\\\"><tr *ngFor=\\\"let item of filteredItems\\\" class=\\\"techne-table-xs-right techne-table-xs-left se-paged-list-item\\\"><td *ngFor=\\\"let key of keys\\\" [ngClass]=\\\"'se-paged-list-item-' + key.property\\\"><se-client-paged-list-cell [item]=\\\"item\\\" [key]=\\\"key\\\"></se-client-paged-list-cell></td><td><se-tooltip *ngIf=\\\"item.icon\\\" [triggers]=\\\"['mouseenter', 'mouseleave']\\\" [placement]=\\\"'bottom'\\\" [title]=\\\"'se.icon.tooltip.visibility' | translate: { numberOfRestrictions: item.icon.numberOfRestrictions }\\\" [isChevronVisible]=\\\"true\\\"><img [src]=\\\"item.icon.src\\\" se-tooltip-trigger/></se-tooltip></td><ng-container *ngIf=\\\"dropdownItems\\\"><td *seHasOperationPermission=\\\"'se.edit.page'\\\" class=\\\"paged-list-table__body__td paged-list-table__body__td-menu\\\"><se-dropdown-menu [dropdownItems]=\\\"dropdownItems\\\" [selectedItem]=\\\"item\\\" class=\\\"pull-right\\\"></se-dropdown-menu></td></ng-container></tr></tbody></table><div class=\\\"pagination-container\\\"><se-pagination [totalItems]=\\\"totalItems < itemsPerPage ? itemsPerPage : totalItems\\\" [itemsPerPage]=\\\"itemsPerPage\\\" (onChange)=\\\"onCurrentPageChange($event)\\\" [currentPage]=\\\"currentPage\\\" class=\\\"pagination-lg\\\"></se-pagination></div></div>\"\r\n});\r\nvar /* @ngInject */ ClientPagedListComponent = /** @class */ (function () {\r\n    function /* @ngInject */ ClientPagedListComponent(cdr, filterByFieldPipe, startFromPipe, slicePipe) {\r\n        this.cdr = cdr;\r\n        this.filterByFieldPipe = filterByFieldPipe;\r\n        this.startFromPipe = startFromPipe;\r\n        this.slicePipe = slicePipe;\r\n        this.reversed = false;\r\n        this.displayCount = false;\r\n        this.totalItems = 0;\r\n        this.currentPage = 1;\r\n        this.headersSortingState = {};\r\n    }\r\n    /* @ngInject */ ClientPagedListComponent.prototype.ngOnChanges = function (changes) {\r\n        var _a;\r\n        if (changes.items || changes.query || changes.itemFilterKeys || changes.itemsPerPage) {\r\n            if (changes.query) {\r\n                this.currentPage = 1;\r\n            }\r\n            this.filteredItems = this.filterItems();\r\n            this.totalItems =\r\n                changes.query && changes.query.currentValue\r\n                    ? this.filteredItems.length\r\n                    : this.items.length;\r\n        }\r\n        if (changes.keys) {\r\n            this.columnWidth = 100 / (this.keys.length || 1);\r\n        }\r\n        if (changes.reversed) {\r\n            this.columnToggleReversed = this.reversed;\r\n        }\r\n        if (changes.sortBy) {\r\n            this.headersSortingState = __assign(__assign({}, this.headersSortingState), (_a = {}, _a[this.sortBy] = this.columnToggleReversed, _a));\r\n            this.visibleSortingHeader = this.sortBy;\r\n            this.items = objectUtils.sortBy(this.items, this.sortBy, this.columnToggleReversed);\r\n            this.filteredItems = this.filterItems();\r\n        }\r\n    };\r\n    /* @ngInject */ ClientPagedListComponent.prototype.keysTrackBy = function (_index, key) {\r\n        return key.property;\r\n    };\r\n    /* @ngInject */ ClientPagedListComponent.prototype.onOrderByColumn = function (columnKeyProp) {\r\n        this.columnToggleReversed = !this.columnToggleReversed;\r\n        this.headersSortingState[columnKeyProp] = this.columnToggleReversed;\r\n        this.visibleSortingHeader = columnKeyProp;\r\n        this.items = objectUtils.sortBy(this.items, columnKeyProp, this.columnToggleReversed);\r\n        this.filteredItems = this.filterItems();\r\n        this.cdr.detectChanges();\r\n    };\r\n    /* @ngInject */ ClientPagedListComponent.prototype.onCurrentPageChange = function (page) {\r\n        this.currentPage = page;\r\n        this.filteredItems = this.filterItems();\r\n        this.cdr.detectChanges();\r\n    };\r\n    /* @ngInject */ ClientPagedListComponent.prototype.filterItems = function () {\r\n        var filterKeys = this.itemFilterKeys || [];\r\n        var filteredItems = this.filterByFieldPipe.transform(this.items, this.query, filterKeys);\r\n        var startFromIndex = (this.currentPage - 1) * this.itemsPerPage;\r\n        var startFromItems = this.startFromPipe.transform(filteredItems, startFromIndex);\r\n        var slicedItems = this.slicePipe.transform(startFromItems, 0, this.itemsPerPage);\r\n        return slicedItems;\r\n    };\r\n    __decorate([\r\n        Input(),\r\n        __metadata(\"design:type\", Array)\r\n    ], /* @ngInject */ ClientPagedListComponent.prototype, \"items\", void 0);\r\n    __decorate([\r\n        Input(),\r\n        __metadata(\"design:type\", Array)\r\n    ], /* @ngInject */ ClientPagedListComponent.prototype, \"itemFilterKeys\", void 0);\r\n    __decorate([\r\n        Input(),\r\n        __metadata(\"design:type\", Array)\r\n    ], /* @ngInject */ ClientPagedListComponent.prototype, \"keys\", void 0);\r\n    __decorate([\r\n        Input(),\r\n        __metadata(\"design:type\", Number)\r\n    ], /* @ngInject */ ClientPagedListComponent.prototype, \"itemsPerPage\", void 0);\r\n    __decorate([\r\n        Input(),\r\n        __metadata(\"design:type\", String)\r\n    ], /* @ngInject */ ClientPagedListComponent.prototype, \"sortBy\", void 0);\r\n    __decorate([\r\n        Input(),\r\n        __metadata(\"design:type\", Object)\r\n    ], /* @ngInject */ ClientPagedListComponent.prototype, \"reversed\", void 0);\r\n    __decorate([\r\n        Input(),\r\n        __metadata(\"design:type\", String)\r\n    ], /* @ngInject */ ClientPagedListComponent.prototype, \"query\", void 0);\r\n    __decorate([\r\n        Input(),\r\n        __metadata(\"design:type\", Object)\r\n    ], /* @ngInject */ ClientPagedListComponent.prototype, \"displayCount\", void 0);\r\n    __decorate([\r\n        Input(),\r\n        __metadata(\"design:type\", Array)\r\n    ], /* @ngInject */ ClientPagedListComponent.prototype, \"dropdownItems\", void 0);\r\n    /* @ngInject */ ClientPagedListComponent = __decorate([\r\n        SeDowngradeComponent(),\r\n        Component({\r\n            selector: 'se-client-paged-list',\r\n            changeDetection: ChangeDetectionStrategy.OnPush,\r\n            providers: [FilterByFieldPipe, StartFromPipe, SlicePipe],\r\n            template: \"<div class=\\\"fluid-container se-paged-list-result\\\"><p class=\\\"se-page-list__page-count\\\" *ngIf=\\\"displayCount\\\"><span>({{ totalItems }} {{ 'se.pagelist.countsearchresult' | translate }})</span></p><table class=\\\"se-paged-list-table table table-striped table-hover techne-table\\\"><thead><tr><th *ngFor=\\\"let key of keys; trackBy: keysTrackBy\\\" (click)=\\\"onOrderByColumn(key.property)\\\" [ngStyle]=\\\"{ 'width': columnWidth + '%' }\\\" class=\\\"se-paged-list__header\\\" [ngClass]=\\\"'se-paged-list__header-' + key.property\\\"><ng-container *ngIf=\\\"key.i18n\\\">{{ key.i18n | translate }} <span class=\\\"header-icon\\\" [hidden]=\\\"visibleSortingHeader !== key.property\\\" [ngClass]=\\\"{\\n                          'sap-icon--navigation-down-arrow': headersSortingState[key.property],\\n                          'sap-icon--navigation-up-arrow': !headersSortingState[key.property]\\n                      }\\\"></span></ng-container></th><th class=\\\"se-paged-list__header\\\"></th><th class=\\\"se-paged-list__header\\\" *ngIf=\\\"dropdownItems\\\"></th></tr></thead><tbody class=\\\"se-paged-list__table-body\\\"><tr *ngFor=\\\"let item of filteredItems\\\" class=\\\"techne-table-xs-right techne-table-xs-left se-paged-list-item\\\"><td *ngFor=\\\"let key of keys\\\" [ngClass]=\\\"'se-paged-list-item-' + key.property\\\"><se-client-paged-list-cell [item]=\\\"item\\\" [key]=\\\"key\\\"></se-client-paged-list-cell></td><td><se-tooltip *ngIf=\\\"item.icon\\\" [triggers]=\\\"['mouseenter', 'mouseleave']\\\" [placement]=\\\"'bottom'\\\" [title]=\\\"'se.icon.tooltip.visibility' | translate: { numberOfRestrictions: item.icon.numberOfRestrictions }\\\" [isChevronVisible]=\\\"true\\\"><img [src]=\\\"item.icon.src\\\" se-tooltip-trigger/></se-tooltip></td><ng-container *ngIf=\\\"dropdownItems\\\"><td *seHasOperationPermission=\\\"'se.edit.page'\\\" class=\\\"paged-list-table__body__td paged-list-table__body__td-menu\\\"><se-dropdown-menu [dropdownItems]=\\\"dropdownItems\\\" [selectedItem]=\\\"item\\\" class=\\\"pull-right\\\"></se-dropdown-menu></td></ng-container></tr></tbody></table><div class=\\\"pagination-container\\\"><se-pagination [totalItems]=\\\"totalItems < itemsPerPage ? itemsPerPage : totalItems\\\" [itemsPerPage]=\\\"itemsPerPage\\\" (onChange)=\\\"onCurrentPageChange($event)\\\" [currentPage]=\\\"currentPage\\\" class=\\\"pagination-lg\\\"></se-pagination></div></div>\"\r\n        }),\r\n        __metadata(\"design:paramtypes\", [ChangeDetectorRef,\r\n            FilterByFieldPipe,\r\n            StartFromPipe,\r\n            SlicePipe])\r\n    ], /* @ngInject */ ClientPagedListComponent);\r\n    return /* @ngInject */ ClientPagedListComponent;\r\n}());\r\nexport { /* @ngInject */ ClientPagedListComponent };\r\n//# sourceMappingURL=ClientPagedListComponent.js.map","references":["/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular/common@8.2.14_@angular+core@8.2.14+rxjs@6.5.4/node_modules/@angular/common/common.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular/core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smart-utils/dist/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/di/index.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/directives/index.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/pipes/index.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/utils/index.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/components/dropdown/dropdownMenu/index.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/components/clientPagedList/interfaces.ts"],"map":"{\"version\":3,\"file\":\"ClientPagedListComponent.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/components/clientPagedList/ClientPagedListComponent.ts\"],\"names\":[],\"mappings\":\";AACA,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAC5C,OAAO,EACH,uBAAuB,EACvB,iBAAiB,EACjB,SAAS,EACT,KAAK,EAGR,MAAM,eAAe,CAAC;AAGvB,OAAO,EAAE,oBAAoB,EAAE,MAAM,UAAU,CAAC;AAEhD,OAAO,EAAE,iBAAiB,EAAE,aAAa,EAAE,MAAM,aAAa,CAAC;AAC/D,OAAO,EAAE,WAAW,EAAE,MAAM,aAAa,CAAC;kFAM/B;IACP,QAAQ,EAAE,sBAAsB;IAChC,eAAe,EAAE,uBAAuB,CAAC,MAAM;IAC/C,SAAS,EAAE,CAAC,iBAAiB,EAAE,aAAa,EAAE,SAAS,CAAC;IACxD,QAAQ,EAAE,4tEAGqzC;CACl0C;AACD;IA6BI,kDACY,GAAsB,EACtB,iBAAoC,EACpC,aAA4B,EAC5B,SAAoB;QAHpB,QAAG,GAAH,GAAG,CAAmB;QACtB,sBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,kBAAa,GAAb,aAAa,CAAe;QAC5B,cAAS,GAAT,SAAS,CAAW;QAxBvB,aAAQ,GAAG,KAAK,CAAC;QAIjB,iBAAY,GAAG,KAAK,CAAC;QAIvB,eAAU,GAAG,CAAC,CAAC;QAEf,gBAAW,GAAG,CAAC,CAAC;QAGhB,wBAAmB,GAAsB,EAAE,CAAC;IAYhD,CAAC;IAEJ,8DAAW,GAAX,UAAY,OAAsB;;QAC9B,IAAI,OAAO,CAAC,KAAK,IAAI,OAAO,CAAC,KAAK,IAAI,OAAO,CAAC,cAAc,IAAI,OAAO,CAAC,YAAY,EAAE;YAClF,IAAI,OAAO,CAAC,KAAK,EAAE;gBACf,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;aACxB;YACD,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;YACxC,IAAI,CAAC,UAAU;gBACX,OAAO,CAAC,KAAK,IAAI,OAAO,CAAC,KAAK,CAAC,YAAY;oBACvC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM;oBAC3B,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;SAC/B;QAED,IAAI,OAAO,CAAC,IAAI,EAAE;YACd,IAAI,CAAC,WAAW,GAAG,GAAG,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC;SACpD;QAED,IAAI,OAAO,CAAC,QAAQ,EAAE;YAClB,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,QAAQ,CAAC;SAC7C;QAED,IAAI,OAAO,CAAC,MAAM,EAAE;YAChB,IAAI,CAAC,mBAAmB,yBACjB,IAAI,CAAC,mBAAmB,gBAC1B,IAAI,CAAC,MAAM,IAAG,IAAI,CAAC,oBAAoB,MAC3C,CAAC;YACF,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,MAAM,CAAC;YAExC,IAAI,CAAC,KAAK,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,oBAAoB,CAAC,CAAC;YACpF,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;SAC3C;IACL,CAAC;IAEM,8DAAW,GAAlB,UAAmB,MAAc,EAAE,GAA6B;QAC5D,OAAO,GAAG,CAAC,QAAQ,CAAC;IACxB,CAAC;IAEM,kEAAe,GAAtB,UAAuB,aAAqB;QACxC,IAAI,CAAC,oBAAoB,GAAG,CAAC,IAAI,CAAC,oBAAoB,CAAC;QACvD,IAAI,CAAC,mBAAmB,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,oBAAoB,CAAC;QACpE,IAAI,CAAC,oBAAoB,GAAG,aAAa,CAAC;QAC1C,IAAI,CAAC,KAAK,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,aAAa,EAAE,IAAI,CAAC,oBAAoB,CAAC,CAAC;QACtF,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;QACxC,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC;IAC7B,CAAC;IAEM,sEAAmB,GAA1B,UAA2B,IAAY;QACnC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;QACxC,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC;IAC7B,CAAC;IAEO,8DAAW,GAAnB;QACI,IAAM,UAAU,GAAG,IAAI,CAAC,cAAc,IAAI,EAAE,CAAC;QAC7C,IAAM,aAAa,GAAG,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAClD,IAAI,CAAC,KAAK,EACV,IAAI,CAAC,KAAK,EACV,UAAU,CACb,CAAC;QAEF,IAAM,cAAc,GAAG,CAAC,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC;QAClE,IAAM,cAAc,GAAG,IAAI,CAAC,aAAa,CAAC,SAAS,CAC/C,aAAa,EACb,cAAc,CACjB,CAAC;QAEF,IAAM,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,CACxC,cAAc,EACd,CAAC,EACD,IAAI,CAAC,YAAY,CACpB,CAAC;QACF,OAAO,WAAW,CAAC;IACvB,CAAC;IA1GQ;QAAR,KAAK,EAAE;;2EAA8B;IAE7B;QAAR,KAAK,EAAE;;oFAA0B;IAEzB;QAAR,KAAK,EAAE;;0EAAkC;IACjC;QAAR,KAAK,EAAE;;kFAAsB;IAErB;QAAR,KAAK,EAAE;;4EAAgB;IACf;QAAR,KAAK,EAAE;;8EAAkB;IAEjB;QAAR,KAAK,EAAE;;2EAAe;IAEd;QAAR,KAAK,EAAE;;kFAAsB;IAErB;QAAR,KAAK,EAAE;;mFAAoC;IAfhD;QAVC,oBAAoB,EAAE;QACtB,SAAS,CAAC;YACP,QAAQ,EAAE,sBAAsB;YAChC,eAAe,EAAE,uBAAuB,CAAC,MAAM;YAC/C,SAAS,EAAE,CAAC,iBAAiB,EAAE,aAAa,EAAE,SAAS,CAAC;YACxD,QAAQ,EAAE,4tEAGqzC;SACl0C,CAAC;yCA+BmB,iBAAiB;YACH,iBAAiB;YACrB,aAAa;YACjB,SAAS;gDA2EnC;IAAD,+CAAC;CAAA,AA5GD,IA4GC\"}","dts":{"name":"/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/components/clientPagedList/ClientPagedListComponent.d.ts","writeByteOrderMark":false,"text":"import { SlicePipe } from '@angular/common';\r\nimport { ChangeDetectorRef, OnChanges, SimpleChanges } from '@angular/core';\r\nimport { TypedMap } from '@smart/utils';\r\nimport { CompileHtmlNgController } from '../../directives';\r\nimport { FilterByFieldPipe, StartFromPipe } from '../../pipes';\r\nimport { IDropdownMenuItem } from '../dropdown/dropdownMenu';\r\nimport { ClientPagedList, ClientPagedListColumnKey, ClientPagedListItem } from './interfaces';\r\nexport declare class ClientPagedListComponent implements ClientPagedList, OnChanges {\r\n    private cdr;\r\n    private filterByFieldPipe;\r\n    private startFromPipe;\r\n    private slicePipe;\r\n    items: ClientPagedListItem[];\r\n    itemFilterKeys: string[];\r\n    keys: ClientPagedListColumnKey[];\r\n    itemsPerPage: number;\r\n    sortBy: string;\r\n    reversed: boolean;\r\n    query: string;\r\n    displayCount: boolean;\r\n    dropdownItems: IDropdownMenuItem[];\r\n    totalItems: number;\r\n    currentPage: number;\r\n    columnWidth: number;\r\n    columnToggleReversed: boolean;\r\n    headersSortingState: TypedMap<boolean>;\r\n    visibleSortingHeader: string;\r\n    compileHtmlNgController: CompileHtmlNgController;\r\n    filteredItems: ClientPagedListItem[];\r\n    constructor(cdr: ChangeDetectorRef, filterByFieldPipe: FilterByFieldPipe, startFromPipe: StartFromPipe, slicePipe: SlicePipe);\r\n    ngOnChanges(changes: SimpleChanges): void;\r\n    keysTrackBy(_index: number, key: ClientPagedListColumnKey): string;\r\n    onOrderByColumn(columnKeyProp: string): void;\r\n    onCurrentPageChange(page: number): void;\r\n    private filterItems;\r\n}\r\n"}}
