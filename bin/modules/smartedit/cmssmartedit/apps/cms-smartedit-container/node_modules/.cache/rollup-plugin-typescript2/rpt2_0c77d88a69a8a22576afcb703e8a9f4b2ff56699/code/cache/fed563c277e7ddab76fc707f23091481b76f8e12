{"code":"import { __awaiter, __decorate, __generator, __metadata } from \"tslib\";\r\nimport { ChangeDetectionStrategy, Component, Input } from '@angular/core';\r\nimport { CMSTimeService } from 'cmscommons';\r\nimport { take } from 'rxjs/operators';\r\nimport { SeDowngradeComponent, L10nPipe } from 'smarteditcommons';\r\nimport { WorkflowService } from '../../../workflow/services/WorkflowService';\r\nwindow.__smartedit__.addDecoratorPayload(\"Component\", \"WorkflowInboxTaskComponent\", {\r\n    selector: 'se-workflow-inbox-task',\r\n    template: \"<div class=\\\"se-workflow-inbox-task-header\\\"><a href=\\\"#\\\" (click)=\\\"onClick($event)\\\">{{ taskName | async }}</a></div><div class=\\\"se-workflow-inbox-task-desc\\\">{{ taskDescription | async }}</div><div class=\\\"se-workflow-inbox-task-body\\\">{{ getTaskCreatedAgo() }}</div>\",\r\n    styles: [\":host{white-space:normal}:host(.se-workflow-inbox-task-last) .se-workflow-inbox-task-body{border-bottom:none;margin-bottom:0}.se-workflow-inbox-task-header a{font-size:1rem;line-height:1.4285714286;font-weight:400;font-weight:700;text-decoration:none;margin-bottom:4px}.se-workflow-inbox-task-desc{font-size:1rem;line-height:1.4285714286;font-weight:400;color:#32363a}.se-workflow-inbox-task-body{font-size:.8571428571rem;line-height:1.3333333333;font-weight:400;color:#74777a;text-transform:lowercase;margin:8px 0 20px;padding-bottom:12px;border-bottom:1px solid #d9d9d9}\"],\r\n    providers: [L10nPipe],\r\n    changeDetection: ChangeDetectionStrategy.OnPush\r\n});\r\nvar /* @ngInject */ WorkflowInboxTaskComponent = /** @class */ (function () {\r\n    function /* @ngInject */ WorkflowInboxTaskComponent(cMSTimeService, workflowService, l10nPipe) {\r\n        this.cMSTimeService = cMSTimeService;\r\n        this.workflowService = workflowService;\r\n        this.l10nPipe = l10nPipe;\r\n    }\r\n    /* @ngInject */ WorkflowInboxTaskComponent.prototype.ngOnInit = function () {\r\n        this.taskName = this.getTaskName();\r\n        this.taskDescription = this.getTaskDescription();\r\n    };\r\n    /* @ngInject */ WorkflowInboxTaskComponent.prototype.getTaskName = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                return [2 /*return*/, this.l10nPipe.transform(this.task.action.name).pipe(take(1)).toPromise()];\r\n            });\r\n        });\r\n    };\r\n    /* @ngInject */ WorkflowInboxTaskComponent.prototype.getTaskDescription = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var catalogName;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.l10nPipe\r\n                            .transform(this.task.attachments[0].catalogName)\r\n                            .pipe(take(1))\r\n                            .toPromise()];\r\n                    case 1:\r\n                        catalogName = _a.sent();\r\n                        return [2 /*return*/, catalogName + \" \" + this.task.attachments[0].catalogVersion + \" | \" + this.task.attachments[0].pageName];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /* @ngInject */ WorkflowInboxTaskComponent.prototype.getTaskCreatedAgo = function () {\r\n        return this.cMSTimeService.getTimeAgo(this.task.action.startedAgoInMillis);\r\n    };\r\n    /* @ngInject */ WorkflowInboxTaskComponent.prototype.onClick = function ($event) {\r\n        $event.preventDefault();\r\n        this.workflowService.loadExperienceAndOpenPageWorkflowMenu(this.task);\r\n    };\r\n    __decorate([\r\n        Input(),\r\n        __metadata(\"design:type\", Object)\r\n    ], /* @ngInject */ WorkflowInboxTaskComponent.prototype, \"task\", void 0);\r\n    /* @ngInject */ WorkflowInboxTaskComponent = __decorate([\r\n        SeDowngradeComponent(),\r\n        Component({\r\n            selector: 'se-workflow-inbox-task',\r\n            template: \"<div class=\\\"se-workflow-inbox-task-header\\\"><a href=\\\"#\\\" (click)=\\\"onClick($event)\\\">{{ taskName | async }}</a></div><div class=\\\"se-workflow-inbox-task-desc\\\">{{ taskDescription | async }}</div><div class=\\\"se-workflow-inbox-task-body\\\">{{ getTaskCreatedAgo() }}</div>\",\r\n            styles: [\":host{white-space:normal}:host(.se-workflow-inbox-task-last) .se-workflow-inbox-task-body{border-bottom:none;margin-bottom:0}.se-workflow-inbox-task-header a{font-size:1rem;line-height:1.4285714286;font-weight:400;font-weight:700;text-decoration:none;margin-bottom:4px}.se-workflow-inbox-task-desc{font-size:1rem;line-height:1.4285714286;font-weight:400;color:#32363a}.se-workflow-inbox-task-body{font-size:.8571428571rem;line-height:1.3333333333;font-weight:400;color:#74777a;text-transform:lowercase;margin:8px 0 20px;padding-bottom:12px;border-bottom:1px solid #d9d9d9}\"],\r\n            providers: [L10nPipe],\r\n            changeDetection: ChangeDetectionStrategy.OnPush\r\n        }),\r\n        __metadata(\"design:paramtypes\", [CMSTimeService,\r\n            WorkflowService,\r\n            L10nPipe])\r\n    ], /* @ngInject */ WorkflowInboxTaskComponent);\r\n    return /* @ngInject */ WorkflowInboxTaskComponent;\r\n}());\r\nexport { /* @ngInject */ WorkflowInboxTaskComponent };\r\n//# sourceMappingURL=WorkflowInboxTaskComponent.js.map","references":["/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular/core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-commons/dist/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/rxjs@6.5.4/node_modules/rxjs/operators/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/services/WorkflowService.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/dtos/index.ts"],"map":"{\"version\":3,\"file\":\"WorkflowInboxTaskComponent.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../../src/components/workflow/components/workflowInboxTask/WorkflowInboxTaskComponent.ts\"],\"names\":[],\"mappings\":\";AACA,OAAO,EAAE,uBAAuB,EAAE,SAAS,EAAE,KAAK,EAAE,MAAM,eAAe,CAAC;AAC1E,OAAO,EAAE,cAAc,EAAE,MAAM,YAAY,CAAC;AAC5C,OAAO,EAAE,IAAI,EAAE,MAAM,gBAAgB,CAAC;AACtC,OAAO,EAAE,oBAAoB,EAAE,QAAQ,EAAE,MAAM,kBAAkB,CAAC;AAClE,OAAO,EAAE,eAAe,EAAE,MAAM,4CAA4C,CAAC;oFAIlE;IACP,QAAQ,EAAE,wBAAwB;IAClC,QAAQ,EAAE,iRAAuQ;IACjR,MAAM,EAAE,CAAC,8jBAA8jB,CAAC;IACxkB,SAAS,EAAE,CAAC,QAAQ,CAAC;IACrB,eAAe,EAAE,uBAAuB,CAAC,MAAM;CAClD;AACD;IAKI,oDACY,cAA8B,EAC9B,eAAgC,EAChC,QAAkB;QAFlB,mBAAc,GAAd,cAAc,CAAgB;QAC9B,oBAAe,GAAf,eAAe,CAAiB;QAChC,aAAQ,GAAR,QAAQ,CAAU;IAC3B,CAAC;IAEJ,6DAAQ,GAAR;QACI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;QACnC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,kBAAkB,EAAE,CAAC;IACrD,CAAC;IAEY,gEAAW,GAAxB;;;gBACI,sBAAO,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE,EAAC;;;KACnF;IAEY,uEAAkB,GAA/B;;;;;4BACwB,qBAAM,IAAI,CAAC,QAAQ;6BAClC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC;6BAC/C,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;6BACb,SAAS,EAAE,EAAA;;wBAHV,WAAW,GAAG,SAGJ;wBAChB,sBAAU,WAAW,SAAI,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,cAAc,WAAM,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,QAAU,EAAC;;;;KAC7G;IAEM,sEAAiB,GAAxB;QACI,OAAO,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,kBAAkB,CAAC,CAAC;IAC/E,CAAC;IAEM,4DAAO,GAAd,UAAe,MAAa;QACxB,MAAM,CAAC,cAAc,EAAE,CAAC;QAExB,IAAI,CAAC,eAAe,CAAC,qCAAqC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC1E,CAAC;IAnCQ;QAAR,KAAK,EAAE;;4EAAoB;IADhC;QARC,oBAAoB,EAAE;QACtB,SAAS,CAAC;YACP,QAAQ,EAAE,wBAAwB;YAClC,QAAQ,EAAE,iRAAuQ;YACjR,MAAM,EAAE,CAAC,8jBAA8jB,CAAC;YACxkB,SAAS,EAAE,CAAC,QAAQ,CAAC;YACrB,eAAe,EAAE,uBAAuB,CAAC,MAAM;SAClD,CAAC;yCAO8B,cAAc;YACb,eAAe;YACtB,QAAQ;kDA6BjC;IAAD,iDAAC;CAAA,AArCD,IAqCC\"}","dts":{"name":"/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/components/workflow/components/workflowInboxTask/WorkflowInboxTaskComponent.d.ts","writeByteOrderMark":false,"text":"import { CMSTimeService } from 'cmscommons';\r\nimport { L10nPipe } from 'smarteditcommons';\r\nimport { WorkflowService } from '../../../workflow/services/WorkflowService';\r\nimport { WorkflowTask } from '../../dtos';\r\nexport declare class WorkflowInboxTaskComponent {\r\n    private cMSTimeService;\r\n    private workflowService;\r\n    private l10nPipe;\r\n    task: WorkflowTask;\r\n    taskName: Promise<string>;\r\n    taskDescription: Promise<string>;\r\n    constructor(cMSTimeService: CMSTimeService, workflowService: WorkflowService, l10nPipe: L10nPipe);\r\n    ngOnInit(): void;\r\n    getTaskName(): Promise<string>;\r\n    getTaskDescription(): Promise<string>;\r\n    getTaskCreatedAgo(): string;\r\n    onClick($event: Event): void;\r\n}\r\n"}}
