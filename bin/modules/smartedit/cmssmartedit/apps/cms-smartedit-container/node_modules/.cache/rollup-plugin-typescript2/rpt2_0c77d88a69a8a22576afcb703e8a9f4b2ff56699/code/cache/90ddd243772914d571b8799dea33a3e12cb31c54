{"code":"import { __awaiter, __decorate, __generator, __metadata } from \"tslib\";\r\nimport { IAnnouncementService, SeDowngradeService } from 'smarteditcommons';\r\nimport { WorkflowTasksPollingService } from '../../workflow/services/WorkflowTasksPollingService';\r\nimport { WorkflowInboxMultipleTasksAnnouncementComponent } from '../components/workflowInboxMultipleTasksAnnouncement/WorkflowInboxMultipleTasksAnnouncementComponent';\r\nimport { WorkflowInboxSingleTaskAnnouncementComponent } from '../components/workflowInboxSingleTaskAnnouncement/WorkflowInboxSingleTaskAnnouncementComponent';\r\n/**\r\n * This service is used to show announcements for workflow inbox tasks.\r\n */\r\nvar /* @ngInject */ WorkflowInboxAnnouncementService = /** @class */ (function () {\r\n    function /* @ngInject */ WorkflowInboxAnnouncementService(workflowTasksPollingService, announcementService) {\r\n        var _this = this;\r\n        this.workflowTasksPollingService = workflowTasksPollingService;\r\n        this.announcementService = announcementService;\r\n        this.unsubscribePollingService = this.workflowTasksPollingService.addSubscriber(\r\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n        function (tasks, pagination) {\r\n            if (tasks) {\r\n                _this.displayAnnouncement(tasks);\r\n            }\r\n        }, false);\r\n    }\r\n    /* @ngInject */ WorkflowInboxAnnouncementService.prototype.ngOnDestroy = function () {\r\n        this.unsubscribePollingService();\r\n    };\r\n    /* @ngInject */ WorkflowInboxAnnouncementService.prototype.displayAnnouncement = function (tasks) {\r\n        if (tasks.length === 1) {\r\n            this.showSingleTaskAnnouncement(tasks[0]);\r\n        }\r\n        else if (tasks.length > 1) {\r\n            this.showMultipleTasksAnnouncement(tasks);\r\n        }\r\n    };\r\n    /* @ngInject */ WorkflowInboxAnnouncementService.prototype.showSingleTaskAnnouncement = function (task) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.showAnnouncement(WorkflowInboxSingleTaskAnnouncementComponent, {\r\n                            task: task\r\n                        })];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /* @ngInject */ WorkflowInboxAnnouncementService.prototype.showMultipleTasksAnnouncement = function (tasks) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.showAnnouncement(WorkflowInboxMultipleTasksAnnouncementComponent, {\r\n                            tasks: tasks\r\n                        })];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /* @ngInject */ WorkflowInboxAnnouncementService.prototype.showAnnouncement = function (component, data) {\r\n        return this.announcementService.showAnnouncement({\r\n            component: component,\r\n            data: data\r\n        });\r\n    };\r\n    /* @ngInject */ WorkflowInboxAnnouncementService = __decorate([\r\n        SeDowngradeService(),\r\n        __metadata(\"design:paramtypes\", [WorkflowTasksPollingService,\r\n            IAnnouncementService])\r\n    ], /* @ngInject */ WorkflowInboxAnnouncementService);\r\n    return /* @ngInject */ WorkflowInboxAnnouncementService;\r\n}());\r\nexport { /* @ngInject */ WorkflowInboxAnnouncementService };\r\n//# sourceMappingURL=WorkflowInboxAnnouncementService.js.map","references":["/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular/core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/services/WorkflowTasksPollingService.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/components/workflowInboxMultipleTasksAnnouncement/WorkflowInboxMultipleTasksAnnouncementComponent.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/components/workflowInboxSingleTaskAnnouncement/WorkflowInboxSingleTaskAnnouncementComponent.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/dtos/WorkflowTask.ts"],"map":"{\"version\":3,\"file\":\"WorkflowInboxAnnouncementService.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../src/components/workflow/services/WorkflowInboxAnnouncementService.ts\"],\"names\":[],\"mappings\":\";AAIA,OAAO,EAAE,oBAAoB,EAAc,kBAAkB,EAAE,MAAM,kBAAkB,CAAC;AAExF,OAAO,EAAE,2BAA2B,EAAE,MAAM,qDAAqD,CAAC;AAClG,OAAO,EAAE,+CAA+C,EAAE,MAAM,sGAAsG,CAAC;AACvK,OAAO,EAAE,4CAA4C,EAAE,MAAM,gGAAgG,CAAC;AAG9J;;GAEG;AAEH;IAGI,0DACY,2BAAwD,EACxD,mBAAyC;QAFrD,iBAaC;QAZW,gCAA2B,GAA3B,2BAA2B,CAA6B;QACxD,wBAAmB,GAAnB,mBAAmB,CAAsB;QAEjD,IAAI,CAAC,yBAAyB,GAAG,IAAI,CAAC,2BAA2B,CAAC,aAAa;QAC3E,6DAA6D;QAC7D,UAAC,KAAqB,EAAE,UAAsB;YAC1C,IAAI,KAAK,EAAE;gBACP,KAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;aACnC;QACL,CAAC,EACD,KAAK,CACR,CAAC;IACN,CAAC;IAED,sEAAW,GAAX;QACI,IAAI,CAAC,yBAAyB,EAAE,CAAC;IACrC,CAAC;IAEO,8EAAmB,GAA3B,UAA4B,KAAqB;QAC7C,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE;YACpB,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;SAC7C;aAAM,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;YACzB,IAAI,CAAC,6BAA6B,CAAC,KAAK,CAAC,CAAC;SAC7C;IACL,CAAC;IAEa,qFAA0B,GAAxC,UAAyC,IAAkB;;;;4BACvD,qBAAM,IAAI,CAAC,gBAAgB,CAAC,4CAA4C,EAAE;4BACtE,IAAI,MAAA;yBACP,CAAC,EAAA;;wBAFF,SAEE,CAAC;;;;;KACN;IAEa,wFAA6B,GAA3C,UAA4C,KAAqB;;;;4BAC7D,qBAAM,IAAI,CAAC,gBAAgB,CAAC,+CAA+C,EAAE;4BACzE,KAAK,OAAA;yBACR,CAAC,EAAA;;wBAFF,SAEE,CAAC;;;;;KACN;IAEO,2EAAgB,GAAxB,UAAyB,SAAoB,EAAE,IAAS;QACpD,OAAO,IAAI,CAAC,mBAAmB,CAAC,gBAAgB,CAAC;YAC7C,SAAS,WAAA;YACT,IAAI,MAAA;SACP,CAAC,CAAC;IACP,CAAC;IA/CL;QADC,kBAAkB,EAAE;yCAKwB,2BAA2B;YACnC,oBAAoB;wDA2CxD;IAAD,uDAAC;CAAA,AAhDD,IAgDC\"}","dts":{"name":"/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/components/workflow/services/WorkflowInboxAnnouncementService.d.ts","writeByteOrderMark":false,"text":"import { OnDestroy } from '@angular/core';\r\nimport { IAnnouncementService } from 'smarteditcommons';\r\nimport { WorkflowTasksPollingService } from '../../workflow/services/WorkflowTasksPollingService';\r\n/**\r\n * This service is used to show announcements for workflow inbox tasks.\r\n */\r\nexport declare class WorkflowInboxAnnouncementService implements OnDestroy {\r\n    private workflowTasksPollingService;\r\n    private announcementService;\r\n    private unsubscribePollingService;\r\n    constructor(workflowTasksPollingService: WorkflowTasksPollingService, announcementService: IAnnouncementService);\r\n    ngOnDestroy(): void;\r\n    private displayAnnouncement;\r\n    private showSingleTaskAnnouncement;\r\n    private showMultipleTasksAnnouncement;\r\n    private showAnnouncement;\r\n}\r\n"}}
