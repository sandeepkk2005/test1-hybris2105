{"code":"import { __decorate, __metadata } from \"tslib\";\r\nimport { Component, Input } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { zip } from 'rxjs';\r\nimport { tap } from 'rxjs/operators';\r\nimport { SeDowngradeComponent } from '../../di';\r\nimport { TextTruncateService } from '../../services';\r\nwindow.__smartedit__.addDecoratorPayload(\"Component\", \"MoreTextComponent\", {\r\n    selector: 'se-more-text',\r\n    template: \"\\n        <span id=\\\"y-more-text-payload\\\" class=\\\"se-more-text__payload\\\">{{ text }}</span>\\n        <span\\n            id=\\\"y-more-text-toggle\\\"\\n            class=\\\"se-more-text__toggle\\\"\\n            [ngClass]=\\\"{ 'se-more-text__toggle--capitalize': capitalizeLabel }\\\"\\n            (click)=\\\"showHideMoreText()\\\"\\n            *ngIf=\\\"isTruncated\\\"\\n            >{{ linkLabel }}</span\\n        >\\n    \",\r\n    styles: [\".se-more-text__toggle--capitalize{text-transform:capitalize;color:#0a6ed1;cursor:pointer}\"],\r\n    providers: [TextTruncateService]\r\n});\r\nvar /* @ngInject */ MoreTextComponent = /** @class */ (function () {\r\n    function /* @ngInject */ MoreTextComponent(textTruncateService, translate) {\r\n        this.textTruncateService = textTruncateService;\r\n        this.translate = translate;\r\n        this.capitalizeLabel = false;\r\n        this.isTruncated = false;\r\n        this.showingMore = false;\r\n    }\r\n    /* @ngInject */ MoreTextComponent.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        this.limit = this.limit || 100;\r\n        this.moreLabelI18nKey = this.moreLabelI18nKey || 'se.moretext.more.link';\r\n        this.lessLabelI18nKey = this.lessLabelI18nKey || 'se.moretext.less.link';\r\n        this.truncatedText = this.textTruncateService.truncateToNearestWord(this.limit, this.text, this.ellipsis);\r\n        this.isTruncated = this.truncatedText.isTruncated();\r\n        this.translateLabels().subscribe(function () {\r\n            _this.showHideMoreText();\r\n        });\r\n    };\r\n    /* @ngInject */ MoreTextComponent.prototype.showHideMoreText = function () {\r\n        if (!this.isTruncated) {\r\n            return;\r\n        }\r\n        this.text = this.showingMore\r\n            ? this.truncatedText.getUntruncatedText()\r\n            : this.truncatedText.getTruncatedText();\r\n        this.linkLabel = this.showingMore ? this.lessLabel : this.moreLabel;\r\n        this.showingMore = !this.showingMore;\r\n    };\r\n    /* @ngInject */ MoreTextComponent.prototype.translateLabels = function () {\r\n        var _this = this;\r\n        return zip(this.translate.get(this.moreLabelI18nKey), this.translate.get(this.lessLabelI18nKey)).pipe(tap(function (_a) {\r\n            var more = _a[0], less = _a[1];\r\n            _this.moreLabel = more;\r\n            _this.lessLabel = less;\r\n        }));\r\n    };\r\n    __decorate([\r\n        Input(),\r\n        __metadata(\"design:type\", String)\r\n    ], /* @ngInject */ MoreTextComponent.prototype, \"text\", void 0);\r\n    __decorate([\r\n        Input(),\r\n        __metadata(\"design:type\", Number)\r\n    ], /* @ngInject */ MoreTextComponent.prototype, \"limit\", void 0);\r\n    __decorate([\r\n        Input(),\r\n        __metadata(\"design:type\", String)\r\n    ], /* @ngInject */ MoreTextComponent.prototype, \"moreLabelI18nKey\", void 0);\r\n    __decorate([\r\n        Input(),\r\n        __metadata(\"design:type\", String)\r\n    ], /* @ngInject */ MoreTextComponent.prototype, \"lessLabelI18nKey\", void 0);\r\n    __decorate([\r\n        Input(),\r\n        __metadata(\"design:type\", String)\r\n    ], /* @ngInject */ MoreTextComponent.prototype, \"ellipsis\", void 0);\r\n    __decorate([\r\n        Input(),\r\n        __metadata(\"design:type\", Object)\r\n    ], /* @ngInject */ MoreTextComponent.prototype, \"capitalizeLabel\", void 0);\r\n    /* @ngInject */ MoreTextComponent = __decorate([\r\n        SeDowngradeComponent(),\r\n        Component({\r\n            selector: 'se-more-text',\r\n            template: \"\\n        <span id=\\\"y-more-text-payload\\\" class=\\\"se-more-text__payload\\\">{{ text }}</span>\\n        <span\\n            id=\\\"y-more-text-toggle\\\"\\n            class=\\\"se-more-text__toggle\\\"\\n            [ngClass]=\\\"{ 'se-more-text__toggle--capitalize': capitalizeLabel }\\\"\\n            (click)=\\\"showHideMoreText()\\\"\\n            *ngIf=\\\"isTruncated\\\"\\n            >{{ linkLabel }}</span\\n        >\\n    \",\r\n            styles: [\".se-more-text__toggle--capitalize{text-transform:capitalize;color:#0a6ed1;cursor:pointer}\"],\r\n            providers: [TextTruncateService]\r\n        }),\r\n        __metadata(\"design:paramtypes\", [TextTruncateService,\r\n            TranslateService])\r\n    ], /* @ngInject */ MoreTextComponent);\r\n    return /* @ngInject */ MoreTextComponent;\r\n}());\r\nexport { /* @ngInject */ MoreTextComponent };\r\n//# sourceMappingURL=MoreTextComponent.js.map","references":["/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular/core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@ngx-translate/core@11.0.1_@angular+core@8.2.14+rxjs@6.5.4/node_modules/@ngx-translate/core/ngx-translate-core.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/rxjs@6.5.4/node_modules/rxjs/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/rxjs@6.5.4/node_modules/rxjs/operators/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/di/index.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/dtos/index.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/services/index.ts"],"map":"{\"version\":3,\"file\":\"MoreTextComponent.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/components/yMoreText/MoreTextComponent.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/components/yMoreText/MoreTextComponent.d.ts","writeByteOrderMark":false,"text":"import { TranslateService } from '@ngx-translate/core';\r\nimport { TextTruncateService } from '../../services';\r\nexport declare class MoreTextComponent {\r\n    private textTruncateService;\r\n    private translate;\r\n    text: string;\r\n    limit?: number;\r\n    moreLabelI18nKey?: string;\r\n    lessLabelI18nKey?: string;\r\n    ellipsis?: string;\r\n    capitalizeLabel: boolean;\r\n    linkLabel: string;\r\n    isTruncated: boolean;\r\n    private showingMore;\r\n    private moreLabel;\r\n    private lessLabel;\r\n    private truncatedText;\r\n    constructor(textTruncateService: TextTruncateService, translate: TranslateService);\r\n    ngOnInit(): void;\r\n    showHideMoreText(): void;\r\n    private translateLabels;\r\n}\r\n"}}
