{"code":"import { Subscription } from 'rxjs';\r\nimport { FormPropDecorator, FORM_PROP, InputPropDecorator } from '../../decorators';\r\n/**\r\n * @internal\r\n * Trigger property changes for the component and mark for check\r\n * for those components that have onPush change detection strategy.\r\n *\r\n * @param {ComponentRef<any>} componentRef\r\n */\r\nvar onChange = function (_a) {\r\n    var changeDetectorRef = _a.changeDetectorRef, instance = _a.instance;\r\n    instance.onDynamicInputChange && instance.onDynamicInputChange();\r\n    changeDetectorRef.markForCheck();\r\n};\r\n/**\r\n * @internal\r\n * Decorates the components with the decorators that were put into places.\r\n * The idea is made similar to how Angular decorates their properties with inputs.\r\n */\r\nexport var decorate = function (componentRef, form) {\r\n    var instance = componentRef.instance;\r\n    var decorators = instance.constructor[FORM_PROP];\r\n    if (!Array.isArray(decorators)) {\r\n        return new Subscription();\r\n    }\r\n    var props = new Map();\r\n    decorators.forEach(function (decorator) {\r\n        var property = decorator.property;\r\n        if (decorator instanceof InputPropDecorator) {\r\n            var alias = decorator.alias;\r\n            if (form.getInput(alias) === undefined && instance[property] !== undefined) {\r\n                form.setInput(alias, instance[property]);\r\n            }\r\n            instance[property] = form.getInput(alias);\r\n            props.set(alias, decorator);\r\n        }\r\n        else if (decorator instanceof FormPropDecorator) {\r\n            instance[property] = form;\r\n        }\r\n    });\r\n    onChange(componentRef);\r\n    return form.inputChanges.subscribe(function (_a) {\r\n        var key = _a.key, value = _a.value;\r\n        var decorator = props.get(key);\r\n        if (!decorator) {\r\n            return;\r\n        }\r\n        instance[decorator.property] = value;\r\n        onChange(componentRef);\r\n    });\r\n};\r\n//# sourceMappingURL=decorate.js.map","references":["/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular/core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/rxjs@6.5.4/node_modules/rxjs/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smart-utils/src/modules/form-builder/decorators.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smart-utils/src/modules/form-builder/models/index.ts"],"map":"{\"version\":3,\"file\":\"decorate.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../../src/modules/form-builder/directives/form-renderer/decorate.ts\"],\"names\":[],\"mappings\":\"AAQA,OAAO,EAAE,YAAY,EAAE,MAAM,MAAM,CAAC;AAEpC,OAAO,EAAE,iBAAiB,EAAE,SAAS,EAAE,kBAAkB,EAAiB,MAAM,kBAAkB,CAAC;AAGnG;;;;;;GAMG;AACH,IAAM,QAAQ,GAAG,UAAC,EAAiE;QAA/D,iBAAiB,uBAAA,EAAE,QAAQ,cAAA;IAC3C,QAAQ,CAAC,oBAAoB,IAAI,QAAQ,CAAC,oBAAoB,EAAE,CAAC;IACjE,iBAAiB,CAAC,YAAY,EAAE,CAAC;AACrC,CAAC,CAAC;AAEF;;;;GAIG;AACH,MAAM,CAAC,IAAM,QAAQ,GAAG,UAAC,YAA+B,EAAE,IAAkB;IACxE,IAAM,QAAQ,GAAG,YAAY,CAAC,QAAQ,CAAC;IACvC,IAAM,UAAU,GAAG,QAAQ,CAAC,WAAW,CAAC,SAAS,CAAoB,CAAC;IAEtE,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,UAAU,CAAC,EAAE;QAC5B,OAAO,IAAI,YAAY,EAAE,CAAC;KAC7B;IAED,IAAM,KAAK,GAAG,IAAI,GAAG,EAA8B,CAAC;IAEpD,UAAU,CAAC,OAAO,CAAC,UAAC,SAAS;QACzB,IAAM,QAAQ,GAAG,SAAS,CAAC,QAAQ,CAAC;QACpC,IAAI,SAAS,YAAY,kBAAkB,EAAE;YACzC,IAAM,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;YAC9B,IAAI,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK,SAAS,IAAI,QAAQ,CAAC,QAAQ,CAAC,KAAK,SAAS,EAAE;gBACxE,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC;aAC5C;YACD,QAAQ,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YAC1C,KAAK,CAAC,GAAG,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC;SAC/B;aAAM,IAAI,SAAS,YAAY,iBAAiB,EAAE;YAC/C,QAAQ,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC;SAC7B;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,YAAY,CAAC,CAAC;IACvB,OAAO,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,UAAC,EAAc;YAAZ,GAAG,SAAA,EAAE,KAAK,WAAA;QAC5C,IAAM,SAAS,GAAG,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QAEjC,IAAI,CAAC,SAAS,EAAE;YACZ,OAAO;SACV;QAED,QAAQ,CAAC,SAAS,CAAC,QAAQ,CAAC,GAAG,KAAK,CAAC;QACrC,QAAQ,CAAC,YAAY,CAAC,CAAC;IAC3B,CAAC,CAAC,CAAC;AACP,CAAC,CAAC\"}","dts":{"name":"/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smart-utils/modules/form-builder/directives/form-renderer/decorate.d.ts","writeByteOrderMark":false,"text":"/**\r\n * Copyright (c) 2019 SAP SE or an SAP affiliate company. All rights reserved.\r\n * @module smartutils\r\n */\r\nimport { ComponentRef } from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\nimport { AbstractForm } from '../../models';\r\n/**\r\n * @internal\r\n * Decorates the components with the decorators that were put into places.\r\n * The idea is made similar to how Angular decorates their properties with inputs.\r\n */\r\nexport declare const decorate: (componentRef: ComponentRef<any>, form: AbstractForm) => Subscription;\r\n"}}
