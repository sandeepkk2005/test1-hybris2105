{"code":"import { __decorate, __metadata } from \"tslib\";\r\n/*\r\n * Copyright (c) 2021 SAP SE or an SAP affiliate company. All rights reserved.\r\n */\r\nimport { stringUtils, windowUtils } from '@smart/utils';\r\nimport * as angular from 'angular';\r\nimport { SeDirective } from '../../di';\r\nimport { OVERLAY_ID } from '../../utils';\r\nexport var YPopoverTrigger;\r\n(function (YPopoverTrigger) {\r\n    YPopoverTrigger[\"Hover\"] = \"hover\";\r\n    YPopoverTrigger[\"Click\"] = \"click\";\r\n    YPopoverTrigger[\"Focus\"] = \"focus\";\r\n    YPopoverTrigger[\"OutsideClick\"] = \"outsideClick\";\r\n    YPopoverTrigger[\"None\"] = \"none\";\r\n})(YPopoverTrigger || (YPopoverTrigger = {}));\r\nexport var YPopoverOnClickOutside;\r\n(function (YPopoverOnClickOutside) {\r\n    YPopoverOnClickOutside[\"Close\"] = \"close\";\r\n    YPopoverOnClickOutside[\"None\"] = \"none\";\r\n})(YPopoverOnClickOutside || (YPopoverOnClickOutside = {}));\r\n/**\r\n * This directive attaches a customizable popover on a DOM element.\r\n *\r\n * ### Parameters\r\n *\r\n * `template` - the HTML body to be used in the popover body, it will automatically be trusted by the directive. Optional but exactly one of either template or templateUrl must be defined.\r\n *\r\n * `templateUrl` - the location of the HTML template to be used in the popover body. Optional but exactly one of either template or templateUrl must be defined.\r\n *\r\n * `title` - the title to be used in the popover title section. Optional.\r\n *\r\n * `placement` - the placement of the popover around the target element. Possible values are <b>top, left, right, bottom</b>, as well as any\r\n * concatenation of them with the following format: placement1-placement2 such as bottom-right. Optional, default value is top.\r\n *\r\n * `trigger` - the event type that will trigger the popover. Possibles values are <b>hover, click, outsideClick, none</b>. Optional, default value is 'click'.\r\n */\r\nvar /* @ngInject */ YPopoverDirective = /** @class */ (function () {\r\n    function /* @ngInject */ YPopoverDirective($scope, $timeout, $element, yjQuery, $templateCache, yPopupEngineService, $transclude) {\r\n        var _this = this;\r\n        this.$scope = $scope;\r\n        this.$timeout = $timeout;\r\n        this.$element = $element;\r\n        this.yjQuery = yjQuery;\r\n        this.$templateCache = $templateCache;\r\n        this.yPopupEngineService = yPopupEngineService;\r\n        this.$transclude = $transclude;\r\n        this.title = '';\r\n        this.placement = 'top';\r\n        this.transcludedContent = null;\r\n        this.transclusionScope = null;\r\n        this.engine = null;\r\n        this.config = null;\r\n        this.trigger = YPopoverTrigger.Click;\r\n        this.isOpen = false;\r\n        this.previousIsOpen = false;\r\n        this.$transclude(function (clone, scope) {\r\n            _this.$element.append(clone);\r\n            _this.transcludedContent = clone;\r\n            _this.transclusionScope = scope;\r\n        });\r\n    }\r\n    /* @ngInject */ YPopoverDirective.prototype.$onInit = function () {\r\n        var _this = this;\r\n        var anchor = this.$element[0];\r\n        var overlay = windowUtils.isIframe() ? this.yjQuery('#' + OVERLAY_ID) : null;\r\n        this.$scope.placement = this.placement;\r\n        this.$scope.template = this.template;\r\n        this.$scope.title = this.title;\r\n        this.config = {\r\n            placement: this.placement || 'top',\r\n            trigger: this.trigger || YPopoverTrigger.Click,\r\n            container: overlay && overlay.length ? overlay[0] : 'body',\r\n            onShow: function () {\r\n                _this.isOpen = true;\r\n            },\r\n            onHide: function () {\r\n                _this.isOpen = false;\r\n            },\r\n            onChanges: function (element, data) {\r\n                _this.$timeout(function () {\r\n                    if (_this.placement !== data.placement) {\r\n                        _this.placement = data.placement;\r\n                    }\r\n                });\r\n            }\r\n        };\r\n        this.engine = new this.yPopupEngineService(anchor, this.getTemplate(), this.$scope, this.config);\r\n        this.isOpen = !stringUtils.isBlank(this.isOpen) ? this.isOpen : this.engine.isOpen;\r\n    };\r\n    /* @ngInject */ YPopoverDirective.prototype.$doCheck = function () {\r\n        if (this.previousIsOpen !== this.isOpen) {\r\n            if (this.isOpen) {\r\n                this.engine.show();\r\n            }\r\n            else {\r\n                this.engine.hide();\r\n            }\r\n            this.previousIsOpen = this.isOpen;\r\n        }\r\n    };\r\n    /* @ngInject */ YPopoverDirective.prototype.$onChanges = function () {\r\n        if (this.templateUrl) {\r\n            this.template = this.$templateCache.get(this.templateUrl);\r\n            delete this.templateUrl;\r\n        }\r\n        if (this.engine) {\r\n            this.config.placement = this.placement || 'top';\r\n            this.config.trigger = this.trigger || YPopoverTrigger.Click;\r\n            this.engine.configure(this.config);\r\n        }\r\n    };\r\n    /* @ngInject */ YPopoverDirective.prototype.$onDestroy = function () {\r\n        this.engine.dispose();\r\n        this.transcludedContent.remove();\r\n        this.transclusionScope.$destroy();\r\n    };\r\n    /* @ngInject */ YPopoverDirective.prototype.getTemplate = function () {\r\n        return \"<y-popover-popup class=\\\"se-popover-popup\\\" data-placement=\\\"ypop.placement\\\" data-template=\\\"ypop.template\\\" data-title=\\\"ypop.title\\\"></y-popover-popup>\";\r\n    };\r\n    /* @ngInject */ YPopoverDirective = __decorate([\r\n        SeDirective({\r\n            selector: '[y-popover]',\r\n            transclude: true,\r\n            replace: false,\r\n            controllerAs: 'ypop',\r\n            inputs: ['templateUrl:?', 'template:?', 'title:?', 'placement:?', 'trigger:?', 'isOpen:?']\r\n        }),\r\n        __metadata(\"design:paramtypes\", [Object, Function, Object, Function, Object, Object, Function])\r\n    ], /* @ngInject */ YPopoverDirective);\r\n    return /* @ngInject */ YPopoverDirective;\r\n}());\r\nexport { /* @ngInject */ YPopoverDirective };\r\n//# sourceMappingURL=yPopoverDirective.js.map","references":["/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smart-utils/dist/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@types/angular@1.7.3/node_modules/@types/angular/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/popper.js@1.16.1/node_modules/popper.js/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/di/index.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/utils/index.ts"],"map":"{\"version\":3,\"file\":\"yPopoverDirective.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/components/popover/yPopoverDirective.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/components/popover/yPopoverDirective.d.ts","writeByteOrderMark":false,"text":"/// <reference types=\"angular-mocks\" />\r\n/// <reference types=\"jquery\" />\r\n/// <reference types=\"eonasdan-bootstrap-datetimepicker\" />\r\nimport * as angular from 'angular';\r\nimport * as popper from 'popper.js';\r\nexport declare enum YPopoverTrigger {\r\n    Hover = \"hover\",\r\n    Click = \"click\",\r\n    Focus = \"focus\",\r\n    OutsideClick = \"outsideClick\",\r\n    None = \"none\"\r\n}\r\nexport declare enum YPopoverOnClickOutside {\r\n    Close = \"close\",\r\n    None = \"none\"\r\n}\r\nexport interface YPopoverConfig {\r\n    /** The placement of the popup, see {@link https://popper.js.org/popper-documentation.html#Popper.Defaults.placement options}. */\r\n    placement: popper.Placement;\r\n    /** For the trigger, see {@link yPopupOverlayModule.service:yPopupEngine#setTrigger setTrigger} method for the available triggers. */\r\n    trigger: YPopoverTrigger;\r\n    /** The parent element that contains the popup. It can be a CSS selector or a HTMLElement. */\r\n    container: string | HTMLElement;\r\n    /** Called when the popup is created. */\r\n    onShow: () => void;\r\n    /** Called when the popup is hidden. */\r\n    onHide: () => void;\r\n    /** Called when a change occurs on the popup's position or creation. */\r\n    onChanges: (element: HTMLElement, data: popper.Data) => void;\r\n    /** Setting to none will not affect the popup when the user clicks outside of the element. */\r\n    onClickOutside?: YPopoverOnClickOutside.Close;\r\n    /** Modifiers provided by the popper library, see the {@link https://popper.js.org/popper-documentation.html#Popper.Defaults.modifiers popper} documentation. */\r\n    modifiers?: popper.Modifiers;\r\n}\r\nexport interface YPopoverScope extends angular.IScope {\r\n    template: string;\r\n    placement: popper.Placement;\r\n    title: string;\r\n}\r\n/**\r\n * This directive attaches a customizable popover on a DOM element.\r\n *\r\n * ### Parameters\r\n *\r\n * `template` - the HTML body to be used in the popover body, it will automatically be trusted by the directive. Optional but exactly one of either template or templateUrl must be defined.\r\n *\r\n * `templateUrl` - the location of the HTML template to be used in the popover body. Optional but exactly one of either template or templateUrl must be defined.\r\n *\r\n * `title` - the title to be used in the popover title section. Optional.\r\n *\r\n * `placement` - the placement of the popover around the target element. Possible values are <b>top, left, right, bottom</b>, as well as any\r\n * concatenation of them with the following format: placement1-placement2 such as bottom-right. Optional, default value is top.\r\n *\r\n * `trigger` - the event type that will trigger the popover. Possibles values are <b>hover, click, outsideClick, none</b>. Optional, default value is 'click'.\r\n */\r\nexport declare class YPopoverDirective {\r\n    private $scope;\r\n    private $timeout;\r\n    private $element;\r\n    private yjQuery;\r\n    private $templateCache;\r\n    private yPopupEngineService;\r\n    private $transclude;\r\n    title?: string;\r\n    template: string;\r\n    placement?: popper.Placement;\r\n    private transcludedContent;\r\n    private transclusionScope;\r\n    private engine;\r\n    private config;\r\n    private templateUrl?;\r\n    private trigger?;\r\n    private isOpen?;\r\n    private previousIsOpen;\r\n    constructor($scope: YPopoverScope, $timeout: angular.ITimeoutService, $element: JQuery<Element>, yjQuery: JQueryStatic, $templateCache: angular.ITemplateCacheService, yPopupEngineService: any, $transclude: angular.ITranscludeFunction);\r\n    $onInit(): void;\r\n    $doCheck(): void;\r\n    $onChanges(): void;\r\n    $onDestroy(): void;\r\n    getTemplate(): string;\r\n}\r\n"}}
