{"code":"import { __awaiter, __decorate, __generator, __spreadArrays } from \"tslib\";\r\n/*\r\n * Copyright (c) 2021 SAP SE or an SAP affiliate company. All rights reserved.\r\n */\r\n/* forbiddenNameSpaces useClass:false */\r\nimport { HttpClient, HttpClientModule } from '@angular/common/http';\r\nimport { CUSTOM_ELEMENTS_SCHEMA, ErrorHandler, NgModule } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\nimport { UpgradeModule } from '@angular/upgrade/static';\r\nimport { commonNgZone, diBridgeUtils, moduleUtils, nodeUtils, AuthenticationService, DEFAULT_AUTHENTICATION_CLIENT_ID, HttpInterceptorModule, IAuthenticationService, ISessionService, ISharedDataService, IStorageService, LanguageService, ResourceNotFoundErrorInterceptor, RestServiceFactory, RetryInterceptor, SeTranslationModule, SharedComponentsModule, SmarteditCommonsModule, SmarteditErrorHandler, SETTINGS_URI, SMARTEDITLOADER_COMPONENT_NAME, SSOAuthenticationHelper, UnauthorizedErrorInterceptor } from 'smarteditcommons';\r\nimport { AlertServiceModule, ConfigurationExtractorService, DelegateRestService, LoadConfigManagerService, SessionService, SharedDataService, StorageService, TranslationsFetchService } from 'smarteditcontainer';\r\nimport { SmarteditloaderComponent } from './SmarteditloaderComponent';\r\nexport var SmarteditLoaderFactory = function (modules) {\r\n    var Smarteditloader = /** @class */ (function () {\r\n        function Smarteditloader() {\r\n        }\r\n        Smarteditloader = __decorate([\r\n            NgModule({\r\n                schemas: [CUSTOM_ELEMENTS_SCHEMA],\r\n                imports: __spreadArrays([\r\n                    BrowserModule,\r\n                    FormsModule,\r\n                    ReactiveFormsModule,\r\n                    HttpClientModule,\r\n                    UpgradeModule,\r\n                    SmarteditCommonsModule,\r\n                    SharedComponentsModule\r\n                ], modules, [\r\n                    AlertServiceModule,\r\n                    HttpInterceptorModule.forRoot(UnauthorizedErrorInterceptor, RetryInterceptor, ResourceNotFoundErrorInterceptor),\r\n                    SeTranslationModule.forRoot(TranslationsFetchService)\r\n                ]),\r\n                providers: [\r\n                    moduleUtils.provideValues({ SSO_CLIENT_ID: DEFAULT_AUTHENTICATION_CLIENT_ID }),\r\n                    SSOAuthenticationHelper,\r\n                    ConfigurationExtractorService,\r\n                    {\r\n                        provide: ErrorHandler,\r\n                        useClass: SmarteditErrorHandler\r\n                    },\r\n                    DelegateRestService,\r\n                    RestServiceFactory,\r\n                    {\r\n                        provide: IAuthenticationService,\r\n                        useClass: AuthenticationService\r\n                    },\r\n                    {\r\n                        provide: ISessionService,\r\n                        useClass: SessionService\r\n                    },\r\n                    {\r\n                        provide: ISharedDataService,\r\n                        useClass: SharedDataService\r\n                    },\r\n                    {\r\n                        provide: IStorageService,\r\n                        useClass: StorageService\r\n                    },\r\n                    LoadConfigManagerService,\r\n                    moduleUtils.initialize(function () {\r\n                        diBridgeUtils.downgradeService('languageService', LanguageService);\r\n                        diBridgeUtils.downgradeService('httpClient', HttpClient);\r\n                        diBridgeUtils.downgradeService('restServiceFactory', RestServiceFactory);\r\n                        diBridgeUtils.downgradeService('ssoAuthenticationHelper', SSOAuthenticationHelper);\r\n                        diBridgeUtils.downgradeService('authenticationService', AuthenticationService, IAuthenticationService);\r\n                    })\r\n                ],\r\n                declarations: [SmarteditloaderComponent],\r\n                entryComponents: [SmarteditloaderComponent],\r\n                bootstrap: [SmarteditloaderComponent]\r\n            })\r\n        ], Smarteditloader);\r\n        return Smarteditloader;\r\n    }());\r\n    return Smarteditloader;\r\n};\r\nvar setGlobalBasePathURL = function () { return __awaiter(void 0, void 0, void 0, function () {\r\n    var settings, settingsJSON, err_1;\r\n    return __generator(this, function (_a) {\r\n        switch (_a.label) {\r\n            case 0:\r\n                _a.trys.push([0, 3, , 4]);\r\n                return [4 /*yield*/, window.fetch(SETTINGS_URI)];\r\n            case 1:\r\n                settings = _a.sent();\r\n                return [4 /*yield*/, settings.json()];\r\n            case 2:\r\n                settingsJSON = _a.sent();\r\n                if (settingsJSON['smartedit.globalBasePath']) {\r\n                    RestServiceFactory.setGlobalBasePath(String(settingsJSON['smartedit.globalBasePath']));\r\n                }\r\n                return [3 /*break*/, 4];\r\n            case 3:\r\n                err_1 = _a.sent();\r\n                console.log('Failure on loading Settings URL');\r\n                return [3 /*break*/, 4];\r\n            case 4: return [2 /*return*/, Promise.resolve()];\r\n        }\r\n    });\r\n}); };\r\nwindow.smarteditJQuery(document).ready(function () {\r\n    if (!nodeUtils.hasLegacyAngularJSBootsrap()) {\r\n        if (!document.querySelector(SMARTEDITLOADER_COMPONENT_NAME)) {\r\n            document.body.appendChild(document.createElement(SMARTEDITLOADER_COMPONENT_NAME));\r\n        }\r\n        var modules_1 = __spreadArrays(window.__smartedit__.pushedModules);\r\n        setGlobalBasePathURL().then(function () {\r\n            platformBrowserDynamic()\r\n                .bootstrapModule(SmarteditLoaderFactory(modules_1), { ngZone: commonNgZone })\r\n                .catch(function (err) { return console.log(err); });\r\n        });\r\n    }\r\n});\r\n//# sourceMappingURL=smarteditloader.js.map","references":["/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular/common@8.2.14_@angular+core@8.2.14+rxjs@6.5.4/node_modules/@angular/common/http.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular/core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular/forms@8.2.14_e9fbe5720e9434eb9ae0f6720f1ca3f4/node_modules/@angular/forms/forms.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular/platform-browser@8.2.14_ecb0ad61817e3ede6ce462931a5e5041/node_modules/@angular/platform-browser/platform-browser.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular/platform-browser-dynamic@8.2.14_4c5c48e73106d2e9b7131da2a9d6eb8e/node_modules/@angular/platform-browser-dynamic/platform-browser-dynamic.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular/upgrade@8.2.14_d2ff5303d1bb22207cb4aaa9bb380a83/node_modules/@angular/upgrade/static.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-container/dist/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-loader/src/SmarteditloaderComponent.ts"],"map":"{\"version\":3,\"file\":\"smarteditloader.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/smarteditloader.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-loader/smarteditloader.d.ts","writeByteOrderMark":false,"text":"export declare const SmarteditLoaderFactory: (modules: any[]) => any;\r\n"}}
