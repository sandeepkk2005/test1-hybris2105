{"code":"import { __awaiter, __decorate, __generator, __metadata, __param } from \"tslib\";\r\n/*\r\n * Copyright (c) 2021 SAP SE or an SAP affiliate company. All rights reserved.\r\n */\r\nimport { ChangeDetectionStrategy, ChangeDetectorRef, Component, Inject } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { DATA_TABLE_COMPONENT_DATA, ICatalogVersionPermissionService } from 'smarteditcommons';\r\nimport { PermanentlyDeletePageItemComponent, RestorePageItemComponent, UpdatePageStatusComponent } from '../pageItems';\r\nwindow.__smartedit__.addDecoratorPayload(\"Component\", \"TrashListDropdownItemsWrapperComponent\", {\r\n    selector: 'se-trash-list-dropdown-items-wrapper',\r\n    template: \"<div\\n        *seHasOperationPermission=\\\"'se.edit.page'\\\"\\n        class=\\\"paged-list-table__body__td paged-list-table__body__td-menu\\\"\\n    >\\n        <se-dropdown-menu\\n            [dropdownItems]=\\\"dropdownItems\\\"\\n            [selectedItem]=\\\"item\\\"\\n            class=\\\"pull-right\\\"\\n        ></se-dropdown-menu>\\n    </div>\",\r\n    changeDetection: ChangeDetectionStrategy.OnPush\r\n});\r\nvar TrashListDropdownItemsWrapperComponent = /** @class */ (function () {\r\n    function TrashListDropdownItemsWrapperComponent(route, data, catalogVersionPermissionService, cdr) {\r\n        this.route = route;\r\n        this.data = data;\r\n        this.catalogVersionPermissionService = catalogVersionPermissionService;\r\n        this.cdr = cdr;\r\n        this.dropdownItems = [];\r\n        this.loaded = false;\r\n    }\r\n    TrashListDropdownItemsWrapperComponent.prototype.ngOnInit = function () {\r\n        return this.setDropdownItems();\r\n    };\r\n    TrashListDropdownItemsWrapperComponent.prototype.setDropdownItems = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var canSynchronize;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        this.item = this.data.item;\r\n                        return [4 /*yield*/, this.catalogVersionPermissionService.hasSyncPermissionToActiveCatalogVersion(this.route.snapshot.params.catalogId, this.route.snapshot.params.catalogVersion)];\r\n                    case 1:\r\n                        canSynchronize = _a.sent();\r\n                        this.addDropdownItem(RestorePageItemComponent);\r\n                        if (canSynchronize) {\r\n                            this.addDropdownItem(UpdatePageStatusComponent);\r\n                        }\r\n                        this.addDropdownItem(PermanentlyDeletePageItemComponent);\r\n                        this.cdr.detectChanges();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    TrashListDropdownItemsWrapperComponent.prototype.addDropdownItem = function (item) {\r\n        this.dropdownItems = this.dropdownItems.concat({\r\n            component: item\r\n        });\r\n    };\r\n    TrashListDropdownItemsWrapperComponent = __decorate([\r\n        Component({\r\n            selector: 'se-trash-list-dropdown-items-wrapper',\r\n            template: \"<div\\n        *seHasOperationPermission=\\\"'se.edit.page'\\\"\\n        class=\\\"paged-list-table__body__td paged-list-table__body__td-menu\\\"\\n    >\\n        <se-dropdown-menu\\n            [dropdownItems]=\\\"dropdownItems\\\"\\n            [selectedItem]=\\\"item\\\"\\n            class=\\\"pull-right\\\"\\n        ></se-dropdown-menu>\\n    </div>\",\r\n            changeDetection: ChangeDetectionStrategy.OnPush\r\n        }),\r\n        __param(1, Inject(DATA_TABLE_COMPONENT_DATA)),\r\n        __metadata(\"design:paramtypes\", [ActivatedRoute, Object, ICatalogVersionPermissionService,\r\n            ChangeDetectorRef])\r\n    ], TrashListDropdownItemsWrapperComponent);\r\n    return TrashListDropdownItemsWrapperComponent;\r\n}());\r\nexport { TrashListDropdownItemsWrapperComponent };\r\n//# sourceMappingURL=TrashListDropdownItemsWrapperComponent.js.map","references":["/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular/core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular/router@8.2.14_e9fbe5720e9434eb9ae0f6720f1ca3f4/node_modules/@angular/router/router.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-commons/dist/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/pages/pageItems/index.ts"],"map":"{\"version\":3,\"file\":\"TrashListDropdownItemsWrapperComponent.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../src/components/pages/pageListComponentWrappers/TrashListDropdownItemsWrapperComponent.ts\"],\"names\":[],\"mappings\":\";AAAA;;GAEG;AACH,OAAO,EACH,uBAAuB,EACvB,iBAAiB,EACjB,SAAS,EACT,MAAM,EAGT,MAAM,eAAe,CAAC;AACvB,OAAO,EAAE,cAAc,EAAE,MAAM,iBAAiB,CAAC;AAEjD,OAAO,EAEH,yBAAyB,EACzB,gCAAgC,EAEnC,MAAM,kBAAkB,CAAC;AAC1B,OAAO,EACH,kCAAkC,EAClC,wBAAwB,EACxB,yBAAyB,EAC5B,MAAM,cAAc,CAAC;gGAEX;IACP,QAAQ,EAAE,sCAAsC;IAChD,QAAQ,EAAE,4UASH;IACP,eAAe,EAAE,uBAAuB,CAAC,MAAM;CAClD;AACD;IAKI,gDACY,KAAqB,EACa,IAA4B,EAC9D,+BAAiE,EACjE,GAAsB;QAHtB,UAAK,GAAL,KAAK,CAAgB;QACa,SAAI,GAAJ,IAAI,CAAwB;QAC9D,oCAA+B,GAA/B,+BAA+B,CAAkC;QACjE,QAAG,GAAH,GAAG,CAAmB;QAR3B,kBAAa,GAAwB,EAAE,CAAC;QAExC,WAAM,GAAG,KAAK,CAAC;IAOnB,CAAC;IAEJ,yDAAQ,GAAR;QACI,OAAO,IAAI,CAAC,gBAAgB,EAAE,CAAC;IACnC,CAAC;IAEa,iEAAgB,GAA9B;;;;;;wBACI,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,IAAgB,CAAC;wBAChB,qBAAM,IAAI,CAAC,+BAA+B,CAAC,uCAAuC,CACrG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,SAAS,EACpC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,cAAc,CAC5C,EAAA;;wBAHK,cAAc,GAAG,SAGtB;wBAED,IAAI,CAAC,eAAe,CAAC,wBAAwB,CAAC,CAAC;wBAE/C,IAAI,cAAc,EAAE;4BAChB,IAAI,CAAC,eAAe,CAAC,yBAAyB,CAAC,CAAC;yBACnD;wBAED,IAAI,CAAC,eAAe,CAAC,kCAAkC,CAAC,CAAC;wBAEzD,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC;;;;;KAC5B;IAEO,gEAAe,GAAvB,UAAwB,IAAe;QACnC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC;YAC3C,SAAS,EAAE,IAAI;SAClB,CAAC,CAAC;IACP,CAAC;IAtCQ,sCAAsC;QAdlD,SAAS,CAAC;YACP,QAAQ,EAAE,sCAAsC;YAChD,QAAQ,EAAE,4UASH;YACP,eAAe,EAAE,uBAAuB,CAAC,MAAM;SAClD,CAAC;QAQO,WAAA,MAAM,CAAC,yBAAyB,CAAC,CAAA;yCADnB,cAAc,UAEY,gCAAgC;YAC5D,iBAAiB;OATzB,sCAAsC,CAuClD;IAAD,6CAAC;CAAA,AAvCD,IAuCC;SAvCY,sCAAsC\"}","dts":{"name":"/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/components/pages/pageListComponentWrappers/TrashListDropdownItemsWrapperComponent.d.ts","writeByteOrderMark":false,"text":"import { ChangeDetectorRef, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { ICMSPage } from 'cmscommons';\r\nimport { DataTableComponentData, ICatalogVersionPermissionService, IDropdownMenuItem } from 'smarteditcommons';\r\nexport declare class TrashListDropdownItemsWrapperComponent implements OnInit {\r\n    private route;\r\n    data: DataTableComponentData;\r\n    private catalogVersionPermissionService;\r\n    private cdr;\r\n    dropdownItems: IDropdownMenuItem[];\r\n    item: ICMSPage;\r\n    loaded: boolean;\r\n    constructor(route: ActivatedRoute, data: DataTableComponentData, catalogVersionPermissionService: ICatalogVersionPermissionService, cdr: ChangeDetectorRef);\r\n    ngOnInit(): Promise<void>;\r\n    private setDropdownItems;\r\n    private addDropdownItem;\r\n}\r\n"}}
