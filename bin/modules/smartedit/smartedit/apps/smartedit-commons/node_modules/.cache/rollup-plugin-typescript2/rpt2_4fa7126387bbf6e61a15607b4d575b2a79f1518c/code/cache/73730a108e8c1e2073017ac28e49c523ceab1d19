{"code":"import { __assign, __decorate, __metadata } from \"tslib\";\r\nimport { ChangeDetectorRef, Component, ElementRef, EventEmitter, HostListener, Input, Output, ViewChild } from '@angular/core';\r\nimport { ITemplateCacheService } from 'smarteditcommons/services/interfaces/ITemplateCacheService';\r\nimport { SeDowngradeComponent } from '../../../di';\r\nimport { stringUtils } from '../../../utils';\r\nimport { DropdownMenuItemDefaultComponent } from './DropdownMenuItemDefaultComponent';\r\nimport './DropdownMenuComponent.scss';\r\nwindow.__smartedit__.addDecoratorPayload(\"Component\", \"DropdownMenuComponent\", {\r\n    selector: 'se-dropdown-menu',\r\n    template: \"<fd-popover [triggers]=\\\"[]\\\" [closeOnOutsideClick]=\\\"false\\\" [isOpen]=\\\"isOpen\\\" [placement]=\\\"placement || 'bottom-end'\\\" class=\\\"se-dropdown-more-menu\\\"><fd-popover-control><div #toggleMenu><div *ngIf=\\\"!useProjectedAnchor; else projectedAnchor;\\\" class=\\\"sap-icon--overflow se-dropdown-more-menu__toggle\\\"></div><ng-template #projectedAnchor><ng-content></ng-content></ng-template></div></fd-popover-control><fd-popover-body><fd-menu><ul fd-menu-list class=\\\"se-dropdown-menu__list\\\" [ngClass]=\\\"additionalClasses\\\"><se-dropdown-menu-item *ngFor=\\\"let dropdownItem of clonedDropdownItems\\\" [dropdownItem]=\\\"dropdownItem\\\" [selectedItem]=\\\"selectedItem\\\"></se-dropdown-menu-item></ul></fd-menu></fd-popover-body></fd-popover>\"\r\n});\r\nvar /* @ngInject */ DropdownMenuComponent = /** @class */ (function () {\r\n    function /* @ngInject */ DropdownMenuComponent($templateCache, cd) {\r\n        this.$templateCache = $templateCache;\r\n        this.cd = cd;\r\n        this.useProjectedAnchor = false;\r\n        this.isOpen = false;\r\n        this.additionalClasses = [];\r\n        this.isOpenChange = new EventEmitter();\r\n    }\r\n    /* @ngInject */ DropdownMenuComponent.prototype.clickHandler = function (event) {\r\n        if (this.toggleMenuElement.nativeElement.contains(event.target)) {\r\n            event.stopPropagation();\r\n            this.isOpen = !this.isOpen;\r\n            this.cd.detectChanges();\r\n            this.emitIsOpenChange();\r\n            return;\r\n        }\r\n        if (this.isOpen) {\r\n            this.isOpen = false;\r\n            this.cd.detectChanges();\r\n            this.emitIsOpenChange();\r\n            return;\r\n        }\r\n    };\r\n    /* @ngInject */ DropdownMenuComponent.prototype.ngOnChanges = function (changes) {\r\n        var _this = this;\r\n        if (changes.dropdownItems) {\r\n            this.clonedDropdownItems = this.dropdownItems\r\n                .map(function (item) { return (__assign(__assign({}, item), { condition: item.condition || (function () { return true; }) })); })\r\n                .map(function (item) { return _this.setComponentOrTemplateUrl(item); });\r\n        }\r\n    };\r\n    /* @ngInject */ DropdownMenuComponent.prototype.emitIsOpenChange = function () {\r\n        this.isOpenChange.emit(this.isOpen);\r\n    };\r\n    /* @ngInject */ DropdownMenuComponent.prototype.setComponentOrTemplateUrl = function (dropdownItem) {\r\n        switch (this.validateDropdownItem(dropdownItem)) {\r\n            case 'callback':\r\n                return __assign(__assign({}, dropdownItem), { component: DropdownMenuItemDefaultComponent });\r\n            case 'template':\r\n                return __assign(__assign({}, dropdownItem), { templateUrl: this.cacheDropdownItemTemplate(dropdownItem), template: null });\r\n            default:\r\n                return dropdownItem;\r\n        }\r\n    };\r\n    /* @ngInject */ DropdownMenuComponent.prototype.cacheDropdownItemTemplate = function (dropdownItem) {\r\n        var keyOfCachedTemplate = 'yDropdownItem_' +\r\n            stringUtils.getEncodedString(dropdownItem.template) +\r\n            '_Template.html';\r\n        if (!this.$templateCache.get(keyOfCachedTemplate)) {\r\n            this.$templateCache.put(keyOfCachedTemplate, dropdownItem.template);\r\n        }\r\n        return keyOfCachedTemplate;\r\n    };\r\n    /* @ngInject */ DropdownMenuComponent.prototype.validateDropdownItem = function (dropdownItem) {\r\n        var expectedAttributes = [\r\n            'callback',\r\n            'template',\r\n            'templateUrl',\r\n            'component'\r\n        ];\r\n        var passedAttributes = Object.keys(dropdownItem);\r\n        var validatedAttributes = passedAttributes.filter(function (attribute) { return expectedAttributes.indexOf(attribute) !== -1; });\r\n        if (validatedAttributes.length !== 1) {\r\n            throw new Error('DropdownMenuComponent.validateDropdownItem - Dropdown Item must contain at least a callback, template, templateUrl or component');\r\n        }\r\n        var targetAttribute = validatedAttributes[0];\r\n        return targetAttribute;\r\n    };\r\n    __decorate([\r\n        Input(),\r\n        __metadata(\"design:type\", Array)\r\n    ], /* @ngInject */ DropdownMenuComponent.prototype, \"dropdownItems\", void 0);\r\n    __decorate([\r\n        Input(),\r\n        __metadata(\"design:type\", Object)\r\n    ], /* @ngInject */ DropdownMenuComponent.prototype, \"selectedItem\", void 0);\r\n    __decorate([\r\n        Input(),\r\n        __metadata(\"design:type\", String)\r\n    ], /* @ngInject */ DropdownMenuComponent.prototype, \"placement\", void 0);\r\n    __decorate([\r\n        Input(),\r\n        __metadata(\"design:type\", Object)\r\n    ], /* @ngInject */ DropdownMenuComponent.prototype, \"useProjectedAnchor\", void 0);\r\n    __decorate([\r\n        Input(),\r\n        __metadata(\"design:type\", Object)\r\n    ], /* @ngInject */ DropdownMenuComponent.prototype, \"isOpen\", void 0);\r\n    __decorate([\r\n        Input(),\r\n        __metadata(\"design:type\", Array)\r\n    ], /* @ngInject */ DropdownMenuComponent.prototype, \"additionalClasses\", void 0);\r\n    __decorate([\r\n        Output(),\r\n        __metadata(\"design:type\", Object)\r\n    ], /* @ngInject */ DropdownMenuComponent.prototype, \"isOpenChange\", void 0);\r\n    __decorate([\r\n        ViewChild('toggleMenu', { static: true }),\r\n        __metadata(\"design:type\", ElementRef)\r\n    ], /* @ngInject */ DropdownMenuComponent.prototype, \"toggleMenuElement\", void 0);\r\n    __decorate([\r\n        HostListener('document:click', ['$event']),\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [MouseEvent]),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], /* @ngInject */ DropdownMenuComponent.prototype, \"clickHandler\", null);\r\n    /* @ngInject */ DropdownMenuComponent = __decorate([\r\n        SeDowngradeComponent(),\r\n        Component({\r\n            selector: 'se-dropdown-menu',\r\n            template: \"<fd-popover [triggers]=\\\"[]\\\" [closeOnOutsideClick]=\\\"false\\\" [isOpen]=\\\"isOpen\\\" [placement]=\\\"placement || 'bottom-end'\\\" class=\\\"se-dropdown-more-menu\\\"><fd-popover-control><div #toggleMenu><div *ngIf=\\\"!useProjectedAnchor; else projectedAnchor;\\\" class=\\\"sap-icon--overflow se-dropdown-more-menu__toggle\\\"></div><ng-template #projectedAnchor><ng-content></ng-content></ng-template></div></fd-popover-control><fd-popover-body><fd-menu><ul fd-menu-list class=\\\"se-dropdown-menu__list\\\" [ngClass]=\\\"additionalClasses\\\"><se-dropdown-menu-item *ngFor=\\\"let dropdownItem of clonedDropdownItems\\\" [dropdownItem]=\\\"dropdownItem\\\" [selectedItem]=\\\"selectedItem\\\"></se-dropdown-menu-item></ul></fd-menu></fd-popover-body></fd-popover>\"\r\n        }),\r\n        __metadata(\"design:paramtypes\", [ITemplateCacheService, ChangeDetectorRef])\r\n    ], /* @ngInject */ DropdownMenuComponent);\r\n    return /* @ngInject */ DropdownMenuComponent;\r\n}());\r\nexport { /* @ngInject */ DropdownMenuComponent };\r\n//# sourceMappingURL=DropdownMenuComponent.js.map","references":["/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular/core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/popper.js@1.16.1/node_modules/popper.js/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/services/interfaces/ITemplateCacheService.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/di/index.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/utils/index.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/components/dropdown/dropdownMenu/DropdownMenuItemDefaultComponent.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/components/dropdown/dropdownMenu/IDropdownMenuItem.ts"],"map":"{\"version\":3,\"file\":\"DropdownMenuComponent.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../src/components/dropdown/dropdownMenu/DropdownMenuComponent.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/components/dropdown/dropdownMenu/DropdownMenuComponent.d.ts","writeByteOrderMark":false,"text":"import { ChangeDetectorRef, ElementRef, EventEmitter, Injector, OnChanges, SimpleChanges } from '@angular/core';\r\nimport { Placement } from 'popper.js';\r\nimport { ITemplateCacheService } from 'smarteditcommons/services/interfaces/ITemplateCacheService';\r\nimport { IDropdownMenuItem } from './IDropdownMenuItem';\r\nimport './DropdownMenuComponent.scss';\r\nexport declare class DropdownMenuComponent implements OnChanges {\r\n    private $templateCache;\r\n    private cd;\r\n    dropdownItems: IDropdownMenuItem[];\r\n    selectedItem: any;\r\n    placement: Placement;\r\n    useProjectedAnchor: boolean;\r\n    isOpen: boolean;\r\n    additionalClasses: string[];\r\n    isOpenChange: EventEmitter<boolean>;\r\n    toggleMenuElement: ElementRef<HTMLDivElement>;\r\n    clonedDropdownItems: IDropdownMenuItem[];\r\n    dropdownMenuItemDefaultInjector: Injector;\r\n    constructor($templateCache: ITemplateCacheService, cd: ChangeDetectorRef);\r\n    clickHandler(event: MouseEvent): void;\r\n    ngOnChanges(changes: SimpleChanges): void;\r\n    private emitIsOpenChange;\r\n    private setComponentOrTemplateUrl;\r\n    private cacheDropdownItemTemplate;\r\n    private validateDropdownItem;\r\n}\r\n"}}
