{"code":"import { __decorate, __metadata } from \"tslib\";\r\nimport { ChangeDetectionStrategy, ChangeDetectorRef, Component, EventEmitter, Input, Output, ViewEncapsulation } from '@angular/core';\r\nimport { LINKED_DROPDOWN, SystemEventService } from 'smarteditcommons';\r\nimport { MediaContainerSelectorItemComponent } from '../mediaContainerSelectorItem';\r\nvar MediaContainersUri = '/cmswebservices/v1/catalogs/CURRENT_CONTEXT_CATALOG/versions/CURRENT_CONTEXT_CATALOG_VERSION/mediacontainers';\r\nvar FieldQualifier = 'mediaContainer';\r\nwindow.__smartedit__.addDecoratorPayload(\"Component\", \"MediaContainerSelectorComponent\", {\r\n    selector: 'se-media-container-selector',\r\n    template: \"<se-generic-editor-dropdown [id]=\\\"id\\\" [field]=\\\"field\\\" [qualifier]=\\\"field.qualifier\\\" [model]=\\\"mediaContainerNameModel\\\" [showRemoveButton]=\\\"true\\\" [itemComponent]=\\\"itemComponent\\\" [actionableSearchItem]=\\\"actionableSearchItem\\\"></se-generic-editor-dropdown><div *ngIf=\\\"isSelected() || creationInProgress\\\"><label class=\\\"se-control-label required se-media-container-name-label\\\">{{ 'se.cms.media.responsive.name' | lowercase | translate }}</label> <input type=\\\"text\\\" name=\\\"media-container-qualifier\\\" [id]=\\\"'media-container-qualifier-' + id\\\" class=\\\"fd-form-control\\\" [ngModel]=\\\"name\\\" (ngModelChange)=\\\"onNameChange($event)\\\" [readOnly]=\\\"isNameReadOnly()\\\"/></div>\",\r\n    styles: [\"se-media-container-selector .se-media-container-name-label{margin-top:9px}se-media-container-selector .se-generic-editor-dropdown .se-item-printer{width:100%}\"],\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n    encapsulation: ViewEncapsulation.None\r\n});\r\nvar MediaContainerSelectorComponent = /** @class */ (function () {\r\n    function MediaContainerSelectorComponent(cdr, systemEventService) {\r\n        this.cdr = cdr;\r\n        this.systemEventService = systemEventService;\r\n        this.nameChange = new EventEmitter();\r\n        this.onCreate = new EventEmitter();\r\n        this.onRemove = new EventEmitter();\r\n        this.onSelect = new EventEmitter();\r\n        this.onCreationInProgressChange = new EventEmitter();\r\n        this.field = {\r\n            cmsStructureType: 'EditableDropdown',\r\n            qualifier: FieldQualifier,\r\n            required: true,\r\n            uri: MediaContainersUri,\r\n            idAttribute: 'qualifier',\r\n            editable: true,\r\n            paged: true\r\n        };\r\n        this.creationInProgress = false;\r\n        this.itemComponent = MediaContainerSelectorItemComponent;\r\n    }\r\n    MediaContainerSelectorComponent.prototype.ngOnInit = function () {\r\n        var _a;\r\n        var _this = this;\r\n        this.id = FieldQualifier + \"_\" + this.eventNameAffix;\r\n        this.mediaContainerNameModel = (_a = {},\r\n            _a[FieldQualifier] = this.initialName,\r\n            _a);\r\n        var selectMediaContainerEventName = \"\" + this.id + LINKED_DROPDOWN;\r\n        this.unRegSelectMediaContainer = this.systemEventService.subscribe(selectMediaContainerEventName, function (_eventId, selectedItem) { return _this.onSelectItem(selectedItem); });\r\n        var createMediaContainerEventName = \"CREATE_MEDIA_CONTAINER_BUTTON_PRESSED_EVENT_\" + this.eventNameAffix;\r\n        this.actionableSearchItem = {\r\n            eventId: createMediaContainerEventName\r\n        };\r\n        this.unRegCreateMediaContainer = this.systemEventService.subscribe(createMediaContainerEventName, function (_eventId, name) { return _this.onCreateMediaContainer(name); });\r\n    };\r\n    MediaContainerSelectorComponent.prototype.ngOnDestroy = function () {\r\n        this.unRegSelectMediaContainer();\r\n        this.unRegCreateMediaContainer();\r\n    };\r\n    MediaContainerSelectorComponent.prototype.onNameChange = function (name) {\r\n        this.nameChange.emit(name);\r\n    };\r\n    MediaContainerSelectorComponent.prototype.isNameReadOnly = function () {\r\n        return !this.isAdvancedCloning && !this.creationInProgress && this.isSelected();\r\n    };\r\n    MediaContainerSelectorComponent.prototype.isSelected = function () {\r\n        return !!this.mediaContainerNameModel[FieldQualifier];\r\n    };\r\n    MediaContainerSelectorComponent.prototype.onSelectItem = function (_a) {\r\n        var selectedMediaContainer = _a.optionObject;\r\n        this.setCreationInProgressAndEmit(false);\r\n        if (!this.mediaContainerNameModel.mediaContainer) {\r\n            this.onRemove.emit();\r\n        }\r\n        else if (!!selectedMediaContainer) {\r\n            this.onSelect.emit(selectedMediaContainer);\r\n        }\r\n        this.cdr.detectChanges();\r\n    };\r\n    MediaContainerSelectorComponent.prototype.onCreateMediaContainer = function (name) {\r\n        this.setCreationInProgressAndEmit(true);\r\n        this.onCreate.emit(name);\r\n        this.cdr.detectChanges();\r\n    };\r\n    MediaContainerSelectorComponent.prototype.setCreationInProgressAndEmit = function (isInProgress) {\r\n        this.creationInProgress = isInProgress;\r\n        this.onCreationInProgressChange.emit(isInProgress);\r\n    };\r\n    __decorate([\r\n        Input(),\r\n        __metadata(\"design:type\", String)\r\n    ], MediaContainerSelectorComponent.prototype, \"eventNameAffix\", void 0);\r\n    __decorate([\r\n        Input(),\r\n        __metadata(\"design:type\", Boolean)\r\n    ], MediaContainerSelectorComponent.prototype, \"isAdvancedCloning\", void 0);\r\n    __decorate([\r\n        Input(),\r\n        __metadata(\"design:type\", String)\r\n    ], MediaContainerSelectorComponent.prototype, \"name\", void 0);\r\n    __decorate([\r\n        Input(),\r\n        __metadata(\"design:type\", String)\r\n    ], MediaContainerSelectorComponent.prototype, \"initialName\", void 0);\r\n    __decorate([\r\n        Output(),\r\n        __metadata(\"design:type\", EventEmitter)\r\n    ], MediaContainerSelectorComponent.prototype, \"nameChange\", void 0);\r\n    __decorate([\r\n        Output(),\r\n        __metadata(\"design:type\", EventEmitter)\r\n    ], MediaContainerSelectorComponent.prototype, \"onCreate\", void 0);\r\n    __decorate([\r\n        Output(),\r\n        __metadata(\"design:type\", EventEmitter)\r\n    ], MediaContainerSelectorComponent.prototype, \"onRemove\", void 0);\r\n    __decorate([\r\n        Output(),\r\n        __metadata(\"design:type\", EventEmitter)\r\n    ], MediaContainerSelectorComponent.prototype, \"onSelect\", void 0);\r\n    __decorate([\r\n        Output(),\r\n        __metadata(\"design:type\", EventEmitter)\r\n    ], MediaContainerSelectorComponent.prototype, \"onCreationInProgressChange\", void 0);\r\n    MediaContainerSelectorComponent = __decorate([\r\n        Component({\r\n            selector: 'se-media-container-selector',\r\n            template: \"<se-generic-editor-dropdown [id]=\\\"id\\\" [field]=\\\"field\\\" [qualifier]=\\\"field.qualifier\\\" [model]=\\\"mediaContainerNameModel\\\" [showRemoveButton]=\\\"true\\\" [itemComponent]=\\\"itemComponent\\\" [actionableSearchItem]=\\\"actionableSearchItem\\\"></se-generic-editor-dropdown><div *ngIf=\\\"isSelected() || creationInProgress\\\"><label class=\\\"se-control-label required se-media-container-name-label\\\">{{ 'se.cms.media.responsive.name' | lowercase | translate }}</label> <input type=\\\"text\\\" name=\\\"media-container-qualifier\\\" [id]=\\\"'media-container-qualifier-' + id\\\" class=\\\"fd-form-control\\\" [ngModel]=\\\"name\\\" (ngModelChange)=\\\"onNameChange($event)\\\" [readOnly]=\\\"isNameReadOnly()\\\"/></div>\",\r\n            styles: [\"se-media-container-selector .se-media-container-name-label{margin-top:9px}se-media-container-selector .se-generic-editor-dropdown .se-item-printer{width:100%}\"],\r\n            changeDetection: ChangeDetectionStrategy.OnPush,\r\n            encapsulation: ViewEncapsulation.None\r\n        }),\r\n        __metadata(\"design:paramtypes\", [ChangeDetectorRef, SystemEventService])\r\n    ], MediaContainerSelectorComponent);\r\n    return MediaContainerSelectorComponent;\r\n}());\r\nexport { MediaContainerSelectorComponent };\r\n//# sourceMappingURL=MediaContainerSelectorComponent.js.map","references":["/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular/core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/genericEditor/media/components/mediaContainer/MediaContainerComponent.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/genericEditor/media/components/mediaContainer/mediaContainerSelectorItem/index.ts"],"map":"{\"version\":3,\"file\":\"MediaContainerSelectorComponent.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../../../../src/components/genericEditor/media/components/mediaContainer/mediaContainerSelector/MediaContainerSelectorComponent.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/components/genericEditor/media/components/mediaContainer/mediaContainerSelector/MediaContainerSelectorComponent.d.ts","writeByteOrderMark":false,"text":"import { ChangeDetectorRef, EventEmitter, OnDestroy, OnInit } from '@angular/core';\r\nimport { ActionableSearchItem, GenericEditorField, SystemEventService } from 'smarteditcommons';\r\nimport { MediaContainer } from '../MediaContainerComponent';\r\nimport { MediaContainerSelectorItemComponent } from '../mediaContainerSelectorItem';\r\ndeclare const FieldQualifier = \"mediaContainer\";\r\nexport declare class MediaContainerSelectorComponent implements OnInit, OnDestroy {\r\n    private cdr;\r\n    private systemEventService;\r\n    eventNameAffix: string;\r\n    isAdvancedCloning: boolean;\r\n    name: string;\r\n    initialName: string;\r\n    nameChange: EventEmitter<string>;\r\n    onCreate: EventEmitter<string>;\r\n    onRemove: EventEmitter<void>;\r\n    onSelect: EventEmitter<MediaContainer>;\r\n    onCreationInProgressChange: EventEmitter<boolean>;\r\n    id: string;\r\n    field: GenericEditorField;\r\n    mediaContainerNameModel: {\r\n        [FieldQualifier]: string;\r\n    };\r\n    actionableSearchItem: ActionableSearchItem;\r\n    itemComponent: typeof MediaContainerSelectorItemComponent;\r\n    creationInProgress: boolean;\r\n    private unRegSelectMediaContainer;\r\n    private unRegCreateMediaContainer;\r\n    constructor(cdr: ChangeDetectorRef, systemEventService: SystemEventService);\r\n    ngOnInit(): void;\r\n    ngOnDestroy(): void;\r\n    onNameChange(name: string): void;\r\n    isNameReadOnly(): boolean;\r\n    isSelected(): boolean;\r\n    private onSelectItem;\r\n    private onCreateMediaContainer;\r\n    private setCreationInProgressAndEmit;\r\n}\r\nexport {};\r\n"}}
