{"code":"/*\r\n * Copyright (c) 2021 SAP SE or an SAP affiliate company. All rights reserved.\r\n */\r\nimport { functionsUtils } from '@smart/utils';\r\nimport * as lo from 'lodash';\r\nimport { diNameUtils } from './DINameUtils';\r\n/** @internal */\r\nexport var parseDirectiveBindings = function (inputs) {\r\n    var bindings;\r\n    if (inputs && inputs.length) {\r\n        bindings = inputs.reduce(function (seed, element) {\r\n            var values = element.replace(/\\s/g, '').split(':');\r\n            var bindingProperty = values[values.length - 1];\r\n            if (!bindingProperty.startsWith('@') &&\r\n                !bindingProperty.startsWith('&') &&\r\n                !bindingProperty.startsWith('=')) {\r\n                bindingProperty = '<' + bindingProperty;\r\n            }\r\n            seed[values[0]] = bindingProperty;\r\n            return seed;\r\n        }, {});\r\n    }\r\n    return bindings;\r\n};\r\n/*\r\n * Used to determine directive name and restrict value in AngularJS given an Angular directive\r\n */\r\n/** @internal */\r\nexport var parseDirectiveName = function (selector, seContructor) {\r\n    var attributeDirectiveNamePattern = /^\\[([-\\w]+)\\]$/;\r\n    var elementDirectiveNamePattern = /^([-\\w]+)$/;\r\n    if (!selector) {\r\n        return { name: diNameUtils.buildComponentName(seContructor), restrict: 'E' };\r\n    }\r\n    else if (selector.startsWith('.')) {\r\n        return { name: lo.camelCase(selector.substring(1)), restrict: 'C' };\r\n    }\r\n    else if (attributeDirectiveNamePattern.test(selector)) {\r\n        return {\r\n            name: lo.camelCase(attributeDirectiveNamePattern.exec(selector)[1]),\r\n            restrict: 'A'\r\n        };\r\n    }\r\n    else if (elementDirectiveNamePattern.test(selector)) {\r\n        return { name: lo.camelCase(elementDirectiveNamePattern.exec(selector)[1]), restrict: 'E' };\r\n    }\r\n    else {\r\n        var directiveClassName = functionsUtils.getConstructorName(seContructor);\r\n        throw new Error(\"SeDirective \" + directiveClassName + \" declared an unexpected selector (\" + selector + \"). \\n\\t\\tMake sure to use an element name or class (.class) or attribute ([attribute])\");\r\n    }\r\n};\r\n/**\r\n * ** Deprecated since 1905.**\r\n *\r\n * Class level typescript {@link http://www.typescriptlang.org/docs/handbook/decorators.html decorator factory}\r\n * used to declare a Smartedit web directive from a Depencency injection standpoint.\r\n * This directive will have an isolated scope and will bind its properties to its controller\r\n * @deprecated\r\n */\r\nexport var SeDirective = function (definition) {\r\n    return function (directiveConstructor) {\r\n        definition = definition;\r\n        var directive = {\r\n            controller: directiveConstructor,\r\n            scope: typeof definition.scope === 'undefined' ? {} : definition.scope,\r\n            replace: definition.replace,\r\n            transclude: definition.transclude,\r\n            template: definition.template,\r\n            templateUrl: definition.templateUrl,\r\n            controllerAs: definition.controllerAs,\r\n            bindToController: parseDirectiveBindings(definition.inputs) || true,\r\n            require: definition.require\r\n        };\r\n        var nameSet = parseDirectiveName(definition.selector, directiveConstructor);\r\n        directive.restrict = nameSet.restrict;\r\n        directiveConstructor.directiveName = nameSet.name;\r\n        directiveConstructor.definition = directive;\r\n        // will be browsed by owning @SeModule\r\n        directiveConstructor.providers = definition.providers;\r\n        return directiveConstructor;\r\n    };\r\n};\r\n//# sourceMappingURL=SeDirective.js.map","references":["/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smart-utils/dist/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@types/angular@1.7.3/node_modules/@types/angular/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@types/lodash@4.14.159/node_modules/@types/lodash/ts3.1/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/di/DINameUtils.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/di/types.ts"],"map":"{\"version\":3,\"file\":\"SeDirective.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/di/SeDirective.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/di/SeDirective.d.ts","writeByteOrderMark":false,"text":"import { TypedMap } from '@smart/utils';\r\nimport { SeConstructor, SeDirectiveConstructor, SeDirectiveDefinition } from './types';\r\n/** @internal */\r\nexport declare const parseDirectiveBindings: (inputs: string[]) => TypedMap<string>;\r\n/** @internal */\r\nexport declare const parseDirectiveName: (selector: string, seContructor: SeConstructor) => {\r\n    name: string;\r\n    restrict: string;\r\n};\r\n/**\r\n * ** Deprecated since 1905.**\r\n *\r\n * Class level typescript {@link http://www.typescriptlang.org/docs/handbook/decorators.html decorator factory}\r\n * used to declare a Smartedit web directive from a Depencency injection standpoint.\r\n * This directive will have an isolated scope and will bind its properties to its controller\r\n * @deprecated\r\n */\r\nexport declare const SeDirective: (definition: SeDirectiveDefinition) => (directiveConstructor: SeDirectiveConstructor) => SeDirectiveConstructor;\r\n"}}
