{"code":"import { __decorate, __metadata } from \"tslib\";\r\n/*\r\n * Copyright (c) 2021 SAP SE or an SAP affiliate company. All rights reserved.\r\n */\r\nimport { Pipe } from '@angular/core';\r\nimport { map, pairwise, startWith, tap } from 'rxjs/operators';\r\nimport { L10nService } from '../../services/L10nService';\r\n/** @ignore */\r\nexport function getLocalizedFilterFn(language) {\r\n    return function (localizedMap) {\r\n        if (typeof localizedMap === 'string') {\r\n            return localizedMap;\r\n        }\r\n        else if (localizedMap) {\r\n            return localizedMap[language] || localizedMap[Object.keys(localizedMap)[0]];\r\n        }\r\n        else {\r\n            return undefined;\r\n        }\r\n    };\r\n}\r\n/**\r\n * Pipe for translating localized maps for the current language.\r\n *\r\n * ### Example\r\n *\r\n *      localizedMap = {\r\n *        en: 'dummyText in english',\r\n *        fr: 'dummyText in french'\r\n *      };\r\n *\r\n *      {{ localizedMap | seL10n | async }}\r\n *\r\n */\r\nvar L10nPipe = /** @class */ (function () {\r\n    function L10nPipe(l10nService) {\r\n        this.l10nService = l10nService;\r\n    }\r\n    L10nPipe.prototype.transform = function (localizedMap) {\r\n        var _this = this;\r\n        return this.l10nService.languageSwitch$.pipe(startWith(null), pairwise(), tap(function (_a) {\r\n            var prev = _a[0], curr = _a[1];\r\n            if (prev !== curr) {\r\n                _this.filterFn = getLocalizedFilterFn(curr);\r\n            }\r\n        }), map(function () { return _this.filterFn(localizedMap); }));\r\n    };\r\n    L10nPipe = __decorate([\r\n        Pipe({\r\n            name: 'seL10n'\r\n        }),\r\n        __metadata(\"design:paramtypes\", [L10nService])\r\n    ], L10nPipe);\r\n    return L10nPipe;\r\n}());\r\nexport { L10nPipe };\r\n//# sourceMappingURL=L10nPipe.js.map","references":["/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular/core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smart-utils/dist/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/rxjs@6.5.4/node_modules/rxjs/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/rxjs@6.5.4/node_modules/rxjs/operators/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/services/L10nService.ts"],"map":"{\"version\":3,\"file\":\"L10nPipe.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/pipes/l10n/L10nPipe.ts\"],\"names\":[],\"mappings\":\";AAAA;;GAEG;AACH,OAAO,EAAE,IAAI,EAAiB,MAAM,eAAe,CAAC;AAGpD,OAAO,EAAE,GAAG,EAAE,QAAQ,EAAE,SAAS,EAAE,GAAG,EAAE,MAAM,gBAAgB,CAAC;AAE/D,OAAO,EAAE,WAAW,EAAE,MAAM,4BAA4B,CAAC;AAKzD,cAAc;AACd,MAAM,UAAU,oBAAoB,CAAC,QAAgB;IACjD,OAAO,UAAC,YAAuC;QAC3C,IAAI,OAAO,YAAY,KAAK,QAAQ,EAAE;YAClC,OAAO,YAAY,CAAC;SACvB;aAAM,IAAI,YAAY,EAAE;YACrB,OAAO,YAAY,CAAC,QAAQ,CAAC,IAAI,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;SAC/E;aAAM;YACH,OAAO,SAAS,CAAC;SACpB;IACL,CAAC,CAAC;AACN,CAAC;AAED;;;;;;;;;;;;GAYG;AAIH;IAGI,kBAAoB,WAAwB;QAAxB,gBAAW,GAAX,WAAW,CAAa;IAAG,CAAC;IAEhD,4BAAS,GAAT,UAAU,YAAuC;QAAjD,iBAWC;QAVG,OAAO,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,IAAI,CACxC,SAAS,CAAC,IAAI,CAAC,EACf,QAAQ,EAAE,EACV,GAAG,CAAC,UAAC,EAAY;gBAAX,IAAI,QAAA,EAAE,IAAI,QAAA;YACZ,IAAI,IAAI,KAAK,IAAI,EAAE;gBACf,KAAI,CAAC,QAAQ,GAAG,oBAAoB,CAAC,IAAI,CAAC,CAAC;aAC9C;QACL,CAAC,CAAC,EACF,GAAG,CAAC,cAAM,OAAA,KAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,EAA3B,CAA2B,CAAC,CACzC,CAAC;IACN,CAAC;IAhBQ,QAAQ;QAHpB,IAAI,CAAC;YACF,IAAI,EAAE,QAAQ;SACjB,CAAC;yCAImC,WAAW;OAHnC,QAAQ,CAiBpB;IAAD,eAAC;CAAA,AAjBD,IAiBC;SAjBY,QAAQ\"}","dts":{"name":"/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/pipes/l10n/L10nPipe.d.ts","writeByteOrderMark":false,"text":"import { PipeTransform } from '@angular/core';\r\nimport { TypedMap } from '@smart/utils';\r\nimport { Observable } from 'rxjs';\r\nimport { L10nService } from '../../services/L10nService';\r\nexport declare type LocalizedMap = TypedMap<string>;\r\nexport declare type L10nPipeFilterFn = (localizedMap: LocalizedMap | string) => string;\r\n/** @ignore */\r\nexport declare function getLocalizedFilterFn(language: string): L10nPipeFilterFn;\r\n/**\r\n * Pipe for translating localized maps for the current language.\r\n *\r\n * ### Example\r\n *\r\n *      localizedMap = {\r\n *        en: 'dummyText in english',\r\n *        fr: 'dummyText in french'\r\n *      };\r\n *\r\n *      {{ localizedMap | seL10n | async }}\r\n *\r\n */\r\nexport declare class L10nPipe implements PipeTransform {\r\n    private l10nService;\r\n    private filterFn;\r\n    constructor(l10nService: L10nService);\r\n    transform(localizedMap: string | TypedMap<string>): Observable<string>;\r\n}\r\n"}}
