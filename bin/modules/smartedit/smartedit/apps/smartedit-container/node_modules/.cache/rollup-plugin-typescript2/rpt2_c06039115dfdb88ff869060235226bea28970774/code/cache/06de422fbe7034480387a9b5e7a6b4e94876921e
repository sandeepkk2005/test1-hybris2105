{"code":"import { __decorate, __metadata } from \"tslib\";\r\n/*\r\n * Copyright (c) 2021 SAP SE or an SAP affiliate company. All rights reserved.\r\n */\r\nimport { Component, ElementRef, Injector } from '@angular/core';\r\nimport { UpgradeModule } from '@angular/upgrade/static';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { registerCustomComponents, AngularJSBootstrapIndicatorService, SMARTEDITCONTAINER_COMPONENT_NAME, SMARTEDITLOADER_COMPONENT_NAME } from 'smarteditcommons';\r\nimport { Smarteditcontainer } from 'smarteditcontainer/legacySmarteditcontainer';\r\nvar LEGACY_APP_NAME = 'legacyApp';\r\nwindow.__smartedit__.addDecoratorPayload(\"Component\", \"SmarteditcontainerComponent\", {\r\n    selector: SMARTEDITCONTAINER_COMPONENT_NAME,\r\n    template: \"\\n        <router-outlet></router-outlet>\\n        <div ng-attr-id=\\\"\" + LEGACY_APP_NAME + \"\\\">\\n            <se-announcement-board></se-announcement-board>\\n            <se-notification-panel></se-notification-panel>\\n            <div ng-view></div>\\n        </div>\\n    \"\r\n});\r\nvar SmarteditcontainerComponent = /** @class */ (function () {\r\n    function SmarteditcontainerComponent(translateService, injector, upgrade, elementRef, bootstrapIndicator) {\r\n        this.translateService = translateService;\r\n        this.upgrade = upgrade;\r\n        this.elementRef = elementRef;\r\n        this.bootstrapIndicator = bootstrapIndicator;\r\n        this.legacyAppName = LEGACY_APP_NAME;\r\n        this.legacyAppName = LEGACY_APP_NAME;\r\n        this.setApplicationTitle();\r\n        registerCustomComponents(injector);\r\n    }\r\n    SmarteditcontainerComponent.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        /*\r\n         * for e2e purposes:\r\n         * in e2e, we sometimes add some test code in the parent frame to be added to the runtime\r\n         * since we only bootstrap within smarteditcontainer-component node,\r\n         * this code will be ignored unless added into the component before legacy AnguylarJS bootstrapping\r\n         */\r\n        Array.prototype.slice\r\n            .call(document.body.childNodes)\r\n            .filter(function (childNode) {\r\n            return !_this.isAppComponent(childNode) && !_this.isSmarteditLoader(childNode);\r\n        })\r\n            .forEach(function (childNode) {\r\n            _this.legacyAppNode.appendChild(childNode);\r\n        });\r\n    };\r\n    SmarteditcontainerComponent.prototype.ngAfterViewInit = function () {\r\n        this.upgrade.bootstrap(this.legacyAppNode, [Smarteditcontainer.moduleName], { strictDi: false });\r\n        this.bootstrapIndicator.setSmarteditContainerReady();\r\n    };\r\n    SmarteditcontainerComponent.prototype.setApplicationTitle = function () {\r\n        this.translateService.get('se.application.name').subscribe(function (pageTitle) {\r\n            document.title = pageTitle;\r\n        });\r\n    };\r\n    Object.defineProperty(SmarteditcontainerComponent.prototype, \"legacyAppNode\", {\r\n        get: function () {\r\n            // return this.elementRef.nativeElement.querySelector(`#${this.legacyAppName}`);\r\n            return this.elementRef.nativeElement.querySelector(\"div[ng-attr-id=\\\"\" + this.legacyAppName + \"\\\"]\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    SmarteditcontainerComponent.prototype.isAppComponent = function (childNode) {\r\n        return (childNode.nodeType === Node.ELEMENT_NODE &&\r\n            childNode.tagName === SMARTEDITCONTAINER_COMPONENT_NAME.toUpperCase());\r\n    };\r\n    SmarteditcontainerComponent.prototype.isSmarteditLoader = function (childNode) {\r\n        return (childNode.nodeType === Node.ELEMENT_NODE &&\r\n            (childNode.id === 'smarteditloader' ||\r\n                childNode.tagName === SMARTEDITLOADER_COMPONENT_NAME.toUpperCase()));\r\n    };\r\n    SmarteditcontainerComponent = __decorate([\r\n        Component({\r\n            selector: SMARTEDITCONTAINER_COMPONENT_NAME,\r\n            template: \"\\n        <router-outlet></router-outlet>\\n        <div ng-attr-id=\\\"\" + LEGACY_APP_NAME + \"\\\">\\n            <se-announcement-board></se-announcement-board>\\n            <se-notification-panel></se-notification-panel>\\n            <div ng-view></div>\\n        </div>\\n    \"\r\n        }),\r\n        __metadata(\"design:paramtypes\", [TranslateService,\r\n            Injector,\r\n            UpgradeModule,\r\n            ElementRef,\r\n            AngularJSBootstrapIndicatorService])\r\n    ], SmarteditcontainerComponent);\r\n    return SmarteditcontainerComponent;\r\n}());\r\nexport { SmarteditcontainerComponent };\r\n//# sourceMappingURL=SmarteditcontainerComponent.js.map","references":["/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular/core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular/upgrade@8.2.14_d2ff5303d1bb22207cb4aaa9bb380a83/node_modules/@angular/upgrade/static.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@ngx-translate/core@11.0.1_@angular+core@8.2.14+rxjs@6.5.4/node_modules/@ngx-translate/core/ngx-translate-core.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-container/src/legacySmarteditcontainer.ts"],"map":"{\"version\":3,\"file\":\"SmarteditcontainerComponent.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/components/ng/SmarteditcontainerComponent.ts\"],\"names\":[],\"mappings\":\";AAAA;;GAEG;AACH,OAAO,EAAE,SAAS,EAAE,UAAU,EAAE,QAAQ,EAAE,MAAM,eAAe,CAAC;AAChE,OAAO,EAAE,aAAa,EAAE,MAAM,yBAAyB,CAAC;AACxD,OAAO,EAAE,gBAAgB,EAAE,MAAM,qBAAqB,CAAC;AACvD,OAAO,EACH,wBAAwB,EACxB,kCAAkC,EAElC,iCAAiC,EACjC,8BAA8B,EACjC,MAAM,kBAAkB,CAAC;AAC1B,OAAO,EAAE,kBAAkB,EAAE,MAAM,6CAA6C,CAAC;AAEjF,IAAM,eAAe,GAAG,WAAW,CAAC;qFACzB;IACP,QAAQ,EAAE,iCAAiC;IAC3C,QAAQ,EAAE,0EAEa,eAAe,yLAKrC;CACJ;AACD;IAGI,qCACY,gBAAkC,EAC1C,QAAkB,EACX,OAAsB,EACrB,UAAsB,EACtB,kBAAsD;QAJtD,qBAAgB,GAAhB,gBAAgB,CAAkB;QAEnC,YAAO,GAAP,OAAO,CAAe;QACrB,eAAU,GAAV,UAAU,CAAY;QACtB,uBAAkB,GAAlB,kBAAkB,CAAoC;QAPlE,kBAAa,GAAG,eAAe,CAAC;QAS5B,IAAI,CAAC,aAAa,GAAG,eAAe,CAAC;QAErC,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC3B,wBAAwB,CAAC,QAAQ,CAAC,CAAC;IACvC,CAAC;IAED,8CAAQ,GAAR;QAAA,iBAgBC;QAfG;;;;;WAKG;QACH,KAAK,CAAC,SAAS,CAAC,KAAK;aAChB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC;aAC9B,MAAM,CACH,UAAC,SAAoB;YACjB,OAAA,CAAC,KAAI,CAAC,cAAc,CAAC,SAAS,CAAC,IAAI,CAAC,KAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC;QAArE,CAAqE,CAC5E;aACA,OAAO,CAAC,UAAC,SAAoB;YAC1B,KAAI,CAAC,aAAa,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;QAC9C,CAAC,CAAC,CAAC;IACX,CAAC;IAED,qDAAe,GAAf;QACI,IAAI,CAAC,OAAO,CAAC,SAAS,CAClB,IAAI,CAAC,aAAa,EAClB,CAAE,kBAA0C,CAAC,UAAU,CAAC,EACxD,EAAE,QAAQ,EAAE,KAAK,EAAE,CACtB,CAAC;QAEF,IAAI,CAAC,kBAAkB,CAAC,0BAA0B,EAAE,CAAC;IACzD,CAAC;IAEO,yDAAmB,GAA3B;QACI,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC,SAAS,CAAC,UAAC,SAAiB;YACzE,QAAQ,CAAC,KAAK,GAAG,SAAS,CAAC;QAC/B,CAAC,CAAC,CAAC;IACP,CAAC;IAED,sBAAY,sDAAa;aAAzB;YACI,gFAAgF;YAChF,OAAO,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,aAAa,CAC9C,sBAAmB,IAAI,CAAC,aAAa,QAAI,CAC5C,CAAC;QACN,CAAC;;;OAAA;IAEO,oDAAc,GAAtB,UAAuB,SAAoB;QACvC,OAAO,CACH,SAAS,CAAC,QAAQ,KAAK,IAAI,CAAC,YAAY;YACvC,SAAyB,CAAC,OAAO,KAAK,iCAAiC,CAAC,WAAW,EAAE,CACzF,CAAC;IACN,CAAC;IAEO,uDAAiB,GAAzB,UAA0B,SAAoB;QAC1C,OAAO,CACH,SAAS,CAAC,QAAQ,KAAK,IAAI,CAAC,YAAY;YACxC,CAAE,SAAyB,CAAC,EAAE,KAAK,iBAAiB;gBAC/C,SAAyB,CAAC,OAAO,KAAK,8BAA8B,CAAC,WAAW,EAAE,CAAC,CAC3F,CAAC;IACN,CAAC;IAtEQ,2BAA2B;QAXvC,SAAS,CAAC;YACP,QAAQ,EAAE,iCAAiC;YAC3C,QAAQ,EAAE,0EAEa,eAAe,yLAKrC;SACJ,CAAC;yCAKgC,gBAAgB;YAChC,QAAQ;YACF,aAAa;YACT,UAAU;YACF,kCAAkC;OARzD,2BAA2B,CAuEvC;IAAD,kCAAC;CAAA,AAvED,IAuEC;SAvEY,2BAA2B\"}","dts":{"name":"/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-container/components/ng/SmarteditcontainerComponent.d.ts","writeByteOrderMark":false,"text":"import { ElementRef, Injector } from '@angular/core';\r\nimport { UpgradeModule } from '@angular/upgrade/static';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { AngularJSBootstrapIndicatorService } from 'smarteditcommons';\r\nexport declare class SmarteditcontainerComponent {\r\n    private translateService;\r\n    upgrade: UpgradeModule;\r\n    private elementRef;\r\n    private bootstrapIndicator;\r\n    legacyAppName: string;\r\n    constructor(translateService: TranslateService, injector: Injector, upgrade: UpgradeModule, elementRef: ElementRef, bootstrapIndicator: AngularJSBootstrapIndicatorService);\r\n    ngOnInit(): void;\r\n    ngAfterViewInit(): void;\r\n    private setApplicationTitle;\r\n    private get legacyAppNode();\r\n    private isAppComponent;\r\n    private isSmarteditLoader;\r\n}\r\n"}}
