{"code":"/*\r\n * Copyright (c) 2021 SAP SE or an SAP affiliate company. All rights reserved.\r\n */\r\n/**\r\n * Copyright (c) 2019 SAP SE or an SAP affiliate company. All rights reserved.\r\n * @module smartutils\r\n */\r\nimport * as lodash from 'lodash';\r\n/**\r\n * @ngdoc service\r\n * @name @smartutils.services:CloneableUtils\r\n *\r\n * @description\r\n * utility service around Cloneable objects\r\n */\r\nvar CloneableUtils = /** @class */ (function () {\r\n    function CloneableUtils() {\r\n    }\r\n    /**\r\n     * @ngdoc method\r\n     * @name @smartutils.services:CloneableUtils#makeCloneable\r\n     * @methodOf @smartutils.services:CloneableUtils\r\n     * @description\r\n     * returns a \"cloneable\" version of an object.\r\n     * Something is cloneable when it can be sent through W3C postMessage.\r\n     * To this purpose, functions must be removed from the cloneable candidate.\r\n     * @param {Object} json the object to be made cloneable\r\n     * @returns {Cloneable} the cloneable copy of the object\r\n     */\r\n    CloneableUtils.prototype.makeCloneable = function (_json) {\r\n        var _this = this;\r\n        var json = lodash.cloneDeepWith(_json, function (value) {\r\n            if (value !== undefined && value !== null && !_this.isPrimitive(json)) {\r\n                // is a promise\r\n                if (value.then) {\r\n                    return null;\r\n                }\r\n                else if (typeof value === 'function') {\r\n                    return null;\r\n                }\r\n                else if (lodash.isElement(value)) {\r\n                    return null;\r\n                    // is yjQuery\r\n                }\r\n                else if (typeof value !== 'string' &&\r\n                    value.hasOwnProperty('length') &&\r\n                    !value.forEach) {\r\n                    return null;\r\n                }\r\n                else {\r\n                    return value;\r\n                }\r\n            }\r\n            else {\r\n                return value;\r\n            }\r\n        });\r\n        if (json === undefined || json === null || this.isPrimitive(json)) {\r\n            return json;\r\n        }\r\n        else if (json.hasOwnProperty('length') || json.forEach) {\r\n            // Array, already taken care of by yjQuery\r\n            return json.map(function (arrayElement) { return _this.makeCloneable(arrayElement); });\r\n        }\r\n        else {\r\n            // JSON\r\n            return Object.keys(json).reduce(function (clone, directKey) {\r\n                if (directKey.indexOf('$') !== 0) {\r\n                    clone[directKey] = _this.makeCloneable(json[directKey]);\r\n                }\r\n                return clone;\r\n            }, {});\r\n        }\r\n    };\r\n    CloneableUtils.prototype.isPrimitive = function (value) {\r\n        return typeof value === 'number' || typeof value === 'string' || typeof value === 'boolean';\r\n    };\r\n    return CloneableUtils;\r\n}());\r\nexport { CloneableUtils };\r\nexport var cloneableUtils = new CloneableUtils();\r\n//# sourceMappingURL=cloneable-utils.js.map","references":["/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@types/lodash@4.14.159/node_modules/@types/lodash/ts3.1/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smart-utils/src/dtos/index.ts"],"map":"{\"version\":3,\"file\":\"cloneable-utils.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/utils/cloneable-utils.ts\"],\"names\":[],\"mappings\":\"AAAA;;GAEG;AACH;;;GAGG;AACH,OAAO,KAAK,MAAM,MAAM,QAAQ,CAAC;AAGjC;;;;;;GAMG;AACH;IAAA;IAuDA,CAAC;IAtDG;;;;;;;;;;OAUG;IACH,sCAAa,GAAb,UAAc,KAAU;QAAxB,iBAsCC;QArCG,IAAM,IAAI,GAAG,MAAM,CAAC,aAAa,CAAC,KAAK,EAAE,UAAC,KAAU;YAChD,IAAI,KAAK,KAAK,SAAS,IAAI,KAAK,KAAK,IAAI,IAAI,CAAC,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE;gBAClE,eAAe;gBACf,IAAI,KAAK,CAAC,IAAI,EAAE;oBACZ,OAAO,IAAI,CAAC;iBACf;qBAAM,IAAI,OAAO,KAAK,KAAK,UAAU,EAAE;oBACpC,OAAO,IAAI,CAAC;iBACf;qBAAM,IAAI,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;oBAChC,OAAO,IAAI,CAAC;oBACZ,aAAa;iBAChB;qBAAM,IACH,OAAO,KAAK,KAAK,QAAQ;oBACzB,KAAK,CAAC,cAAc,CAAC,QAAQ,CAAC;oBAC9B,CAAC,KAAK,CAAC,OAAO,EAChB;oBACE,OAAO,IAAI,CAAC;iBACf;qBAAM;oBACH,OAAO,KAAK,CAAC;iBAChB;aACJ;iBAAM;gBACH,OAAO,KAAK,CAAC;aAChB;QACL,CAAC,CAAC,CAAC;QACH,IAAI,IAAI,KAAK,SAAS,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE;YAC/D,OAAO,IAAI,CAAC;SACf;aAAM,IAAI,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC,OAAO,EAAE;YACtD,0CAA0C;YAC1C,OAAO,IAAI,CAAC,GAAG,CAAC,UAAC,YAAiB,IAAK,OAAA,KAAI,CAAC,aAAa,CAAC,YAAY,CAAC,EAAhC,CAAgC,CAAc,CAAC;SACzF;aAAM;YACH,OAAO;YACP,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,UAAC,KAAK,EAAE,SAAS;gBAC7C,IAAI,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;oBAC9B,KAAK,CAAC,SAAS,CAAC,GAAG,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;iBAC1D;gBACD,OAAO,KAAK,CAAC;YACjB,CAAC,EAAE,EAAa,CAAC,CAAC;SACrB;IACL,CAAC;IAEO,oCAAW,GAAnB,UAAoB,KAAU;QAC1B,OAAO,OAAO,KAAK,KAAK,QAAQ,IAAI,OAAO,KAAK,KAAK,QAAQ,IAAI,OAAO,KAAK,KAAK,SAAS,CAAC;IAChG,CAAC;IACL,qBAAC;AAAD,CAAC,AAvDD,IAuDC;;AACD,MAAM,CAAC,IAAM,cAAc,GAAG,IAAI,cAAc,EAAE,CAAC\"}","dts":{"name":"/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smart-utils/utils/cloneable-utils.d.ts","writeByteOrderMark":false,"text":"import { Cloneable } from '../dtos';\r\n/**\r\n * @ngdoc service\r\n * @name @smartutils.services:CloneableUtils\r\n *\r\n * @description\r\n * utility service around Cloneable objects\r\n */\r\nexport declare class CloneableUtils {\r\n    /**\r\n     * @ngdoc method\r\n     * @name @smartutils.services:CloneableUtils#makeCloneable\r\n     * @methodOf @smartutils.services:CloneableUtils\r\n     * @description\r\n     * returns a \"cloneable\" version of an object.\r\n     * Something is cloneable when it can be sent through W3C postMessage.\r\n     * To this purpose, functions must be removed from the cloneable candidate.\r\n     * @param {Object} json the object to be made cloneable\r\n     * @returns {Cloneable} the cloneable copy of the object\r\n     */\r\n    makeCloneable(_json: any): Cloneable;\r\n    private isPrimitive;\r\n}\r\nexport declare const cloneableUtils: CloneableUtils;\r\n"}}
