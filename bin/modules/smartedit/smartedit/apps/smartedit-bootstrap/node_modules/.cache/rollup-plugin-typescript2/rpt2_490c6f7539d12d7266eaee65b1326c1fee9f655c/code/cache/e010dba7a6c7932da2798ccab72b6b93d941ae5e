{"code":"import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\nimport * as angular from 'angular';\r\nimport { moduleUtils, SMARTEDIT_COMPONENT_NAME, DOMAIN_TOKEN } from 'smarteditcommons';\r\nvar BootstrapService = /** @class */ (function () {\r\n    function BootstrapService() {\r\n    }\r\n    BootstrapService.prototype.bootstrap = function () {\r\n        var _a;\r\n        var smarteditNamespace = window.smartedit;\r\n        // for legacy requires.push\r\n        var modules = (smarteditNamespace.applications || [])\r\n            .map(function (application) {\r\n            moduleUtils.addModuleToAngularJSApp('legacySmartedit', application);\r\n            return {\r\n                application: application,\r\n                module: moduleUtils.getNgModule(application)\r\n            };\r\n        })\r\n            .filter(function (data) {\r\n            if (!data.module) {\r\n                console.log(\"WARNING: Unable to find @NgModule for application \" + data.application);\r\n                console.log('Here is the list of registered @NgModule:');\r\n                console.log(window.__smartedit__.modules);\r\n            }\r\n            return !!data.module;\r\n        })\r\n            .map(function (data) { return data.module; });\r\n        /* forbiddenNameSpaces angular.module:false */\r\n        angular\r\n            .module('legacySmartedit')\r\n            .constant(DOMAIN_TOKEN, smarteditNamespace.domain)\r\n            .constant('smarteditroot', smarteditNamespace.smarteditroot);\r\n        var constants = (_a = {},\r\n            _a[DOMAIN_TOKEN] = smarteditNamespace.domain,\r\n            _a.smarteditroot = smarteditNamespace.smarteditroot,\r\n            _a);\r\n        /*\r\n         * Bootstrap needs a reference ot the module hence cannot be achieved\r\n         * in smarteditbootstrap.js that would then pull dependencies since it is an entry point.\r\n         * We would then duplicate code AND kill overriding capabilities of \"plugins\"\r\n         */\r\n        document.body.appendChild(document.createElement(SMARTEDIT_COMPONENT_NAME));\r\n        /* forbiddenNameSpaces window._:false */\r\n        platformBrowserDynamic()\r\n            .bootstrapModule(window.__smartedit__.SmarteditFactory({ modules: modules, constants: constants }))\r\n            .then(function () {\r\n            delete window.__smartedit__.SmarteditFactory;\r\n        })\r\n            .catch(function (err) { return console.log(err); });\r\n    };\r\n    return BootstrapService;\r\n}());\r\n/** @internal */\r\nexport var bootstrapService = new BootstrapService();\r\n//# sourceMappingURL=BootstrapService.js.map","references":["/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular/core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular/platform-browser-dynamic@8.2.14_4c5c48e73106d2e9b7131da2a9d6eb8e/node_modules/@angular/platform-browser-dynamic/platform-browser-dynamic.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@types/angular@1.7.3/node_modules/@types/angular/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts"],"map":"{\"version\":3,\"file\":\"BootstrapService.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/BootstrapService.ts\"],\"names\":[],\"mappings\":\"AAIA,OAAO,EAAE,sBAAsB,EAAE,MAAM,mCAAmC,CAAC;AAC3E,OAAO,KAAK,OAAO,MAAM,SAAS,CAAC;AACnC,OAAO,EAAE,WAAW,EAAE,wBAAwB,EAAE,YAAY,EAAE,MAAM,kBAAkB,CAAC;AAEvF;IAAA;IAmDA,CAAC;IAlDG,oCAAS,GAAT;;QACI,IAAM,kBAAkB,GAAI,MAAc,CAAC,SAAS,CAAC;QAErD,2BAA2B;QAC3B,IAAM,OAAO,GAAG,CAAC,kBAAkB,CAAC,YAAY,IAAI,EAAE,CAAC;aAClD,GAAG,CAAC,UAAC,WAAmB;YACrB,WAAW,CAAC,uBAAuB,CAAC,iBAAiB,EAAE,WAAW,CAAC,CAAC;YACpE,OAAO;gBACH,WAAW,aAAA;gBACX,MAAM,EAAE,WAAW,CAAC,WAAW,CAAC,WAAW,CAAC;aAC/C,CAAC;QACN,CAAC,CAAC;aACD,MAAM,CAAC,UAAC,IAA+C;YACpD,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;gBACd,OAAO,CAAC,GAAG,CACP,uDAAqD,IAAI,CAAC,WAAa,CAC1E,CAAC;gBACF,OAAO,CAAC,GAAG,CAAC,2CAA2C,CAAC,CAAC;gBACzD,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;aAC7C;YACD,OAAO,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC;QACzB,CAAC,CAAC;aACD,GAAG,CAAC,UAAC,IAA+C,IAAK,OAAA,IAAI,CAAC,MAAM,EAAX,CAAW,CAAC,CAAC;QAE3E,8CAA8C;QAC9C,OAAO;aACF,MAAM,CAAC,iBAAiB,CAAC;aACzB,QAAQ,CAAC,YAAY,EAAE,kBAAkB,CAAC,MAAM,CAAC;aACjD,QAAQ,CAAC,eAAe,EAAE,kBAAkB,CAAC,aAAa,CAAC,CAAC;QAEjE,IAAM,SAAS;YACX,GAAC,YAAY,IAAG,kBAAkB,CAAC,MAAM;YACzC,gBAAa,GAAE,kBAAkB,CAAC,aAAa;eAClD,CAAC;QAEF;;;;WAIG;QACH,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,aAAa,CAAC,wBAAwB,CAAC,CAAC,CAAC;QAE5E,wCAAwC;QACxC,sBAAsB,EAAE;aACnB,eAAe,CAAE,MAAM,CAAC,aAAqB,CAAC,gBAAgB,CAAC,EAAE,OAAO,SAAA,EAAE,SAAS,WAAA,EAAE,CAAC,CAAC;aACvF,IAAI,CAAC;YACF,OAAQ,MAAM,CAAC,aAAqB,CAAC,gBAAgB,CAAC;QAC1D,CAAC,CAAC;aACD,KAAK,CAAC,UAAC,GAAG,IAAK,OAAA,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,EAAhB,CAAgB,CAAC,CAAC;IAC1C,CAAC;IACL,uBAAC;AAAD,CAAC,AAnDD,IAmDC;AACD,gBAAgB;AAChB,MAAM,CAAC,IAAM,gBAAgB,GAAG,IAAI,gBAAgB,EAAE,CAAC\"}","dts":{"name":"/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-bootstrap/BootstrapService.d.ts","writeByteOrderMark":false,"text":"declare class BootstrapService {\r\n    bootstrap(): void;\r\n}\r\n/** @internal */\r\nexport declare const bootstrapService: BootstrapService;\r\nexport {};\r\n"}}
