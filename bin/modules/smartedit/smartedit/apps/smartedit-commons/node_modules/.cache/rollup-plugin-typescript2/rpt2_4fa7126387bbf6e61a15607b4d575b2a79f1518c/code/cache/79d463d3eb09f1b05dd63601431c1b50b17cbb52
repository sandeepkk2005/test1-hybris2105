{"code":"import { __decorate, __metadata, __spreadArrays } from \"tslib\";\r\n/*\r\n * Copyright (c) 2021 SAP SE or an SAP affiliate company. All rights reserved.\r\n */\r\nimport * as angular from 'angular';\r\nimport { SeInjectable } from '../../di';\r\n/**\r\n * Contains some {@link YPopupOverlayDirective} helper functions for calculating positions and sizes on the DOM.\r\n */\r\nvar /* @ngInject */ YPopupOverlayUtilsClickOrderService = /** @class */ (function () {\r\n    function /* @ngInject */ YPopupOverlayUtilsClickOrderService($document, $log) {\r\n        this.$document = $document;\r\n        this.$log = $log;\r\n        this.controllerRegistry = [];\r\n    }\r\n    /* @ngInject */ YPopupOverlayUtilsClickOrderService.prototype.register = function (instance) {\r\n        var _this = this;\r\n        var index = this.getIndex(instance);\r\n        if (index === -1) {\r\n            if (this.controllerRegistry.length === 0) {\r\n                angular\r\n                    .element(this.$document[0].body)\r\n                    .on('click', function (event) { return _this.clickHandler(event); });\r\n            }\r\n            this.controllerRegistry = __spreadArrays([instance], this.controllerRegistry);\r\n        }\r\n        else {\r\n            this.$log.warn('yPopupOverlayUtilsClickOrderService.onHide() - instance already registered');\r\n        }\r\n    };\r\n    /* @ngInject */ YPopupOverlayUtilsClickOrderService.prototype.unregister = function (instance) {\r\n        var _this = this;\r\n        var index = this.getIndex(instance);\r\n        if (index !== -1) {\r\n            this.controllerRegistry.splice(index, 1);\r\n        }\r\n        if (this.controllerRegistry.length === 0) {\r\n            angular\r\n                .element(this.$document[0].body)\r\n                .off('click', function (event) { return _this.clickHandler(event); });\r\n        }\r\n    };\r\n    /* @ngInject */ YPopupOverlayUtilsClickOrderService.prototype.clickHandler = function ($event) {\r\n        if (this.controllerRegistry.length > 0) {\r\n            this.controllerRegistry[0].onBodyElementClicked($event);\r\n        }\r\n    };\r\n    /* @ngInject */ YPopupOverlayUtilsClickOrderService.prototype.getIndex = function (instance) {\r\n        return this.controllerRegistry.findIndex(function (entry) { return entry.uuid === instance.uuid; });\r\n    };\r\n    /* @ngInject */ YPopupOverlayUtilsClickOrderService = __decorate([\r\n        SeInjectable(),\r\n        __metadata(\"design:paramtypes\", [Object, Object])\r\n    ], /* @ngInject */ YPopupOverlayUtilsClickOrderService);\r\n    return /* @ngInject */ YPopupOverlayUtilsClickOrderService;\r\n}());\r\nexport { /* @ngInject */ YPopupOverlayUtilsClickOrderService };\r\n//# sourceMappingURL=yPopupOverlayUtilsClickOrderService.js.map","references":["/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@types/angular@1.7.3/node_modules/@types/angular/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/di/index.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/directives/yPopupOverlay/yPopupOverlayDirective.ts"],"map":"{\"version\":3,\"file\":\"yPopupOverlayUtilsClickOrderService.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/directives/yPopupOverlay/yPopupOverlayUtilsClickOrderService.ts\"],\"names\":[],\"mappings\":\";AAAA;;GAEG;AACH,OAAO,KAAK,OAAO,MAAM,SAAS,CAAC;AAEnC,OAAO,EAAE,YAAY,EAAE,MAAM,UAAU,CAAC;AAGxC;;GAEG;AAEH;IAGI,6DAAoB,SAAmC,EAAU,IAAyB;QAAtE,cAAS,GAAT,SAAS,CAA0B;QAAU,SAAI,GAAJ,IAAI,CAAqB;QAFlF,uBAAkB,GAA6B,EAAE,CAAC;IAEmC,CAAC;IAEvF,sEAAQ,GAAf,UAAgB,QAAgC;QAAhD,iBAgBC;QAfG,IAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;QAEtC,IAAI,KAAK,KAAK,CAAC,CAAC,EAAE;YACd,IAAI,IAAI,CAAC,kBAAkB,CAAC,MAAM,KAAK,CAAC,EAAE;gBACtC,OAAO;qBACF,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;qBAC/B,EAAE,CAAC,OAAO,EAAE,UAAC,KAAY,IAAK,OAAA,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,EAAxB,CAAwB,CAAC,CAAC;aAChE;YAED,IAAI,CAAC,kBAAkB,mBAAI,QAAQ,GAAK,IAAI,CAAC,kBAAkB,CAAC,CAAC;SACpE;aAAM;YACH,IAAI,CAAC,IAAI,CAAC,IAAI,CACV,4EAA4E,CAC/E,CAAC;SACL;IACL,CAAC;IAEM,wEAAU,GAAjB,UAAkB,QAAgC;QAAlD,iBAYC;QAXG,IAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;QAEtC,IAAI,KAAK,KAAK,CAAC,CAAC,EAAE;YACd,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;SAC5C;QAED,IAAI,IAAI,CAAC,kBAAkB,CAAC,MAAM,KAAK,CAAC,EAAE;YACtC,OAAO;iBACF,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;iBAC/B,GAAG,CAAC,OAAO,EAAE,UAAC,KAAY,IAAK,OAAA,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,EAAxB,CAAwB,CAAC,CAAC;SACjE;IACL,CAAC;IAEO,0EAAY,GAApB,UAAqB,MAAa;QAC9B,IAAI,IAAI,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACpC,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC;SAC3D;IACL,CAAC;IAEO,sEAAQ,GAAhB,UAAiB,QAAgC;QAC7C,OAAO,IAAI,CAAC,kBAAkB,CAAC,SAAS,CACpC,UAAC,KAA6B,IAAK,OAAA,KAAK,CAAC,IAAI,KAAK,QAAQ,CAAC,IAAI,EAA5B,CAA4B,CAClE,CAAC;IACN,CAAC;IA/CL;QADC,YAAY,EAAE;;2DAiDd;IAAD,0DAAC;CAAA,AAhDD,IAgDC\"}","dts":{"name":"/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/directives/yPopupOverlay/yPopupOverlayUtilsClickOrderService.d.ts","writeByteOrderMark":false,"text":"/// <reference types=\"angular-mocks\" />\r\nimport * as angular from 'angular';\r\nimport { YPopupOverlayDirective } from './yPopupOverlayDirective';\r\n/**\r\n * Contains some {@link YPopupOverlayDirective} helper functions for calculating positions and sizes on the DOM.\r\n */\r\nexport declare class YPopupOverlayUtilsClickOrderService {\r\n    private $document;\r\n    private $log;\r\n    private controllerRegistry;\r\n    constructor($document: angular.IDocumentService, $log: angular.ILogService);\r\n    register(instance: YPopupOverlayDirective): void;\r\n    unregister(instance: YPopupOverlayDirective): void;\r\n    private clickHandler;\r\n    private getIndex;\r\n}\r\n"}}
