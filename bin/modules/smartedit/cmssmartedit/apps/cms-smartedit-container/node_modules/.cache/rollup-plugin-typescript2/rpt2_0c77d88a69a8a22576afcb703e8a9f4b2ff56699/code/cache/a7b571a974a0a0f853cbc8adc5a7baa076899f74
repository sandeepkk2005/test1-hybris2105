{"code":"import { __decorate, __metadata } from \"tslib\";\r\nimport { assign } from 'lodash';\r\nimport { PAGE_CONTEXT_CATALOG, PAGE_CONTEXT_CATALOG_VERSION, PAGE_CONTEXT_SITE_ID, RestServiceFactory, SeDowngradeService, URIBuilder } from 'smarteditcommons';\r\n/** Provides REST services for the CMS pages rest endpoint. */\r\nvar /* @ngInject */ PagesRestService = /** @class */ (function () {\r\n    function /* @ngInject */ PagesRestService(restServiceFactory) {\r\n        this.restServiceFactory = restServiceFactory;\r\n        this.URI = \"/cmswebservices/v1/sites/\" + PAGE_CONTEXT_SITE_ID + \"/catalogs/\" + PAGE_CONTEXT_CATALOG + \"/versions/\" + PAGE_CONTEXT_CATALOG_VERSION + \"/pages/:pageUid\";\r\n    }\r\n    /**\r\n     * Fetches a list of pages for a given array of UIDs.\r\n     * It uses the current site, catalog and catalog version from the session.\r\n     *\r\n     * @returns A promise resolving to a list of pages, or an empty list.\r\n     */\r\n    /* @ngInject */ PagesRestService.prototype.get = function (uids) {\r\n        return this.restServiceFactory\r\n            .get(this.URI, 'pageUid')\r\n            .get({ uids: uids })\r\n            .then(function (response) { return response.pages; });\r\n    };\r\n    /**\r\n     * Fetches a page for a given UID.\r\n     * It uses the current site, catalog and catalog version from the session.\r\n     *\r\n     * @param pageUid A page UID of the page to fetch\r\n     */\r\n    /* @ngInject */ PagesRestService.prototype.getById = function (pageUid) {\r\n        return this.restServiceFactory.get(this.URI, 'pageUid').get({ pageUid: pageUid });\r\n    };\r\n    /**\r\n     * Updates a page for a given site, catalog, and catalog version.\r\n     * It uses the current site, catalog and catalog version from the session.\r\n     *\r\n     * @param pageUid The page UID of the page to update.\r\n     * @param payload The page object to be applied to the page resource as it exists on the backend.\r\n     *\r\n     * @returns A promise that resolves to a JSON object representing the updated page.\r\n     */\r\n    /* @ngInject */ PagesRestService.prototype.update = function (pageUid, payload) {\r\n        var uri = new URIBuilder(this.URI).replaceParams(payload).build();\r\n        var extendedParams = assign({\r\n            pageUid: pageUid\r\n        }, payload);\r\n        return this.restServiceFactory.get(uri, 'pageUid').update(extendedParams);\r\n    };\r\n    /* @ngInject */ PagesRestService = __decorate([\r\n        SeDowngradeService(),\r\n        __metadata(\"design:paramtypes\", [RestServiceFactory])\r\n    ], /* @ngInject */ PagesRestService);\r\n    return /* @ngInject */ PagesRestService;\r\n}());\r\nexport { /* @ngInject */ PagesRestService };\r\n//# sourceMappingURL=PagesRestService.js.map","references":["/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-commons/dist/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@types/lodash@4.14.159/node_modules/@types/lodash/ts3.1/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts"],"map":"{\"version\":3,\"file\":\"PagesRestService.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/dao/PagesRestService.ts\"],\"names\":[],\"mappings\":\";AAIA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAEhC,OAAO,EACH,oBAAoB,EACpB,4BAA4B,EAC5B,oBAAoB,EACpB,kBAAkB,EAClB,kBAAkB,EAClB,UAAU,EACb,MAAM,kBAAkB,CAAC;AAE1B,8DAA8D;AAE9D;IAGI,0CAAoB,kBAAsC;QAAtC,uBAAkB,GAAlB,kBAAkB,CAAoB;QAFzC,QAAG,GAAG,8BAA4B,oBAAoB,kBAAa,oBAAoB,kBAAa,4BAA4B,oBAAiB,CAAC;IAEtG,CAAC;IAE9D;;;;;OAKG;IACI,8CAAG,GAAV,UAAW,IAAc;QACrB,OAAO,IAAI,CAAC,kBAAkB;aACzB,GAAG,CAAwB,IAAI,CAAC,GAAG,EAAE,SAAS,CAAC;aAC/C,GAAG,CAAC,EAAE,IAAI,MAAA,EAAE,CAAC;aACb,IAAI,CAAC,UAAC,QAAQ,IAAK,OAAA,QAAQ,CAAC,KAAK,EAAd,CAAc,CAAC,CAAC;IAC5C,CAAC;IAED;;;;;OAKG;IACI,kDAAO,GAAd,UAAe,OAAe;QAC1B,OAAO,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC,GAAG,CAAC,EAAE,OAAO,SAAA,EAAE,CAAC,CAAC;IAC7E,CAAC;IAED;;;;;;;;OAQG;IACI,iDAAM,GAAb,UAAc,OAAe,EAAE,OAAiB;QAC5C,IAAM,GAAG,GAAG,IAAI,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,CAAC;QACpE,IAAM,cAAc,GAAG,MAAM,CACzB;YACI,OAAO,SAAA;SACV,EACD,OAAO,CACV,CAAC;QACF,OAAO,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;IAC9E,CAAC;IA9CL;QADC,kBAAkB,EAAE;yCAIuB,kBAAkB;wCA4C7D;IAAD,uCAAC;CAAA,AA/CD,IA+CC\"}","dts":{"name":"/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/dao/PagesRestService.d.ts","writeByteOrderMark":false,"text":"import { ICMSPage } from 'cmscommons';\r\nimport { RestServiceFactory } from 'smarteditcommons';\r\n/** Provides REST services for the CMS pages rest endpoint. */\r\nexport declare class PagesRestService {\r\n    private restServiceFactory;\r\n    private readonly URI;\r\n    constructor(restServiceFactory: RestServiceFactory);\r\n    /**\r\n     * Fetches a list of pages for a given array of UIDs.\r\n     * It uses the current site, catalog and catalog version from the session.\r\n     *\r\n     * @returns A promise resolving to a list of pages, or an empty list.\r\n     */\r\n    get(uids: string[]): Promise<ICMSPage[]>;\r\n    /**\r\n     * Fetches a page for a given UID.\r\n     * It uses the current site, catalog and catalog version from the session.\r\n     *\r\n     * @param pageUid A page UID of the page to fetch\r\n     */\r\n    getById(pageUid: string): Promise<ICMSPage>;\r\n    /**\r\n     * Updates a page for a given site, catalog, and catalog version.\r\n     * It uses the current site, catalog and catalog version from the session.\r\n     *\r\n     * @param pageUid The page UID of the page to update.\r\n     * @param payload The page object to be applied to the page resource as it exists on the backend.\r\n     *\r\n     * @returns A promise that resolves to a JSON object representing the updated page.\r\n     */\r\n    update(pageUid: string, payload: ICMSPage): Promise<ICMSPage>;\r\n}\r\n"}}
