{"code":"import { __decorate, __metadata } from \"tslib\";\r\nimport './UserAccount.scss';\r\nimport { Component } from '@angular/core';\r\nimport { CrossFrameEventService, EVENTS, IAuthenticationService, ISessionService, SeDowngradeComponent } from 'smarteditcommons';\r\nimport { IframeManagerService } from '../../services/iframe/IframeManagerService';\r\nwindow.__smartedit__.addDecoratorPayload(\"Component\", \"UserAccountComponent\", {\r\n    selector: 'se-user-account',\r\n    template: \"<div class=\\\"se-user-account-dropdown\\\"><div class=\\\"se-user-account-dropdown__role\\\">{{ 'se.toolbar.useraccount.role' | translate }}</div><div class=\\\"user-account-dropdown__name\\\">{{username}}</div><div class=\\\"divider\\\"></div><a class=\\\"se-sign-out__link fd-menu__item\\\" (click)=\\\"signOut()\\\">{{'se.toolbar.useraccount.signout' | translate}}</a></div>\"\r\n});\r\nvar /* @ngInject */ UserAccountComponent = /** @class */ (function () {\r\n    function /* @ngInject */ UserAccountComponent(authenticationService, iframeManagerService, crossFrameEventService, sessionService) {\r\n        this.authenticationService = authenticationService;\r\n        this.iframeManagerService = iframeManagerService;\r\n        this.crossFrameEventService = crossFrameEventService;\r\n        this.sessionService = sessionService;\r\n    }\r\n    /* @ngInject */ UserAccountComponent.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        this.unregUserChanged = this.crossFrameEventService.subscribe(EVENTS.USER_HAS_CHANGED, function () {\r\n            return _this.getUsername();\r\n        });\r\n        this.getUsername();\r\n    };\r\n    /* @ngInject */ UserAccountComponent.prototype.ngOnDestroy = function () {\r\n        this.unregUserChanged();\r\n    };\r\n    /* @ngInject */ UserAccountComponent.prototype.signOut = function () {\r\n        this.authenticationService.logout();\r\n        this.iframeManagerService.setCurrentLocation(null);\r\n    };\r\n    /* @ngInject */ UserAccountComponent.prototype.getUsername = function () {\r\n        var _this = this;\r\n        this.sessionService.getCurrentUserDisplayName().then(function (displayName) {\r\n            _this.username = displayName;\r\n        });\r\n    };\r\n    /* @ngInject */ UserAccountComponent = __decorate([\r\n        SeDowngradeComponent(),\r\n        Component({\r\n            selector: 'se-user-account',\r\n            template: \"<div class=\\\"se-user-account-dropdown\\\"><div class=\\\"se-user-account-dropdown__role\\\">{{ 'se.toolbar.useraccount.role' | translate }}</div><div class=\\\"user-account-dropdown__name\\\">{{username}}</div><div class=\\\"divider\\\"></div><a class=\\\"se-sign-out__link fd-menu__item\\\" (click)=\\\"signOut()\\\">{{'se.toolbar.useraccount.signout' | translate}}</a></div>\"\r\n        }),\r\n        __metadata(\"design:paramtypes\", [IAuthenticationService,\r\n            IframeManagerService,\r\n            CrossFrameEventService,\r\n            ISessionService])\r\n    ], /* @ngInject */ UserAccountComponent);\r\n    return /* @ngInject */ UserAccountComponent;\r\n}());\r\nexport { /* @ngInject */ UserAccountComponent };\r\n//# sourceMappingURL=UserAccountComponent.js.map","references":["/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular/core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-container/src/services/iframe/IframeManagerService.ts"],"map":"{\"version\":3,\"file\":\"UserAccountComponent.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/components/userAccount/UserAccountComponent.ts\"],\"names\":[],\"mappings\":\";AACA,OAAO,oBAAoB,CAAC;AAC5B,OAAO,EAAE,SAAS,EAAqB,MAAM,eAAe,CAAC;AAE7D,OAAO,EACH,sBAAsB,EACtB,MAAM,EACN,sBAAsB,EACtB,eAAe,EACf,oBAAoB,EACvB,MAAM,kBAAkB,CAAC;AAC1B,OAAO,EAAE,oBAAoB,EAAE,MAAM,4CAA4C,CAAC;8EAGvE;IACP,QAAQ,EAAE,iBAAiB;IAC3B,QAAQ,EAAE,oWAAwV;CACrW;AACD;IAKI,8CACY,qBAA6C,EAC7C,oBAA0C,EAC1C,sBAA8C,EAC9C,cAA+B;QAH/B,0BAAqB,GAArB,qBAAqB,CAAwB;QAC7C,yBAAoB,GAApB,oBAAoB,CAAsB;QAC1C,2BAAsB,GAAtB,sBAAsB,CAAwB;QAC9C,mBAAc,GAAd,cAAc,CAAiB;IACxC,CAAC;IAEJ,uDAAQ,GAAR;QAAA,iBAKC;QAJG,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,sBAAsB,CAAC,SAAS,CAAC,MAAM,CAAC,gBAAgB,EAAE;YACnF,OAAA,KAAI,CAAC,WAAW,EAAE;QAAlB,CAAkB,CACrB,CAAC;QACF,IAAI,CAAC,WAAW,EAAE,CAAC;IACvB,CAAC;IAED,0DAAW,GAAX;QACI,IAAI,CAAC,gBAAgB,EAAE,CAAC;IAC5B,CAAC;IAEM,sDAAO,GAAd;QACI,IAAI,CAAC,qBAAqB,CAAC,MAAM,EAAE,CAAC;QACpC,IAAI,CAAC,oBAAoB,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC;IACvD,CAAC;IAEM,0DAAW,GAAlB;QAAA,iBAIC;QAHG,IAAI,CAAC,cAAc,CAAC,yBAAyB,EAAE,CAAC,IAAI,CAAC,UAAC,WAAmB;YACrE,KAAI,CAAC,QAAQ,GAAG,WAAW,CAAC;QAChC,CAAC,CAAC,CAAC;IACP,CAAC;IAhCL;QALC,oBAAoB,EAAE;QACtB,SAAS,CAAC;YACP,QAAQ,EAAE,iBAAiB;YAC3B,QAAQ,EAAE,oWAAwV;SACrW,CAAC;yCAOqC,sBAAsB;YACvB,oBAAoB;YAClB,sBAAsB;YAC9B,eAAe;4CAwB9C;IAAD,2CAAC;CAAA,AAjCD,IAiCC\"}","dts":{"name":"/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-container/components/userAccount/UserAccountComponent.d.ts","writeByteOrderMark":false,"text":"import './UserAccount.scss';\r\nimport { OnDestroy, OnInit } from '@angular/core';\r\nimport { CrossFrameEventService, IAuthenticationService, ISessionService } from 'smarteditcommons';\r\nimport { IframeManagerService } from '../../services/iframe/IframeManagerService';\r\nexport declare class UserAccountComponent implements OnInit, OnDestroy {\r\n    private authenticationService;\r\n    private iframeManagerService;\r\n    private crossFrameEventService;\r\n    private sessionService;\r\n    username: string;\r\n    private unregUserChanged;\r\n    constructor(authenticationService: IAuthenticationService, iframeManagerService: IframeManagerService, crossFrameEventService: CrossFrameEventService, sessionService: ISessionService);\r\n    ngOnInit(): void;\r\n    ngOnDestroy(): void;\r\n    signOut(): void;\r\n    getUsername(): void;\r\n}\r\n"}}
