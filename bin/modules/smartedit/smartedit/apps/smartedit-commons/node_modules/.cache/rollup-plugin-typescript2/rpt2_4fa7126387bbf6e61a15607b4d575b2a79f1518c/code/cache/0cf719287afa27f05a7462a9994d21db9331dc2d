{"code":"import { __decorate } from \"tslib\";\r\nimport { SeModule } from '../di';\r\nvar pathRegExp = /web.+\\/(\\w+)\\.html/;\r\nvar delegator = function ($delegate) {\r\n    'ngInject';\r\n    var namePathMap = {};\r\n    var originalPut = $delegate.put;\r\n    $delegate.put = function () {\r\n        var path = arguments[0];\r\n        var template = arguments[1];\r\n        if (pathRegExp.test(path)) {\r\n            var fileName = pathRegExp.exec(path)[1] + '.html';\r\n            if (!namePathMap[fileName]) {\r\n                originalPut.apply($delegate, [fileName, template]);\r\n                namePathMap[fileName] = path;\r\n            }\r\n            else {\r\n                throw new Error(\"[templateCacheDecorator] html templates \" + namePathMap[fileName] + \" and \" + path + \" are conflicting, you must give them different filenames\");\r\n            }\r\n        }\r\n        return originalPut.apply($delegate, arguments);\r\n    };\r\n    // ============== UNCOMMENT THIS TO DEBUG TEMPLATECACHE ==============\r\n    // ========================== DO NOT COMMIT ==========================\r\n    // const originalGet = $delegate.get;\r\n    //\r\n    // $delegate.get = function() {\r\n    //     const path: string = arguments[0];\r\n    //     const $log: angular.ILogService = angular.injector(['ng']).get('$log');\r\n    //\r\n    //     $log.debug(\"$templateCache GET: \" + path);\r\n    //     return originalGet.apply($delegate, arguments);\r\n    // };\r\n    return $delegate;\r\n};\r\nvar /* @ngInject */ TemplateCacheDecoratorModule = /** @class */ (function () {\r\n    function /* @ngInject */ TemplateCacheDecoratorModule() {\r\n    }\r\n    /* @ngInject */ TemplateCacheDecoratorModule = __decorate([\r\n        SeModule({\r\n            config: function ($provide) {\r\n                'ngInject';\r\n                $provide.decorator('$templateCache', ['$delegate', delegator]);\r\n            }\r\n        })\r\n    ], /* @ngInject */ TemplateCacheDecoratorModule);\r\n    return /* @ngInject */ TemplateCacheDecoratorModule;\r\n}());\r\nexport { /* @ngInject */ TemplateCacheDecoratorModule };\r\n//# sourceMappingURL=templateCacheDecorator.js.map","references":["/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smart-utils/dist/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@types/angular@1.7.3/node_modules/@types/angular/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/di/index.ts"],"map":"{\"version\":3,\"file\":\"templateCacheDecorator.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/services/templateCacheDecorator.ts\"],\"names\":[],\"mappings\":\";AAMA,OAAO,EAAE,QAAQ,EAAE,MAAM,OAAO,CAAC;AAEjC,IAAM,UAAU,GAAG,oBAAoB,CAAC;AAExC,IAAM,SAAS,GAAG,UAAC,SAAwC;IACvD,UAAU,CAAC;IAEX,IAAM,WAAW,GAAqB,EAAE,CAAC;IACzC,IAAM,WAAW,GAAG,SAAS,CAAC,GAAG,CAAC;IAElC,SAAS,CAAC,GAAG,GAAG;QACZ,IAAM,IAAI,GAAW,SAAS,CAAC,CAAC,CAAC,CAAC;QAClC,IAAM,QAAQ,GAAW,SAAS,CAAC,CAAC,CAAC,CAAC;QAEtC,IAAI,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;YACvB,IAAM,QAAQ,GAAG,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,OAAO,CAAC;YAEpD,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,EAAE;gBACxB,WAAW,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC,CAAC;gBACnD,WAAW,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC;aAChC;iBAAM;gBACH,MAAM,IAAI,KAAK,CACX,6CAA2C,WAAW,CAAC,QAAQ,CAAC,aAAQ,IAAI,6DAA0D,CACzI,CAAC;aACL;SACJ;QACD,OAAO,WAAW,CAAC,KAAK,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;IACnD,CAAC,CAAC;IAEF,sEAAsE;IACtE,sEAAsE;IACtE,qCAAqC;IACrC,EAAE;IACF,+BAA+B;IAC/B,yCAAyC;IACzC,8EAA8E;IAC9E,EAAE;IACF,iDAAiD;IACjD,sDAAsD;IACtD,KAAK;IAEL,OAAO,SAAS,CAAC;AACrB,CAAC,CAAC;AASF;IAAA;IAA2C,CAAC;IAA5C;QAPC,QAAQ,CAAC;YACN,MAAM,EAAE,UAAC,QAAsC;gBAC3C,UAAU,CAAC;gBAEX,QAAQ,CAAC,SAAS,CAAC,gBAAgB,EAAE,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC,CAAC;YACnE,CAAC;SACJ,CAAC;oDAC0C;IAAD,mDAAC;CAAA,AAA5C,IAA4C\"}","dts":{"name":"/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/services/templateCacheDecorator.d.ts","writeByteOrderMark":false,"text":"export declare class TemplateCacheDecoratorModule {\r\n}\r\n"}}
