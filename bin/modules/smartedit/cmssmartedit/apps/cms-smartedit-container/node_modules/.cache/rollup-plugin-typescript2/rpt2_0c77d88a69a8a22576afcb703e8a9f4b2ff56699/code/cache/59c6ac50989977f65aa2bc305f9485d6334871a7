{"code":"import { __awaiter, __decorate, __generator, __metadata } from \"tslib\";\r\nimport { ChangeDetectionStrategy, Component, Input } from '@angular/core';\r\nimport { CMSModesService } from 'cmscommons';\r\nimport { IPerspectiveService, SeDowngradeComponent } from 'smarteditcommons';\r\nimport { PageVersionSelectionService } from '../../../services';\r\nwindow.__smartedit__.addDecoratorPayload(\"Component\", \"VersionItemComponent\", {\r\n    selector: 'se-version-item',\r\n    template: \"<div class=\\\"se-version-item\\\" [ngClass]=\\\"{ 'se-version-item--selected': isSelectedVersion() }\\\"><div class=\\\"se-version-item__header\\\" [title]=\\\"pageVersion.label\\\"><button class=\\\"se-version-item__label se-button--text\\\" (click)=\\\"selectVersion()\\\">{{ pageVersion.label }}</button><se-version-item-menu *ngIf=\\\"isVersionMenuEnabled()\\\" [item]=\\\"pageVersion\\\"></se-version-item-menu></div><div class=\\\"se-version-item__date\\\">{{ pageVersion.creationtime | date: 'M/d/yy h:mm a' }}</div><div class=\\\"se-version-item__description\\\" *ngIf=\\\"pageVersion.description\\\"><se-more-text class=\\\"se-version-item__description-text\\\" [text]=\\\"pageVersion.description\\\" [limit]=\\\"32\\\" [ellipsis]=\\\"'...'\\\" [capitalizeLabel]=\\\"true\\\"></se-more-text></div></div>\",\r\n    styles: [\":host(.se-version-item--last) .se-version-item{border-bottom:none}.se-version-item{padding:10px 20px;border-bottom:1px solid #d9d9d9}.se-version-item:hover{background-color:#fafafa}.se-version-item--selected{background-color:rgba(10,110,209,.07)}.se-version-item--selected:hover{background-color:rgba(10,110,209,.1)}.se-version-item__header{display:flex;flex-direction:row;align-items:center;justify-content:space-between}.se-version-item__label{font-weight:700;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;word-break:break-all;max-width:225px;color:#0a6ed1}.se-version-item__date{color:#6a6d70}.se-version-item__description{display:flex;flex-direction:row;align-items:center;max-width:260px}.se-version-item__description-text{padding-right:2px;width:230px;word-break:break-all;white-space:normal}\"],\r\n    changeDetection: ChangeDetectionStrategy.OnPush\r\n});\r\nvar /* @ngInject */ VersionItemComponent = /** @class */ (function () {\r\n    function /* @ngInject */ VersionItemComponent(pageVersionSelectionService, perspectiveService, cMSModesService) {\r\n        this.pageVersionSelectionService = pageVersionSelectionService;\r\n        this.perspectiveService = perspectiveService;\r\n        this.cMSModesService = cMSModesService;\r\n        this.VERSIONING_MODE_KEY = CMSModesService.VERSIONING_PERSPECTIVE_KEY;\r\n    }\r\n    /* @ngInject */ VersionItemComponent.prototype.selectVersion = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var isVersioningModeActive;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.cMSModesService.isVersioningPerspectiveActive()];\r\n                    case 1:\r\n                        isVersioningModeActive = _a.sent();\r\n                        if (!isVersioningModeActive) {\r\n                            this.perspectiveService.switchTo(this.VERSIONING_MODE_KEY);\r\n                        }\r\n                        this.pageVersionSelectionService.selectPageVersion(this.pageVersion);\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /* @ngInject */ VersionItemComponent.prototype.isSelectedVersion = function () {\r\n        var selectedVersion = this.pageVersionSelectionService.getSelectedPageVersion();\r\n        return selectedVersion && selectedVersion.uid === this.pageVersion.uid;\r\n    };\r\n    /* @ngInject */ VersionItemComponent.prototype.isVersionMenuEnabled = function () {\r\n        var activePerspective = this.perspectiveService.getActivePerspective();\r\n        return activePerspective && activePerspective.key === this.VERSIONING_MODE_KEY;\r\n    };\r\n    __decorate([\r\n        Input(),\r\n        __metadata(\"design:type\", Object)\r\n    ], /* @ngInject */ VersionItemComponent.prototype, \"pageVersion\", void 0);\r\n    /* @ngInject */ VersionItemComponent = __decorate([\r\n        SeDowngradeComponent(),\r\n        Component({\r\n            selector: 'se-version-item',\r\n            template: \"<div class=\\\"se-version-item\\\" [ngClass]=\\\"{ 'se-version-item--selected': isSelectedVersion() }\\\"><div class=\\\"se-version-item__header\\\" [title]=\\\"pageVersion.label\\\"><button class=\\\"se-version-item__label se-button--text\\\" (click)=\\\"selectVersion()\\\">{{ pageVersion.label }}</button><se-version-item-menu *ngIf=\\\"isVersionMenuEnabled()\\\" [item]=\\\"pageVersion\\\"></se-version-item-menu></div><div class=\\\"se-version-item__date\\\">{{ pageVersion.creationtime | date: 'M/d/yy h:mm a' }}</div><div class=\\\"se-version-item__description\\\" *ngIf=\\\"pageVersion.description\\\"><se-more-text class=\\\"se-version-item__description-text\\\" [text]=\\\"pageVersion.description\\\" [limit]=\\\"32\\\" [ellipsis]=\\\"'...'\\\" [capitalizeLabel]=\\\"true\\\"></se-more-text></div></div>\",\r\n            styles: [\":host(.se-version-item--last) .se-version-item{border-bottom:none}.se-version-item{padding:10px 20px;border-bottom:1px solid #d9d9d9}.se-version-item:hover{background-color:#fafafa}.se-version-item--selected{background-color:rgba(10,110,209,.07)}.se-version-item--selected:hover{background-color:rgba(10,110,209,.1)}.se-version-item__header{display:flex;flex-direction:row;align-items:center;justify-content:space-between}.se-version-item__label{font-weight:700;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;word-break:break-all;max-width:225px;color:#0a6ed1}.se-version-item__date{color:#6a6d70}.se-version-item__description{display:flex;flex-direction:row;align-items:center;max-width:260px}.se-version-item__description-text{padding-right:2px;width:230px;word-break:break-all;white-space:normal}\"],\r\n            changeDetection: ChangeDetectionStrategy.OnPush\r\n        }),\r\n        __metadata(\"design:paramtypes\", [PageVersionSelectionService,\r\n            IPerspectiveService,\r\n            CMSModesService])\r\n    ], /* @ngInject */ VersionItemComponent);\r\n    return /* @ngInject */ VersionItemComponent;\r\n}());\r\nexport { /* @ngInject */ VersionItemComponent };\r\n//# sourceMappingURL=VersionItemComponent.js.map","references":["/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular/core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-commons/dist/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/versioning/services/index.ts"],"map":"{\"version\":3,\"file\":\"VersionItemComponent.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../../../src/components/versioning/components/versionsPanel/versionItem/VersionItemComponent.ts\"],\"names\":[],\"mappings\":\";AACA,OAAO,EAAE,uBAAuB,EAAE,SAAS,EAAE,KAAK,EAAE,MAAM,eAAe,CAAC;AAC1E,OAAO,EAAE,eAAe,EAAE,MAAM,YAAY,CAAC;AAC7C,OAAO,EAAE,mBAAmB,EAAE,oBAAoB,EAAE,MAAM,kBAAkB,CAAC;AAE7E,OAAO,EAAE,2BAA2B,EAAgB,MAAM,mBAAmB,CAAC;8EAInE;IACP,QAAQ,EAAE,iBAAiB;IAC3B,QAAQ,EAAE,+uBAA+sB;IACztB,MAAM,EAAE,CAAC,4yBAA4yB,CAAC;IACtzB,eAAe,EAAE,uBAAuB,CAAC,MAAM;CAClD;AACD;IAKI,8CACY,2BAAwD,EACxD,kBAAuC,EACvC,eAAgC;QAFhC,gCAA2B,GAA3B,2BAA2B,CAA6B;QACxD,uBAAkB,GAAlB,kBAAkB,CAAqB;QACvC,oBAAe,GAAf,eAAe,CAAiB;QALpC,wBAAmB,GAAG,eAAe,CAAC,0BAA0B,CAAC;IAMtE,CAAC;IAES,4DAAa,GAA1B;;;;;4BACmC,qBAAM,IAAI,CAAC,eAAe,CAAC,6BAA6B,EAAE,EAAA;;wBAAnF,sBAAsB,GAAG,SAA0D;wBACzF,IAAI,CAAC,sBAAsB,EAAE;4BACzB,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;yBAC9D;wBACD,IAAI,CAAC,2BAA2B,CAAC,iBAAiB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;;;;;KACxE;IAEM,gEAAiB,GAAxB;QACI,IAAM,eAAe,GAAG,IAAI,CAAC,2BAA2B,CAAC,sBAAsB,EAAE,CAAC;QAClF,OAAO,eAAe,IAAI,eAAe,CAAC,GAAG,KAAK,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC;IAC3E,CAAC;IAEM,mEAAoB,GAA3B;QACI,IAAM,iBAAiB,GAAG,IAAI,CAAC,kBAAkB,CAAC,oBAAoB,EAAE,CAAC;QACzE,OAAO,iBAAiB,IAAI,iBAAiB,CAAC,GAAG,KAAK,IAAI,CAAC,mBAAmB,CAAC;IACnF,CAAC;IA1BQ;QAAR,KAAK,EAAE;;6EAA2B;IADvC;QAPC,oBAAoB,EAAE;QACtB,SAAS,CAAC;YACP,QAAQ,EAAE,iBAAiB;YAC3B,QAAQ,EAAE,+uBAA+sB;YACztB,MAAM,EAAE,CAAC,4yBAA4yB,CAAC;YACtzB,eAAe,EAAE,uBAAuB,CAAC,MAAM;SAClD,CAAC;yCAO2C,2BAA2B;YACpC,mBAAmB;YACtB,eAAe;4CAoB/C;IAAD,2CAAC;CAAA,AA5BD,IA4BC\"}","dts":{"name":"/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/components/versioning/components/versionsPanel/versionItem/VersionItemComponent.d.ts","writeByteOrderMark":false,"text":"import { CMSModesService } from 'cmscommons';\r\nimport { IPerspectiveService } from 'smarteditcommons';\r\nimport { PageVersionSelectionService, IPageVersion } from '../../../services';\r\nexport declare class VersionItemComponent {\r\n    private pageVersionSelectionService;\r\n    private perspectiveService;\r\n    private cMSModesService;\r\n    pageVersion: IPageVersion;\r\n    private VERSIONING_MODE_KEY;\r\n    constructor(pageVersionSelectionService: PageVersionSelectionService, perspectiveService: IPerspectiveService, cMSModesService: CMSModesService);\r\n    selectVersion(): Promise<void>;\r\n    isSelectedVersion(): boolean;\r\n    isVersionMenuEnabled(): boolean;\r\n}\r\n"}}
