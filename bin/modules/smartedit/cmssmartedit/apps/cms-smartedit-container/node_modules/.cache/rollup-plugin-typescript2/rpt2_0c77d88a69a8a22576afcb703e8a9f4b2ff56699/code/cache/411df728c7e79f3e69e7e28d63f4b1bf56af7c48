{"code":"import { __assign, __awaiter, __decorate, __extends, __generator, __metadata } from \"tslib\";\r\n/*\r\n * Copyright (c) 2021 SAP SE or an SAP affiliate company. All rights reserved.\r\n */\r\nimport { CmsitemsRestService, CmsApprovalStatus, IPageService } from 'cmscommons';\r\nimport { PagesFallbacksRestService } from 'cmssmarteditcontainer/dao/PagesFallbacksRestService';\r\nimport { PagesRestService } from 'cmssmarteditcontainer/dao/PagesRestService';\r\nimport { PagesVariationsRestService } from 'cmssmarteditcontainer/dao/PagesVariationsRestService';\r\nimport { assign, isEmpty, isNumber } from 'lodash';\r\nimport { pageChangeEvictionTag, pageEvictionTag, rarelyChangingContent, Cached, GatewayProxied, IExperienceService, IPageInfoService, IUrlService, SeDowngradeService, objectUtils } from 'smarteditcommons';\r\nvar /* @ngInject */ PageService = /** @class */ (function (_super) {\r\n    __extends(/* @ngInject */ PageService, _super);\r\n    function /* @ngInject */ PageService(pagesRestService, pagesFallbacksRestService, pagesVariationsRestService, pageInfoService, cmsitemsRestService, experienceService, urlService) {\r\n        var _this = _super.call(this) || this;\r\n        _this.pagesRestService = pagesRestService;\r\n        _this.pagesFallbacksRestService = pagesFallbacksRestService;\r\n        _this.pagesVariationsRestService = pagesVariationsRestService;\r\n        _this.pageInfoService = pageInfoService;\r\n        _this.cmsitemsRestService = cmsitemsRestService;\r\n        _this.experienceService = experienceService;\r\n        _this.urlService = urlService;\r\n        return _this;\r\n    }\r\n    /* @ngInject */ PageService.prototype.getPageByUuid = function (pageUuid) {\r\n        return this.cmsitemsRestService.getById(pageUuid);\r\n    };\r\n    /* @ngInject */ PageService.prototype.getCurrentPageInfo = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var pageUUID;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.pageInfoService.getPageUUID()];\r\n                    case 1:\r\n                        pageUUID = _a.sent();\r\n                        return [2 /*return*/, this.cmsitemsRestService.getById(pageUUID)];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /* @ngInject */ PageService.prototype.getPageById = function (pageUid) {\r\n        return this.pagesRestService.getById(pageUid);\r\n    };\r\n    /* @ngInject */ PageService.prototype.getCurrentPageInfoByVersion = function (versionId) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var pageUUID;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.pageInfoService.getPageUUID()];\r\n                    case 1:\r\n                        pageUUID = _a.sent();\r\n                        return [2 /*return*/, this.cmsitemsRestService.getByIdAndVersion(pageUUID, versionId)];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /* @ngInject */ PageService.prototype.primaryPageForPageTypeExists = function (pageTypeCode, uriParams) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var page;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.getPaginatedPrimaryPagesForPageType(pageTypeCode, uriParams, {\r\n                            search: null,\r\n                            pageSize: 1,\r\n                            currentPage: 0\r\n                        })];\r\n                    case 1:\r\n                        page = _a.sent();\r\n                        return [2 /*return*/, page.response.length > 0];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /* @ngInject */ PageService.prototype.getPaginatedPrimaryPagesForPageType = function (pageTypeCode, uriParams, fetchPageParams) {\r\n        var itemSearchParams = 'defaultPage:true,pageStatus:ACTIVE';\r\n        var extendedParams = assign({}, uriParams || {}, fetchPageParams || {}, {\r\n            typeCode: pageTypeCode,\r\n            itemSearchParams: itemSearchParams\r\n        });\r\n        if (extendedParams.search) {\r\n            extendedParams.mask = extendedParams.search;\r\n            delete extendedParams.search;\r\n        }\r\n        if (!isNumber(extendedParams.pageSize)) {\r\n            extendedParams.pageSize = 10;\r\n        }\r\n        if (!isNumber(extendedParams.currentPage)) {\r\n            extendedParams.currentPage = 0;\r\n        }\r\n        return this.cmsitemsRestService.get(extendedParams);\r\n    };\r\n    /* @ngInject */ PageService.prototype.isPagePrimary = function (pageUid) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var fallbacks;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.pagesFallbacksRestService.getFallbacksForPageId(pageUid)];\r\n                    case 1:\r\n                        fallbacks = _a.sent();\r\n                        return [2 /*return*/, fallbacks.length === 0];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /* @ngInject */ PageService.prototype.isPagePrimaryWithContext = function (pageUid, uriContext) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var fallbacks;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.pagesFallbacksRestService.getFallbacksForPageIdAndContext(pageUid, uriContext)];\r\n                    case 1:\r\n                        fallbacks = _a.sent();\r\n                        return [2 /*return*/, fallbacks.length === 0];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /* @ngInject */ PageService.prototype.getPrimaryPage = function (variationPageId) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var fallbacks;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.pagesFallbacksRestService.getFallbacksForPageId(variationPageId)];\r\n                    case 1:\r\n                        fallbacks = _a.sent();\r\n                        return [2 /*return*/, fallbacks[0]\r\n                                ? this.pagesRestService.getById(fallbacks[0])\r\n                                : Promise.resolve(null)];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /* @ngInject */ PageService.prototype.getVariationPages = function (primaryPageId) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var variationPageIds;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.pagesVariationsRestService.getVariationsForPrimaryPageId(primaryPageId)];\r\n                    case 1:\r\n                        variationPageIds = _a.sent();\r\n                        return [2 /*return*/, variationPageIds.length > 0\r\n                                ? this.pagesRestService.get(variationPageIds)\r\n                                : Promise.resolve([])];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /* @ngInject */ PageService.prototype.updatePageById = function (pageUid, payload) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var originalPage, originalPagePayload;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.pagesRestService.getById(pageUid)];\r\n                    case 1:\r\n                        originalPage = _a.sent();\r\n                        originalPagePayload = objectUtils.copy(originalPage);\r\n                        payload = __assign(__assign({}, originalPagePayload), payload);\r\n                        return [2 /*return*/, this.pagesRestService.update(pageUid, payload)];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /* @ngInject */ PageService.prototype.forcePageApprovalStatus = function (newPageStatus) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var pageInfo, clonePageInfo;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.getCurrentPageInfo()];\r\n                    case 1:\r\n                        pageInfo = _a.sent();\r\n                        clonePageInfo = Object.assign({}, pageInfo);\r\n                        clonePageInfo.approvalStatus = newPageStatus;\r\n                        clonePageInfo.identifier = pageInfo.uuid;\r\n                        return [2 /*return*/, this.cmsitemsRestService.update(clonePageInfo)];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /* @ngInject */ PageService.prototype.isPageApproved = function (pageParam) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var page;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!(typeof pageParam === 'string')) return [3 /*break*/, 2];\r\n                        return [4 /*yield*/, this.getPageByUuid(pageParam)];\r\n                    case 1:\r\n                        page = _a.sent();\r\n                        return [3 /*break*/, 3];\r\n                    case 2:\r\n                        page = pageParam;\r\n                        _a.label = 3;\r\n                    case 3: return [2 /*return*/, page.approvalStatus === CmsApprovalStatus.APPROVED];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /* @ngInject */ PageService.prototype.buildUriContextForCurrentPage = function (siteId, catalogId, catalogVersion) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var uriContext, experience;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        uriContext = {};\r\n                        if (siteId && catalogId && catalogVersion) {\r\n                            uriContext = this.urlService.buildUriContext(siteId, catalogId, catalogVersion);\r\n                        }\r\n                        if (!isEmpty(uriContext)) {\r\n                            return [2 /*return*/, uriContext];\r\n                        }\r\n                        return [4 /*yield*/, this.experienceService.getCurrentExperience()];\r\n                    case 1:\r\n                        experience = _a.sent();\r\n                        return [2 /*return*/, this.urlService.buildUriContext(experience.pageContext.siteId, experience.pageContext.catalogId, experience.pageContext.catalogVersion)];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    __decorate([\r\n        Cached({ actions: [rarelyChangingContent], tags: [pageEvictionTag] }),\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [String]),\r\n        __metadata(\"design:returntype\", Promise)\r\n    ], /* @ngInject */ PageService.prototype, \"getPageByUuid\", null);\r\n    __decorate([\r\n        Cached({ actions: [rarelyChangingContent], tags: [pageEvictionTag, pageChangeEvictionTag] }),\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", []),\r\n        __metadata(\"design:returntype\", Promise)\r\n    ], /* @ngInject */ PageService.prototype, \"getCurrentPageInfo\", null);\r\n    /* @ngInject */ PageService = __decorate([\r\n        SeDowngradeService(IPageService),\r\n        GatewayProxied(),\r\n        __metadata(\"design:paramtypes\", [PagesRestService,\r\n            PagesFallbacksRestService,\r\n            PagesVariationsRestService,\r\n            IPageInfoService,\r\n            CmsitemsRestService,\r\n            IExperienceService,\r\n            IUrlService])\r\n    ], /* @ngInject */ PageService);\r\n    return /* @ngInject */ PageService;\r\n}(IPageService));\r\nexport { /* @ngInject */ PageService };\r\n//# sourceMappingURL=PageServiceOuter.js.map","references":["/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-commons/dist/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/dao/PagesFallbacksRestService.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/dao/PagesRestService.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/dao/PagesVariationsRestService.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@types/lodash@4.14.159/node_modules/@types/lodash/ts3.1/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts"],"map":"{\"version\":3,\"file\":\"PageServiceOuter.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/services/pages/PageServiceOuter.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/services/pages/PageServiceOuter.d.ts","writeByteOrderMark":false,"text":"import { CmsitemsRestService, CmsApprovalStatus, ICMSPage, IPageService, Page } from 'cmscommons';\r\nimport { PagesFallbacksRestService } from 'cmssmarteditcontainer/dao/PagesFallbacksRestService';\r\nimport { PagesRestService } from 'cmssmarteditcontainer/dao/PagesRestService';\r\nimport { PagesVariationsRestService } from 'cmssmarteditcontainer/dao/PagesVariationsRestService';\r\nimport { IExperienceService, IPageInfoService, IUriContext, IUrlService, Nullable } from 'smarteditcommons';\r\nexport declare class PageService extends IPageService {\r\n    private pagesRestService;\r\n    private pagesFallbacksRestService;\r\n    private pagesVariationsRestService;\r\n    private pageInfoService;\r\n    private cmsitemsRestService;\r\n    private experienceService;\r\n    private urlService;\r\n    constructor(pagesRestService: PagesRestService, pagesFallbacksRestService: PagesFallbacksRestService, pagesVariationsRestService: PagesVariationsRestService, pageInfoService: IPageInfoService, cmsitemsRestService: CmsitemsRestService, experienceService: IExperienceService, urlService: IUrlService);\r\n    getPageByUuid(pageUuid: string): Promise<ICMSPage>;\r\n    getCurrentPageInfo(): Promise<ICMSPage>;\r\n    getPageById(pageUid: string): Promise<ICMSPage>;\r\n    getCurrentPageInfoByVersion(versionId: string | null): Promise<ICMSPage>;\r\n    primaryPageForPageTypeExists(pageTypeCode: string, uriParams?: IUriContext): Promise<boolean>;\r\n    getPaginatedPrimaryPagesForPageType(pageTypeCode: string, uriParams?: IUriContext, fetchPageParams?: {\r\n        search: string;\r\n        pageSize: number;\r\n        currentPage: number;\r\n    }): Promise<Page<ICMSPage>>;\r\n    isPagePrimary(pageUid: string): Promise<boolean>;\r\n    isPagePrimaryWithContext(pageUid: string, uriContext: IUriContext): Promise<boolean>;\r\n    getPrimaryPage(variationPageId: string): Promise<Nullable<ICMSPage>>;\r\n    getVariationPages(primaryPageId: string): Promise<ICMSPage[]>;\r\n    updatePageById(pageUid: string, payload: ICMSPage): Promise<ICMSPage>;\r\n    forcePageApprovalStatus(newPageStatus: CmsApprovalStatus): Promise<ICMSPage>;\r\n    isPageApproved(pageParam: string | ICMSPage): Promise<boolean>;\r\n    buildUriContextForCurrentPage(siteId: Nullable<string>, catalogId: Nullable<string>, catalogVersion: Nullable<string>): Promise<IUriContext>;\r\n}\r\n"}}
