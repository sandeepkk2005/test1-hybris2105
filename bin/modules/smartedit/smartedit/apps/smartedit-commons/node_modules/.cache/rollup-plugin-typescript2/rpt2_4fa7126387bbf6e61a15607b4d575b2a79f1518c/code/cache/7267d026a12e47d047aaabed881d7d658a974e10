{"code":"import { __decorate } from \"tslib\";\r\nimport { SeModule } from 'smarteditcommons/di';\r\n/** @internal */\r\nfunction $exceptionHandler($log) {\r\n    'ngInject';\r\n    var ignorePatterns = [/^Possibly unhandled rejection/];\r\n    var patternsForE2EErrorLogs = [\r\n        /Unexpected request/,\r\n        /No more request expected/ // missing http mock patterns in e2e\r\n    ];\r\n    return function exceptionHandler(exception, cause) {\r\n        /*\r\n         * original exception occuring in a promise based API won't show here\r\n         * the catch set in decoration is necessary to log them\r\n         */\r\n        if (ignorePatterns.some(function (pattern) { return pattern.test(exception); })) {\r\n            return;\r\n        }\r\n        if (patternsForE2EErrorLogs.some(function (pattern) { return pattern.test(exception); })) {\r\n            $log.error(\"E2E mock issue: \" + exception);\r\n            return;\r\n        }\r\n        $log.error(exception);\r\n    };\r\n}\r\nfunction isAjaxError(error) {\r\n    return error.hasOwnProperty('headers');\r\n}\r\n/*\r\n * Helper function used on all known promise based Angular 1.6 APIs\r\n * to handle promise rejection in an AOP fashion through Angular decorators\r\n */\r\nfunction handlePromiseRejections($q, $log, lodash, promise) {\r\n    var defaultFailureCallback = function (error) {\r\n        if (undefined !== error && 'canceled' !== error) {\r\n            if (lodash.isPlainObject(error)) {\r\n                if (!isAjaxError(error)) {\r\n                    $log.error(\"exception caught in promise: \" + JSON.stringify(error));\r\n                }\r\n            }\r\n            else if (!lodash.isBoolean(error)) {\r\n                $log.error(error);\r\n            }\r\n        }\r\n        return $q.reject(error);\r\n    };\r\n    var oldThen = promise.then;\r\n    promise.then = function (successCallback, _failureCallback, notifyCallback) {\r\n        var failureCallback = _failureCallback ? _failureCallback : defaultFailureCallback;\r\n        return oldThen.call(this, successCallback, failureCallback, notifyCallback);\r\n    };\r\n    return promise;\r\n}\r\n/** @internal */\r\nvar /* @ngInject */ ConfigModule = /** @class */ (function () {\r\n    function /* @ngInject */ ConfigModule() {\r\n    }\r\n    /* @ngInject */ ConfigModule = __decorate([\r\n        SeModule({\r\n            providers: [$exceptionHandler],\r\n            /*\r\n             * Decoration all known promise based Angular 1.6 APIs\r\n             * to handle promise rejection in an AOP fashion\r\n             */\r\n            config: function ($qProvider, $provide) {\r\n                'ngInject';\r\n                $qProvider.errorOnUnhandledRejections(true);\r\n                $provide.decorator('$q', function ($delegate, $log, lodash) {\r\n                    'ngInject';\r\n                    var originalWhen = $delegate.when;\r\n                    $delegate.when = function () {\r\n                        if (arguments[0] && !arguments[0].then) {\r\n                            return handlePromiseRejections($delegate, $log, lodash, originalWhen.apply(this, arguments));\r\n                        }\r\n                        else {\r\n                            return originalWhen.apply(this, arguments);\r\n                        }\r\n                    };\r\n                    var originalAll = $delegate.all;\r\n                    $delegate.all = function () {\r\n                        return handlePromiseRejections($delegate, $log, lodash, originalAll.apply($delegate, arguments));\r\n                    };\r\n                    var originalDefer = $delegate.defer;\r\n                    $delegate.defer = function () {\r\n                        var deferred = originalDefer.bind($delegate)();\r\n                        handlePromiseRejections($delegate, $log, lodash, deferred.promise);\r\n                        return deferred;\r\n                    };\r\n                    return $delegate;\r\n                });\r\n                $provide.decorator('$timeout', function ($delegate, $q, $log, lodash) {\r\n                    'ngInject';\r\n                    var originalTimeout = $delegate;\r\n                    function wrappedTimeout() {\r\n                        var p;\r\n                        var args = arguments;\r\n                        if (typeof window.Zone === 'function') {\r\n                            new window.Zone().run(function () {\r\n                                p = handlePromiseRejections($q, $log, lodash, originalTimeout.apply($delegate, args));\r\n                            });\r\n                        }\r\n                        else {\r\n                            p = handlePromiseRejections($q, $log, lodash, originalTimeout.apply($delegate, args));\r\n                        }\r\n                        return p;\r\n                    }\r\n                    lodash.merge(wrappedTimeout, originalTimeout);\r\n                    return wrappedTimeout;\r\n                });\r\n            }\r\n        })\r\n    ], /* @ngInject */ ConfigModule);\r\n    return /* @ngInject */ ConfigModule;\r\n}());\r\nexport { /* @ngInject */ ConfigModule };\r\n//# sourceMappingURL=ConfigModule.js.map","references":["/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@types/lodash@4.14.159/node_modules/@types/lodash/ts3.1/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/di/index.ts"],"map":"{\"version\":3,\"file\":\"ConfigModule.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/services/ConfigModule.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/services/ConfigModule.d.ts","writeByteOrderMark":false,"text":"/** @internal */\r\nexport declare class ConfigModule {\r\n}\r\n"}}
