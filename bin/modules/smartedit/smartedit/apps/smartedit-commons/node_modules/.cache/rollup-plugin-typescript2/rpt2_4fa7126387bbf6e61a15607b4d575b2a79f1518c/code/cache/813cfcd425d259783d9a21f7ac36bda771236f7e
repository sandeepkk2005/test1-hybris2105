{"code":"import { __decorate, __metadata } from \"tslib\";\r\n/*\r\n * Copyright (c) 2021 SAP SE or an SAP affiliate company. All rights reserved.\r\n */\r\nimport * as angular from 'angular';\r\nimport * as lo from 'lodash';\r\nimport { YPopoverTrigger } from '../../components/popover/yPopoverDirective';\r\nimport { SeDirective } from '../../di';\r\nimport { windowUtils, OVERLAY_ID } from '../../utils';\r\nimport { YPopupOverlayUtilsClickOrderService } from './yPopupOverlayUtilsClickOrderService';\r\nimport { YPopupOverlayUtilsDOMCalculations } from './yPopupOverlayUtilsDOMCalculations';\r\nexport var yPopupOverlayUuidPrefix = 'ypo-uuid-_';\r\n/**\r\n *\r\n * **Deprecated since 2005, use {@link PopupOverlayComponent}.**\r\n *\r\n * The yPopupOverlay is meant to be a directive that allows popups/overlays to be displayed attached to any element.\r\n * The element that the directive is applied to is called the anchor element. Once the popup is displayed, it is\r\n * positioned relative to the anchor, depending on the configuration provided.<br />\r\n * <br />\r\n * <h3>Scrolling Limitation</h3>\r\n * In this initial implementation, it appends the popup element to the body, and positions itself relative to body.\r\n * This means that it can handle default window/body scrolling, but if the anchor is contained within an inner\r\n * scrollable DOM element then the positions will not work correctly.\r\n *\r\n * ### Parameters\r\n *\r\n * `yPopupOverlay` - see {@link YPopupDirectiveConfig}.\r\n *\r\n * `yPopupOverlay.halign` - Default `'right'`.\r\n *\r\n * `yPopupOverlay.valign` - Default `'left'`.\r\n *\r\n * `yPopupOverlayTrigger` - see {@link YPopupOverlayTrigger}.\r\n *\r\n * `yPopupOverlayOnShow` - An angular expression executed whenever this overlay is displayed\r\n *\r\n * `yPopupOverlayOnHide` - An angular expression executed whenever this overlay is hidden\r\n *\r\n * @deprecated\r\n */\r\nvar /* @ngInject */ YPopupOverlayDirective = /** @class */ (function () {\r\n    function /* @ngInject */ YPopupOverlayDirective($scope, $element, $compile, $attrs, $timeout, yjQuery, yPopupOverlayUtilsDOMCalculations, yPopupOverlayUtilsClickOrderService) {\r\n        var _this = this;\r\n        this.$scope = $scope;\r\n        this.$element = $element;\r\n        this.$compile = $compile;\r\n        this.$attrs = $attrs;\r\n        this.$timeout = $timeout;\r\n        this.yjQuery = yjQuery;\r\n        this.yPopupOverlayUtilsDOMCalculations = yPopupOverlayUtilsDOMCalculations;\r\n        this.yPopupOverlayUtilsClickOrderService = yPopupOverlayUtilsClickOrderService;\r\n        this.togglePoppup = function ($event) {\r\n            $event.stopPropagation();\r\n            $event.preventDefault();\r\n            return _this.popupDisplayed ? _this.hide() : _this.show();\r\n        };\r\n        this.$scope.closePopupOverlay = function () {\r\n            _this.hide();\r\n        };\r\n    }\r\n    /* @ngInject */ YPopupOverlayDirective.prototype.$onInit = function () {\r\n        this.uuid = lo.uniqueId(yPopupOverlayUuidPrefix);\r\n        this.popupDisplayed = false;\r\n        this.resetPopupSize();\r\n        this.updateTriggers(YPopoverTrigger.Click);\r\n        // only activate\r\n        this.active = !!this.yPopupOverlay;\r\n    };\r\n    /* @ngInject */ YPopupOverlayDirective.prototype.$doCheck = function () {\r\n        if (!this.active) {\r\n            return;\r\n        }\r\n        this.checkPopupSizeChanged();\r\n        if (this.yPopupOverlayTrigger !== this.doCheckTrigger) {\r\n            this.doCheckTrigger = this.yPopupOverlayTrigger;\r\n            this.updateTriggers(this.yPopupOverlayTrigger);\r\n        }\r\n    };\r\n    /* @ngInject */ YPopupOverlayDirective.prototype.$onDestroy = function () {\r\n        if (this.untrigger) {\r\n            this.untrigger();\r\n        }\r\n        this.hide();\r\n    };\r\n    /**\r\n     * Handles click event, triggered by the\r\n     */\r\n    /* @ngInject */ YPopupOverlayDirective.prototype.onBodyElementClicked = function ($event) {\r\n        if (!this.popupElement) {\r\n            return false;\r\n        }\r\n        var isPopupClicked = this.isChildOfElement(this.popupElement, $event.target);\r\n        var isAnchorClicked = this.isChildOfElement(this.$element, $event.target);\r\n        if (!isPopupClicked && !isAnchorClicked) {\r\n            this.hide();\r\n            $event.stopPropagation();\r\n            $event.preventDefault();\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    /**\r\n     * Check if a this.yjQuery element contains a child element.\r\n     * @param parentElement\r\n     * @param childElement Click event target\r\n     * @returns {boolean|*} True if parent contains child\r\n     */\r\n    /* @ngInject */ YPopupOverlayDirective.prototype.isChildOfElement = function (parentElement, childElement) {\r\n        return (parentElement[0] === childElement ||\r\n            this.yjQuery.contains(parentElement[0], childElement));\r\n    };\r\n    /**\r\n     * Calculates the size of the popup content and stores it.\r\n     * Returns true if the size has changed since the previous call.\r\n     */\r\n    /* @ngInject */ YPopupOverlayDirective.prototype.checkPopupSizeChanged = function () {\r\n        if (this.popupElement) {\r\n            var firstChildOfRootPopupElement = this.popupElement.children().first();\r\n            if (!firstChildOfRootPopupElement[0]) {\r\n                return;\r\n            }\r\n            var popupBounds = firstChildOfRootPopupElement[0].getBoundingClientRect();\r\n            var changed = popupBounds.width !== this.popupSize.width ||\r\n                popupBounds.height !== this.popupSize.height;\r\n            this.popupSize = {\r\n                width: popupBounds.width,\r\n                height: popupBounds.height\r\n            };\r\n            if (changed) {\r\n                this.updatePopupElementPositionAndSize();\r\n            }\r\n        }\r\n    };\r\n    /* @ngInject */ YPopupOverlayDirective.prototype.updatePopupElementPositionAndSize = function () {\r\n        if (!this.popupElement) {\r\n            return;\r\n        }\r\n        try {\r\n            // Always calculate based on first child of popup, but apply css to root of popup\r\n            // otherwise any applied css may harm the content by enforcing size\r\n            var anchorBounds = this.$element[0].getBoundingClientRect();\r\n            var position = this.yPopupOverlayUtilsDOMCalculations.calculatePreferredPosition(anchorBounds, this.popupSize.width, this.popupSize.height, this.yPopupOverlay.valign, this.yPopupOverlay.halign);\r\n            this.yPopupOverlayUtilsDOMCalculations.adjustHorizontalToBeInViewport(position);\r\n            this.popupElement.css(position);\r\n        }\r\n        catch (e) {\r\n            // There are racing conditions where some of the elements are not ready yet...\r\n            // Since we're constantly recalculating, this is just an easy way to avoid all these conditions\r\n        }\r\n    };\r\n    /* @ngInject */ YPopupOverlayDirective.prototype.getTemplateString = function () {\r\n        var outerElement = this.yjQuery('<div>');\r\n        outerElement.attr('data-uuid', this.uuid);\r\n        outerElement.addClass('se-popover-outer');\r\n        var innerElement;\r\n        if (this.yPopupOverlay.template) {\r\n            innerElement = this.yjQuery('<div>');\r\n            innerElement.html(this.yPopupOverlay.template);\r\n        }\r\n        else if (this.yPopupOverlay.templateUrl) {\r\n            innerElement = this.yjQuery('<data-ng-include>');\r\n            innerElement.attr('src', \"'\" + this.yPopupOverlay.templateUrl + \"'\");\r\n        }\r\n        else {\r\n            throw new Error('yPositiongetTemplateString() - Missing template');\r\n        }\r\n        innerElement.addClass('se-popover-inner');\r\n        outerElement.append(innerElement);\r\n        return outerElement[0].outerHTML;\r\n    };\r\n    /* @ngInject */ YPopupOverlayDirective.prototype.hide = function () {\r\n        var _this = this;\r\n        if (!this.popupDisplayed) {\r\n            return;\r\n        }\r\n        this.yPopupOverlayUtilsClickOrderService.unregister(this);\r\n        if (this.popupElementScope) {\r\n            this.popupElementScope.$destroy();\r\n            this.popupElementScope = null;\r\n        }\r\n        if (this.popupElement) {\r\n            this.popupElement.remove();\r\n            this.popupElement = null;\r\n        }\r\n        if (this.$attrs.yPopupOverlayOnHide) {\r\n            // We want to evaluate this angular expression inside of a digest cycle\r\n            this.$timeout(function () { return _this.yPopupOverlayOnHide(); });\r\n        }\r\n        this.resetPopupSize();\r\n        this.popupDisplayed = false;\r\n    };\r\n    /* @ngInject */ YPopupOverlayDirective.prototype.show = function () {\r\n        var _this = this;\r\n        if (this.popupDisplayed) {\r\n            return;\r\n        }\r\n        var popupElement = this.getTemplateString();\r\n        this.popupElementScope = this.$scope.$new(false);\r\n        this.popupElement = this.$compile(popupElement)(this.popupElementScope);\r\n        var containerElement = windowUtils.isIframe()\r\n            ? this.yjQuery('#' + OVERLAY_ID)\r\n            : this.yjQuery('body');\r\n        this.updatePopupElementPositionAndSize();\r\n        this.popupElement.appendTo(containerElement);\r\n        angular.element(function () {\r\n            _this.updatePopupElementPositionAndSize();\r\n            _this.yPopupOverlayUtilsClickOrderService.register(_this);\r\n            if (_this.$attrs.yPopupOverlayOnShow) {\r\n                // We want to evaluate this angular expression inside of a digest cycle\r\n                _this.$timeout(function () {\r\n                    _this.yPopupOverlayOnShow();\r\n                });\r\n            }\r\n        });\r\n        this.popupDisplayed = true;\r\n    };\r\n    /* @ngInject */ YPopupOverlayDirective.prototype.updateTriggers = function (trigger) {\r\n        var _this = this;\r\n        if (this.oldTrigger === trigger) {\r\n            return;\r\n        }\r\n        this.oldTrigger = trigger;\r\n        if (this.untrigger) {\r\n            this.untrigger();\r\n        }\r\n        if (trigger === YPopoverTrigger.Click) {\r\n            angular.element(this.$element).on('click', this.togglePoppup);\r\n            this.untrigger = function () {\r\n                angular.element(_this.$element).off('click', _this.togglePoppup);\r\n            };\r\n            return;\r\n        }\r\n        if (trigger === 'true' || trigger === true) {\r\n            this.show();\r\n        }\r\n        else {\r\n            this.hide();\r\n        }\r\n    };\r\n    /* @ngInject */ YPopupOverlayDirective.prototype.resetPopupSize = function () {\r\n        this.popupSize = {\r\n            width: 0,\r\n            height: 0\r\n        };\r\n    };\r\n    /* @ngInject */ YPopupOverlayDirective = __decorate([\r\n        SeDirective({\r\n            selector: '[y-popup-overlay]',\r\n            scope: false,\r\n            inputs: [\r\n                'yPopupOverlay:=',\r\n                'yPopupOverlayTrigger:=',\r\n                'yPopupOverlayOnShow:&',\r\n                'yPopupOverlayOnHide:&'\r\n            ]\r\n        }),\r\n        __metadata(\"design:paramtypes\", [Object, Object, Function, Object, Function, Function, YPopupOverlayUtilsDOMCalculations,\r\n            YPopupOverlayUtilsClickOrderService])\r\n    ], /* @ngInject */ YPopupOverlayDirective);\r\n    return /* @ngInject */ YPopupOverlayDirective;\r\n}());\r\nexport { /* @ngInject */ YPopupOverlayDirective };\r\n//# sourceMappingURL=yPopupOverlayDirective.js.map","references":["/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@types/angular@1.7.3/node_modules/@types/angular/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@types/lodash@4.14.159/node_modules/@types/lodash/ts3.1/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/components/popover/yPopoverDirective.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/di/index.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/utils/index.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/directives/yPopupOverlay/yPopupEngineService.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/directives/yPopupOverlay/yPopupOverlayUtilsClickOrderService.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/directives/yPopupOverlay/yPopupOverlayUtilsDOMCalculations.ts"],"map":"{\"version\":3,\"file\":\"yPopupOverlayDirective.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/directives/yPopupOverlay/yPopupOverlayDirective.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/directives/yPopupOverlay/yPopupOverlayDirective.d.ts","writeByteOrderMark":false,"text":"/// <reference types=\"jquery\" />\r\n/// <reference types=\"eonasdan-bootstrap-datetimepicker\" />\r\n/// <reference types=\"angular-mocks\" />\r\nimport * as angular from 'angular';\r\nimport { YPopupOverlayScope } from './yPopupEngineService';\r\nimport { YPopupOverlayUtilsClickOrderService } from './yPopupOverlayUtilsClickOrderService';\r\nimport { YPopupOverlayUtilsDOMCalculations } from './yPopupOverlayUtilsDOMCalculations';\r\n/**\r\n * A string, representing the prefix of the generated UUID for each yPopupOverlay.\r\n * This uuid is added as an attribute to the overlay DOM element.\r\n */\r\nexport interface YPopupOverlaySize {\r\n    width: number;\r\n    height: number;\r\n}\r\nexport declare const yPopupOverlayUuidPrefix = \"ypo-uuid-_\";\r\n/**\r\n * A popup overlay configuration object that must contain either a template or a templateUrl.\r\n */\r\nexport interface YPopupDirectiveConfig {\r\n    /**\r\n     * Aligns the popup vertically relative to the anchor (element).\r\n     */\r\n    valign: 'bottom' | 'top';\r\n    /**\r\n     * Aligns the popup horizontally relative to the anchor (element).\r\n     */\r\n    halign: 'right' | 'left';\r\n    template: string;\r\n    templateUrl: string;\r\n}\r\n/**\r\n *\r\n * **Deprecated since 2005, use {@link PopupOverlayComponent}.**\r\n *\r\n * The yPopupOverlay is meant to be a directive that allows popups/overlays to be displayed attached to any element.\r\n * The element that the directive is applied to is called the anchor element. Once the popup is displayed, it is\r\n * positioned relative to the anchor, depending on the configuration provided.<br />\r\n * <br />\r\n * <h3>Scrolling Limitation</h3>\r\n * In this initial implementation, it appends the popup element to the body, and positions itself relative to body.\r\n * This means that it can handle default window/body scrolling, but if the anchor is contained within an inner\r\n * scrollable DOM element then the positions will not work correctly.\r\n *\r\n * ### Parameters\r\n *\r\n * `yPopupOverlay` - see {@link YPopupDirectiveConfig}.\r\n *\r\n * `yPopupOverlay.halign` - Default `'right'`.\r\n *\r\n * `yPopupOverlay.valign` - Default `'left'`.\r\n *\r\n * `yPopupOverlayTrigger` - see {@link YPopupOverlayTrigger}.\r\n *\r\n * `yPopupOverlayOnShow` - An angular expression executed whenever this overlay is displayed\r\n *\r\n * `yPopupOverlayOnHide` - An angular expression executed whenever this overlay is hidden\r\n *\r\n * @deprecated\r\n */\r\nexport declare class YPopupOverlayDirective {\r\n    private $scope;\r\n    private $element;\r\n    private $compile;\r\n    private $attrs;\r\n    private $timeout;\r\n    private yjQuery;\r\n    private yPopupOverlayUtilsDOMCalculations;\r\n    private yPopupOverlayUtilsClickOrderService;\r\n    uuid: string;\r\n    private popupElement;\r\n    private popupSize;\r\n    private popupDisplayed;\r\n    private popupElementScope;\r\n    private oldTrigger;\r\n    private untrigger;\r\n    private doCheckTrigger;\r\n    private active;\r\n    private yPopupOverlayTrigger;\r\n    private yPopupOverlay;\r\n    private yPopupOverlayOnShow;\r\n    private yPopupOverlayOnHide;\r\n    constructor($scope: YPopupOverlayScope, $element: JQuery<Element>, $compile: angular.ICompileService, $attrs: angular.IAttributes, $timeout: angular.ITimeoutService, yjQuery: JQueryStatic, yPopupOverlayUtilsDOMCalculations: YPopupOverlayUtilsDOMCalculations, yPopupOverlayUtilsClickOrderService: YPopupOverlayUtilsClickOrderService);\r\n    $onInit(): void;\r\n    $doCheck(): void;\r\n    $onDestroy(): void;\r\n    /**\r\n     * Handles click event, triggered by the\r\n     */\r\n    onBodyElementClicked($event: Event): boolean;\r\n    /**\r\n     * Check if a this.yjQuery element contains a child element.\r\n     * @param parentElement\r\n     * @param childElement Click event target\r\n     * @returns {boolean|*} True if parent contains child\r\n     */\r\n    private isChildOfElement;\r\n    /**\r\n     * Calculates the size of the popup content and stores it.\r\n     * Returns true if the size has changed since the previous call.\r\n     */\r\n    private checkPopupSizeChanged;\r\n    private updatePopupElementPositionAndSize;\r\n    private togglePoppup;\r\n    private getTemplateString;\r\n    private hide;\r\n    private show;\r\n    private updateTriggers;\r\n    private resetPopupSize;\r\n}\r\n"}}
