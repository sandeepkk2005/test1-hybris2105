{"code":"import { __awaiter, __decorate, __generator, __metadata } from \"tslib\";\r\nimport { ICatalogService, ModalWizard, SeDowngradeService } from 'smarteditcommons';\r\nimport { PageFacade } from '../../../facades';\r\nimport { ClonePageWizardComponent } from './ClonePageWizardComponent';\r\nvar /* @ngInject */ ClonePageWizardService = /** @class */ (function () {\r\n    function /* @ngInject */ ClonePageWizardService(modalWizard, catalogService, pageFacade) {\r\n        this.modalWizard = modalWizard;\r\n        this.catalogService = catalogService;\r\n        this.pageFacade = pageFacade;\r\n    }\r\n    /**\r\n     * When called, this method opens a modal window containing a wizard to clone an existing page.\r\n     *\r\n     * @param pageData An object containing the pageData when the clone page wizard is opened from the page list.\r\n     * @returns A promise that will resolve when the modal wizard is closed or reject if it's canceled.\r\n     *\r\n     */\r\n    /* @ngInject */ ClonePageWizardService.prototype.openClonePageWizard = function (pageData) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var uriContext, _a;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        if (!pageData) return [3 /*break*/, 2];\r\n                        return [4 /*yield*/, this.catalogService.retrieveUriContext()];\r\n                    case 1:\r\n                        _a = _b.sent();\r\n                        return [3 /*break*/, 4];\r\n                    case 2: return [4 /*yield*/, this.pageFacade.retrievePageUriContext()];\r\n                    case 3:\r\n                        _a = _b.sent();\r\n                        _b.label = 4;\r\n                    case 4:\r\n                        uriContext = _a;\r\n                        return [2 /*return*/, this.modalWizard.open({\r\n                                component: ClonePageWizardComponent,\r\n                                properties: {\r\n                                    uriContext: uriContext,\r\n                                    basePageUUID: pageData ? pageData.uuid : undefined\r\n                                }\r\n                            })];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /* @ngInject */ ClonePageWizardService = __decorate([\r\n        SeDowngradeService(),\r\n        __metadata(\"design:paramtypes\", [ModalWizard,\r\n            ICatalogService,\r\n            PageFacade])\r\n    ], /* @ngInject */ ClonePageWizardService);\r\n    return /* @ngInject */ ClonePageWizardService;\r\n}());\r\nexport { /* @ngInject */ ClonePageWizardService };\r\n//# sourceMappingURL=ClonePageWizardService.js.map","references":["/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-commons/dist/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/facades/index.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/pages/clonePageWizard/ClonePageWizardComponent.ts"],"map":"{\"version\":3,\"file\":\"ClonePageWizardService.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../src/components/pages/clonePageWizard/ClonePageWizardService.ts\"],\"names\":[],\"mappings\":\";AAIA,OAAO,EAAE,eAAe,EAAE,WAAW,EAAE,kBAAkB,EAAE,MAAM,kBAAkB,CAAC;AACpF,OAAO,EAAE,UAAU,EAAE,MAAM,kBAAkB,CAAC;AAC9C,OAAO,EAAE,wBAAwB,EAAE,MAAM,4BAA4B,CAAC;AAGtE;IACI,gDACY,WAAwB,EACxB,cAA+B,EAC/B,UAAsB;QAFtB,gBAAW,GAAX,WAAW,CAAa;QACxB,mBAAc,GAAd,cAAc,CAAiB;QAC/B,eAAU,GAAV,UAAU,CAAY;IAC/B,CAAC;IAEJ;;;;;;OAMG;IAEU,oEAAmB,GAAhC,UAAiC,QAAmB;;;;;;6BAC7B,QAAQ,EAAR,wBAAQ;wBACrB,qBAAM,IAAI,CAAC,cAAc,CAAC,kBAAkB,EAAE,EAAA;;wBAA9C,KAAA,SAA8C,CAAA;;4BAC9C,qBAAM,IAAI,CAAC,UAAU,CAAC,sBAAsB,EAAE,EAAA;;wBAA9C,KAAA,SAA8C,CAAA;;;wBAF9C,UAAU,KAEoC;wBAEpD,sBAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC;gCACzB,SAAS,EAAE,wBAAwB;gCACnC,UAAU,EAAE;oCACR,UAAU,YAAA;oCACV,YAAY,EAAE,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,SAAS;iCACrD;6BACJ,CAAC,EAAC;;;;KACN;IA3BL;QADC,kBAAkB,EAAE;yCAGQ,WAAW;YACR,eAAe;YACnB,UAAU;8CAwBrC;IAAD,6CAAC;CAAA,AA5BD,IA4BC\"}","dts":{"name":"/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/components/pages/clonePageWizard/ClonePageWizardService.d.ts","writeByteOrderMark":false,"text":"import { ICMSPage } from 'cmscommons';\r\nimport { ICatalogService, ModalWizard } from 'smarteditcommons';\r\nimport { PageFacade } from '../../../facades';\r\nexport declare class ClonePageWizardService {\r\n    private modalWizard;\r\n    private catalogService;\r\n    private pageFacade;\r\n    constructor(modalWizard: ModalWizard, catalogService: ICatalogService, pageFacade: PageFacade);\r\n    /**\r\n     * When called, this method opens a modal window containing a wizard to clone an existing page.\r\n     *\r\n     * @param pageData An object containing the pageData when the clone page wizard is opened from the page list.\r\n     * @returns A promise that will resolve when the modal wizard is closed or reject if it's canceled.\r\n     *\r\n     */\r\n    openClonePageWizard(pageData?: ICMSPage): Promise<any>;\r\n}\r\n"}}
