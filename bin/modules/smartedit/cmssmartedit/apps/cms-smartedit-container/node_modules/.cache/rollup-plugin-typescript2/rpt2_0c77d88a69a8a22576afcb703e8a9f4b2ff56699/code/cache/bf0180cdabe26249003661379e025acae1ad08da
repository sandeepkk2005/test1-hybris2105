{"code":"import { __awaiter, __decorate, __generator, __metadata } from \"tslib\";\r\nimport { Component, Input, ChangeDetectionStrategy } from '@angular/core';\r\nimport { CmsitemsRestService, NAVIGATION_MANAGEMENT_RESOURCE_URI, NAVIGATION_NODE_ROOT_NODE_UID } from 'cmscommons';\r\nimport { SeDowngradeComponent, SystemEventService, URIBuilder } from 'smarteditcommons';\r\nimport { SELECTED_NODE } from '../navigationNodeConstants';\r\nimport { NavigationNodePickerRenderComponent } from './NavigationNodePickerRenderComponent';\r\nwindow.__smartedit__.addDecoratorPayload(\"Component\", \"NavigationNodePickerComponent\", {\r\n    selector: 'se-navigation-node-picker',\r\n    template: \"<div class=\\\"categoryTable\\\"><div class=\\\"tablehead clearfix hidden-xs se-navigation-editor-tree__head\\\"><div translate=\\\"se.ytree.template.header.name\\\" class=\\\"se-navigation-editor-tree__name col-md-offset-1 col-sm-5\\\"></div></div><se-tree [nodeUri]=\\\"nodeURI\\\" [rootNodeUid]=\\\"rootNodeUid\\\" [nodeComponent]=\\\"nodePickerRenderComponent\\\" [removeDefaultTemplate]=\\\"removeDefaultTemplate\\\" [nodeActions]=\\\"actions\\\"></se-tree></div>\",\r\n    changeDetection: ChangeDetectionStrategy.OnPush\r\n});\r\nvar /* @ngInject */ NavigationNodePickerComponent = /** @class */ (function () {\r\n    function /* @ngInject */ NavigationNodePickerComponent(cmsitemsRestService, systemEventService) {\r\n        this.cmsitemsRestService = cmsitemsRestService;\r\n        this.systemEventService = systemEventService;\r\n        this.nodePickerRenderComponent = NavigationNodePickerRenderComponent;\r\n        this.removeDefaultTemplate = true;\r\n        this.rootNodeUid = NAVIGATION_NODE_ROOT_NODE_UID;\r\n        this.editable = true;\r\n    }\r\n    /* @ngInject */ NavigationNodePickerComponent.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        this.nodeURI = new URIBuilder(NAVIGATION_MANAGEMENT_RESOURCE_URI)\r\n            .replaceParams(this.uriContext)\r\n            .build();\r\n        this.actions = {\r\n            pick: function (treeService, node) { return __awaiter(_this, void 0, void 0, function () {\r\n                var requestParams, result, foundNode, idObject;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            requestParams = {\r\n                                pageSize: 10,\r\n                                currentPage: 0,\r\n                                mask: node.uid,\r\n                                typeCode: 'CMSNavigationNode',\r\n                                itemSearchParams: ''\r\n                            };\r\n                            return [4 /*yield*/, this.cmsitemsRestService.get(requestParams)];\r\n                        case 1:\r\n                            result = _a.sent();\r\n                            foundNode = result.response.find(function (element) { return element.uid === node.uid; });\r\n                            idObject = {\r\n                                nodeUuid: foundNode === null || foundNode === void 0 ? void 0 : foundNode.uuid,\r\n                                nodeUid: node.uid\r\n                            };\r\n                            this.systemEventService.publishAsync(SELECTED_NODE, idObject);\r\n                            return [2 /*return*/];\r\n                    }\r\n                });\r\n            }); },\r\n            isEditable: function () { return _this.editable; }\r\n        };\r\n    };\r\n    __decorate([\r\n        Input(),\r\n        __metadata(\"design:type\", Object)\r\n    ], /* @ngInject */ NavigationNodePickerComponent.prototype, \"uriContext\", void 0);\r\n    __decorate([\r\n        Input(),\r\n        __metadata(\"design:type\", Boolean)\r\n    ], /* @ngInject */ NavigationNodePickerComponent.prototype, \"editable\", void 0);\r\n    /* @ngInject */ NavigationNodePickerComponent = __decorate([\r\n        SeDowngradeComponent(),\r\n        Component({\r\n            selector: 'se-navigation-node-picker',\r\n            template: \"<div class=\\\"categoryTable\\\"><div class=\\\"tablehead clearfix hidden-xs se-navigation-editor-tree__head\\\"><div translate=\\\"se.ytree.template.header.name\\\" class=\\\"se-navigation-editor-tree__name col-md-offset-1 col-sm-5\\\"></div></div><se-tree [nodeUri]=\\\"nodeURI\\\" [rootNodeUid]=\\\"rootNodeUid\\\" [nodeComponent]=\\\"nodePickerRenderComponent\\\" [removeDefaultTemplate]=\\\"removeDefaultTemplate\\\" [nodeActions]=\\\"actions\\\"></se-tree></div>\",\r\n            changeDetection: ChangeDetectionStrategy.OnPush\r\n        }),\r\n        __metadata(\"design:paramtypes\", [CmsitemsRestService,\r\n            SystemEventService])\r\n    ], /* @ngInject */ NavigationNodePickerComponent);\r\n    return /* @ngInject */ NavigationNodePickerComponent;\r\n}());\r\nexport { /* @ngInject */ NavigationNodePickerComponent };\r\n//# sourceMappingURL=NavigationNodePickerComponent.js.map","references":["/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular/core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-commons/dist/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/legacyGenericEditor/navigationNode/types.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/legacyGenericEditor/navigationNode/components/navigationNodeConstants.ts","/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/legacyGenericEditor/navigationNode/components/navigationNodePicker/NavigationNodePickerRenderComponent.ts"],"map":"{\"version\":3,\"file\":\"NavigationNodePickerComponent.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../../../src/components/legacyGenericEditor/navigationNode/components/navigationNodePicker/NavigationNodePickerComponent.ts\"],\"names\":[],\"mappings\":\";AACA,OAAO,EAAE,SAAS,EAAU,KAAK,EAAE,uBAAuB,EAAE,MAAM,eAAe,CAAC;AAClF,OAAO,EACH,mBAAmB,EACnB,kCAAkC,EAElC,6BAA6B,EAChC,MAAM,YAAY,CAAC;AACpB,OAAO,EACH,oBAAoB,EACpB,kBAAkB,EAElB,UAAU,EAKb,MAAM,kBAAkB,CAAC;AAE1B,OAAO,EAAE,aAAa,EAAE,MAAM,4BAA4B,CAAC;AAC3D,OAAO,EAAE,mCAAmC,EAAE,MAAM,uCAAuC,CAAC;uFAGjF;IACP,QAAQ,EAAE,2BAA2B;IACrC,QAAQ,EAAE,kbAAga;IAC1a,eAAe,EAAE,uBAAuB,CAAC,MAAM;CAClD;AACD;IAUI,uDACY,mBAAwC,EACxC,kBAAsC;QADtC,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,uBAAkB,GAAlB,kBAAkB,CAAoB;QAE9C,IAAI,CAAC,yBAAyB,GAAG,mCAAmC,CAAC;QACrE,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC;QAClC,IAAI,CAAC,WAAW,GAAG,6BAA6B,CAAC;QACjD,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;IACzB,CAAC;IAED,gEAAQ,GAAR;QAAA,iBA6BC;QA5BG,IAAI,CAAC,OAAO,GAAG,IAAI,UAAU,CAAC,kCAAkC,CAAC;aAC5D,aAAa,CAAC,IAAI,CAAC,UAAU,CAAC;aAC9B,KAAK,EAAE,CAAC;QAEb,IAAI,CAAC,OAAO,GAAG;YACX,IAAI,EAAE,UACF,WAAmE,EACnE,IAAwB;;;;;4BAElB,aAAa,GAAkB;gCACjC,QAAQ,EAAE,EAAE;gCACZ,WAAW,EAAE,CAAC;gCACd,IAAI,EAAE,IAAI,CAAC,GAAG;gCACd,QAAQ,EAAE,mBAAmB;gCAC7B,gBAAgB,EAAE,EAAE;6BACvB,CAAC;4BAEa,qBAAM,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,aAAa,CAAC,EAAA;;4BAA1D,MAAM,GAAG,SAAiD;4BAC1D,SAAS,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAC,OAAO,IAAK,OAAA,OAAO,CAAC,GAAG,KAAK,IAAI,CAAC,GAAG,EAAxB,CAAwB,CAAC,CAAC;4BACxE,QAAQ,GAA0B;gCACpC,QAAQ,EAAE,SAAS,aAAT,SAAS,uBAAT,SAAS,CAAE,IAAI;gCACzB,OAAO,EAAE,IAAI,CAAC,GAAG;6BACpB,CAAC;4BACF,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC,aAAa,EAAE,QAAQ,CAAC,CAAC;;;;iBACjE;YAED,UAAU,EAAE,cAAe,OAAA,KAAI,CAAC,QAAQ,EAAb,CAAa;SAC3C,CAAC;IACN,CAAC;IAhDQ;QAAR,KAAK,EAAE;;qFAAyB;IACxB;QAAR,KAAK,EAAE;;mFAAmB;IAF/B;QANC,oBAAoB,EAAE;QACtB,SAAS,CAAC;YACP,QAAQ,EAAE,2BAA2B;YACrC,QAAQ,EAAE,kbAAga;YAC1a,eAAe,EAAE,uBAAuB,CAAC,MAAM;SAClD,CAAC;yCAYmC,mBAAmB;YACpB,kBAAkB;qDAsCrD;IAAD,oDAAC;CAAA,AAlDD,IAkDC\"}","dts":{"name":"/Users/sandeepkalpane/Data/hybris2105/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/components/legacyGenericEditor/navigationNode/components/navigationNodePicker/NavigationNodePickerComponent.d.ts","writeByteOrderMark":false,"text":"import { OnInit } from '@angular/core';\r\nimport { CmsitemsRestService } from 'cmscommons';\r\nimport { SystemEventService, IUriContext, TypedMap } from 'smarteditcommons';\r\nimport { NavigationNodePickerRenderComponent } from './NavigationNodePickerRenderComponent';\r\nexport declare class NavigationNodePickerComponent implements OnInit {\r\n    private cmsitemsRestService;\r\n    private systemEventService;\r\n    uriContext: IUriContext;\r\n    editable: boolean;\r\n    nodeURI: string;\r\n    rootNodeUid: string;\r\n    removeDefaultTemplate: boolean;\r\n    actions: TypedMap<(...args: any[]) => void>;\r\n    nodePickerRenderComponent: typeof NavigationNodePickerRenderComponent;\r\n    constructor(cmsitemsRestService: CmsitemsRestService, systemEventService: SystemEventService);\r\n    ngOnInit(): void;\r\n}\r\n"}}
